---
layout: post
categories: Linux
title: Win10家庭版WSL2安装Centos7.8
meta: Win10家庭版WSL2安装Centos7.8
---
* content
{:toc}

## 正文

### WSL2安装

**步骤 1** - 检查运行 WSL 2 的要求

WSL2对Win10版本的要求：

    对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。
    对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。
    低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手更新 Windows 版本。

win + R 输入 `winver` 确定。

如果不满足，更新版本。

**步骤 2** - 启用适用于 Linux 的 Windows 子系统

以管理员身份打开 PowerShell 并运行：
> dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

**步骤 3** - 启用虚拟机功能

以管理员身份打开 PowerShell 并运行：
> dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

重新启动 计算机，以完成 WSL 安装并更新到 WSL 2。

**步骤 4** - 下载 Linux 内核更新包

PowerShell 输入：`systeminfo` 查看 "System Type" 确认 系统类型。

下载 WSL2 Linux 内核更新包，如 x64 的 [https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi](https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi) 。

运行上一步中下载的更新包。 （双击以运行 - 系统将提示你提供提升的权限，选择“是”以批准此安装。）

**步骤 5** - 将 WSL 2 设置为默认版本

打开 PowerShell，将 WSL 2 设置为默认版本：
```
wsl --set-default-version 2
```

这时WSL2就安装完成，查看帮助：
```
wsl --help
```

**步骤 6** - 安装所选的 Linux 分发

如果想用Ubuntu等Linux，可以在 微软软件商店 下载安装。Centos在这里是收费的，可以选择手动安装。

**上述细节**

```
Windows PowerShell
版权所有 (C) Microsoft Corporation。保留所有权利。

尝试新的跨平台 PowerShell https://aka.ms/pscore6

PS C:\Windows\system32> dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

部署映像服务和管理工具
版本: 10.0.19041.844

映像版本: 10.0.19043.1165

启用一个或多个功能
[==========================100.0%==========================]
操作成功完成。
PS C:\Windows\system32>
PS C:\Windows\system32>
PS C:\Windows\system32> dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

部署映像服务和管理工具
版本: 10.0.19041.844

映像版本: 10.0.19043.1165

启用一个或多个功能
[==========================100.0%==========================]
操作成功完成。
PS C:\Windows\system32>
PS C:\Windows\system32>
PS C:\Windows\system32> systeminfo | find "System Type"
PS C:\Windows\system32>
PS C:\Windows\system32> systeminfo | find "系统类型"
FIND: 参数格式不正确
PS C:\Windows\system32> systeminfo

主机名:           BAIYANG-PC
OS 名称:          Microsoft Windows 10 家庭中文版
OS 版本:          10.0.19043 暂缺 Build 19043
OS 制造商:        Microsoft Corporation
OS 配置:          独立工作站
OS 构建类型:      Multiprocessor Free
注册的所有人:     baiyang@email.com
注册的组织:
产品 ID:          00342-33297-06537-AAOEM
初始安装日期:     2020/8/19, 21:57:21
系统启动时间:     2021/8/24, 20:46:12
系统制造商:       LENOVO
系统型号:         20FWA020CD
系统类型:         x64-based PC
处理器:           安装了 1 个处理器。
                  [01]: Intel64 Family 6 Model 94 Stepping 3 GenuineIntel ~2300 Mhz
BIOS 版本:        LENOVO R07ET72W (2.12 ), 2016/10/28
Windows 目录:     C:\Windows
系统目录:         C:\Windows\system32
启动设备:         \Device\HarddiskVolume1
系统区域设置:     zh-cn;中文(中国)
输入法区域设置:   zh-cn;中文(中国)
时区:             (UTC+08:00) 北京，重庆，香港特别行政区，乌鲁木齐
物理内存总量:     24,441 MB
可用的物理内存:   19,202 MB
虚拟内存: 最大值: 28,025 MB
虚拟内存: 可用:   22,608 MB
虚拟内存: 使用中: 5,417 MB
页面文件位置:     C:\pagefile.sys
域:               WORKGROUP
登录服务器:       \\BAIYANG-PC
修补程序:         安装了 14 个修补程序。
                  [01]: KB5004331
                  [02]: KB4561600
                  [03]: KB4570334
                  [04]: KB4576754
                  [05]: KB4577266
                  [06]: KB4577586
                  [07]: KB4580325
                  [08]: KB4586864
                  [09]: KB4589212
                  [10]: KB4593175
                  [11]: KB4598481
                  [12]: KB5000736
                  [13]: KB5005033
                  [14]: KB5005260
网卡:             安装了 4 个 NIC。
                  [01]: Intel(R) Ethernet Connection (2) I219-LM
                      连接名:      以太网
                      状态:        媒体连接已中断
                  [02]: Intel(R) Dual Band Wireless-AC 8260
                      连接名:      WLAN
                      启用 DHCP:   是
                      DHCP 服务器: 192.168.123.1
                      IP 地址
                        [01]: 192.168.123.163
                        [02]: fe80::b42d:38e0:7af1:eb6f
                  [03]: VirtualBox Host-Only Ethernet Adapter
                      连接名:      VirtualBox Host-Only Network
                      启用 DHCP:   否
                      IP 地址
                        [01]: 192.168.56.1
                        [02]: fe80::350e:3a2e:501b:4a41
                  [04]: TAP-Windows Adapter V9
                      连接名:      以太网 3
                      状态:        媒体连接已中断
Hyper-V 要求:     虚拟机监视器模式扩展: 是
                  固件中已启用虚拟化: 是
                  二级地址转换: 是
                  数据执行保护可用: 是
PS C:\Windows\system32>
```

```
PS C:\Users\zhuyi> wsl --list --verbose
适用于 Linux 的 Windows 子系统没有已安装的分发版。
可以通过访问 Microsoft Store 来安装分发版:
https://aka.ms/wslstore
PS C:\Users\zhuyi> wsl --set-default-version 2
有关与 WSL 2 的主要区别的信息，请访问 https://aka.ms/wsl2
操作成功完成。
PS C:\Users\zhuyi>
PS C:\Users\zhuyi>
PS C:\Users\zhuyi> wsl --help
版权所有 (c) Microsoft Corporation。保留所有权利。

用法: wsl.exe [参数] [选项...] [命令行]

运行 Linux 二进制文件的参数:

    如果未提供命令行，wsl.exe 将启动默认 shell。

    --exec, -e <命令行>
        在不使用默认 Linux Shell 的情况下执行指定的命令。

    --
        按原样传递其余命令行。

选项:
    --distribution, -d <Distro>
        运行指定的发行版。

    --user, -u <UserName>
        以指定用户身份运行。

用于管理适用于 Linux 的 Windows 子系统的参数:

    --help
        显示用法信息。

    --install [选项]
        安装额外的适用于 Linux 的 Windows 子系统分发。
         要获得有效分发列表，请使用“wsl --list --online”。

        选项:
            --distribution, -d [参数]
                按名称下载并安装分发。

                参数:
                    有效分发名称(不区分大小写)。

                示例:
                    wsl --install -d Ubuntu
                    wsl --install --distribution Debian

    --set-default-version <版本>
        更改新分发的默认安装版本。

      --shutdown
         立即终止所有运行的分发及 WSL 2
        轻型工具虚拟机。

         --status
           显示适用于 Linux 的 Windows 子系统的状态。

    --update [选项]
        如果未指定任何选项，则 WSL 2 内核将更新
        到最新版本。

             选项:
         --rollback
                还原到 WSL 2 内核的先前版本。

用于管理适用于 Linux 的 Windows 子系统中的分发的参数:

    --set-default-version <版本>
         将分发导出到 tar 文件。
        对于标准输出，文件名可以是 –。

    --import <分发> <安装位置> <文件名> [选项]
            将指定的 tar 文件作为新分发导入。
          对于标准输入，文件名可以是 –。

        选项:
            --version <版本>
                指定要用于新分发的版本。

    --list, -l [选项]
        列出分发。

        选项:
            --all
                列出所有分发，包括
        当前正在安装或卸载的分发。

            --running
                仅列出当前正在运行的分发。

            --quiet, -q
                仅显示分发名称。

            --verbose, -v
                显示所有分发的详细信息。

            --online, -o
                显示使用“wsl --install”进行安装的可用分发列表。

    --set-default, -s <分发>
        将分发设置为默认值。

    --set-version <分发> <版本>
        更改指定分发的版本。

    --terminate, -t <分发>
        终止指定的分发。

    --unregister <分发>
        注销分发并删除根文件系统。
PS C:\Users\zhuyi>
```

### 环境配置

为了管理虚拟机包，我们可以使用 LxRunOffline 。

**安装 Chocolatey**

Chocolatey是一个Windows下的包管理器，类似于Linux下的apt-get或yum。

以管理员身份打开 PowerShell 并运行：
```
Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
```

输出：
```
PS C:\Windows\system32>
PS C:\Windows\system32> Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
Forcing web requests to allow TLS v1.2 (Required for requests to Chocolatey.org)
Getting latest version of the Chocolatey package for download.
Not using proxy.
Getting Chocolatey from https://community.chocolatey.org/api/v2/package/chocolatey/0.10.15.
Downloading https://community.chocolatey.org/api/v2/package/chocolatey/0.10.15 to C:\Users\zhuyi\AppData\Local\Temp\chocolatey\chocoInstall\chocolatey.zip
Not using proxy.
Extracting C:\Users\zhuyi\AppData\Local\Temp\chocolatey\chocoInstall\chocolatey.zip to C:\Users\zhuyi\AppData\Local\Temp\chocolatey\chocoInstall
Installing Chocolatey on the local machine
Creating ChocolateyInstall as an environment variable (targeting 'Machine')
  Setting ChocolateyInstall to 'C:\ProgramData\chocolatey'
WARNING: It's very likely you will need to close and reopen your shell
  before you can use choco.
Restricting write permissions to Administrators
We are setting up the Chocolatey package repository.
The packages themselves go to 'C:\ProgramData\chocolatey\lib'
  (i.e. C:\ProgramData\chocolatey\lib\yourPackageName).
A shim file for the command line goes to 'C:\ProgramData\chocolatey\bin'
  and points to an executable in 'C:\ProgramData\chocolatey\lib\yourPackageName'.

Creating Chocolatey folders if they do not already exist.

WARNING: You can safely ignore errors related to missing log files when
  upgrading from a version of Chocolatey less than 0.9.9.
  'Batch file could not be found' is also safe to ignore.
  'The system cannot find the file specified' - also safe.
chocolatey.nupkg file not installed in lib.
 Attempting to locate it from bootstrapper.
PATH environment variable does not have C:\ProgramData\chocolatey\bin in it. Adding...
警告: Not setting tab completion: Profile file does not exist at
'C:\Users\zhuyi\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1'.
Chocolatey (choco.exe) is now ready.
You can call choco from anywhere, command line or powershell by typing choco.
Run choco /? for a list of functions.
You may need to shut down and restart powershell and/or consoles
 first prior to using choco.
Ensuring Chocolatey commands are on the path
Ensuring chocolatey.nupkg is in the lib folder
PS C:\Windows\system32>
PS C:\Windows\system32>
```

**安装 LxRunOffline**

WSL 管理软件：LxRunOffline，它可以安装任意发行版到任意目录、转移已安装的 WSL 目录、备份 WSL、设置默认用户和修改环境变量等操作。

以管理员身份打开 PowerShell 并运行：
> choco install lxrunoffline -y

输出：
```
PS C:\Windows\system32> choco install lxrunoffline -y
Chocolatey v0.10.15
Installing the following packages:
lxrunoffline
By installing you accept licenses for the packages.
Progress: Downloading lxrunoffline 3.5.0... 100%

lxrunoffline v3.5.0 [Approved]
lxrunoffline package files install completed. Performing other installation steps.
Progress: 100% - Running                                                                                               Microsoft.Dism.Commands.ImageObject
Downloading lxrunoffline
  from 'https://github.com/DDoSolitary/LxRunOffline/releases/download/v3.5.0/LxRunOffline-v3.5.0-msvc.zip'
Progress: 100% - Completed download of C:\Users\zhuyi\AppData\Local\Temp\chocolatey\lxrunoffline\3.5.0\lxrunofflineInstall.zip (2.54 MB).
Download of lxrunofflineInstall.zip (2.54 MB) completed.
Hashes match.
Extracting C:\Users\zhuyi\AppData\Local\Temp\chocolatey\lxrunoffline\3.5.0\lxrunofflineInstall.zip to C:\tools\lxrunoffline...
C:\tools\lxrunoffline
PATH environment variable does not have C:\tools\lxrunoffline in it. Adding...
Environment Vars (like PATH) have changed. Close/reopen your shell to
 see the changes (or in powershell/cmd.exe just type `refreshenv`).
 The install of lxrunoffline was successful.
  Software installed to 'C:\tools\lxrunoffline'

Chocolatey installed 1/1 packages.
 See the log for details (C:\ProgramData\chocolatey\logs\chocolatey.log).
PS C:\Windows\system32>
```

注意这里安装完成之后，需要退出重启 PowerShell 才能使用。

```
PS C:\Users\zhuyi> lxrunoffline --help
[ERROR] The action "--help" is not recognized.

Supported actions are:
    l, list            List all installed distributions.
    gd, get-default    Get the default distribution, which is used by bash.exe.
    sd, set-default    Set the default distribution, which is used by bash.exe.
    i, install         Install a new distribution.
    ui, uninstall      Uninstall a distribution.
    rg, register       Register an existing installation directory.
    ur, unregister     Unregister a distribution but not delete the installation directory.
    m, move            Move a distribution to a new directory.
    d, duplicate       Duplicate an existing distribution in a new directory.
    e, export          Export a distribution's filesystem to a .tar.gz file, which can be imported by the "install" command.
    r, run             Run a command in a distribution.
    di, get-dir        Get the installation directory of a distribution.
    gv, get-version    Get the filesystem version of a distribution.
    ge, get-env        Get the default environment variables of a distribution.
    se, set-env        Set the default environment variables of a distribution.
    ae, add-env        Add to the default environment variables of a distribution.
    re, remove-env     Remove from the default environment variables of a distribution.
    gu, get-uid        Get the UID of the default user of a distribution.
    su, set-uid        Set the UID of the default user of a distribution.
    gk, get-kernelcmd  Get the default kernel command line of a distribution.
    sk, set-kernelcmd  Set the default kernel command line of a distribution.
    gf, get-flags      Get some flags of a distribution. See https://docs.microsoft.com/en-us/previous-versions/windows/desktop/api/wslapi/ne-wslapi-wsl_distribution_flags for details.
    sf, set-flags      Set some flags of a distribution. See https://docs.microsoft.com/en-us/previous-versions/windows/desktop/api/wslapi/ne-wslapi-wsl_distribution_flags for details.
    s, shortcut        Create a shortcut to launch a distribution.
    ec, export-config  Export configuration of a distribution to an XML file.
    ic, import-config  Import configuration of a distribution from an XML file.
    sm, summary        Get general information of a distribution.
    version            Get version information about this LxRunOffline.exe.
PS C:\Users\zhuyi>
```

### Centos7.8安装

我们先到Centos的github地址下载软件包 
[centos-7.8.2003-x86_64-docker.tar.xz](https://github.com/CentOS/sig-cloud-instance-images/blob/CentOS-7.8.2003-x86_64/docker/centos-7.8.2003-x86_64-docker.tar.xz) 。

LxRunOffline 安装格式：
```
LxRunOffline install -n 自定义系统名称 -d 安装目录路径 -f tar.xz安装包路径
```

例如我们这里将centos7.8安装到G盘的centos78文件夹下，并且命名为centos78，以普通用户身份打开 PowerShell 就可以运行：
```
LxRunOffline install -n centos78 -d G:/centos78 -f G:/softBox/centos-7.8.2003-x86_64-docker.tar.xz
```

查看安装的包：
```
PS C:\Users\zhuyi> wsl -l -v
  NAME        STATE           VERSION
* centos78    Stopped         1
PS C:\Users\zhuyi>
```

转换版本为WSL2：
```
PS C:\Users\zhuyi> wsl --set-version centos78 2
正在进行转换，这可能需要几分钟时间...
有关与 WSL 2 的主要区别的信息，请访问 https://aka.ms/wsl2
转换完成。
PS C:\Users\zhuyi>
PS C:\Users\zhuyi>
PS C:\Users\zhuyi> wsl -l -v
  NAME        STATE           VERSION
* centos78    Stopped         2
PS C:\Users\zhuyi>
PS C:\Users\zhuyi> wsl --set-default-version 2
有关与 WSL 2 的主要区别的信息，请访问 https://aka.ms/wsl2
操作成功完成。
PS C:\Users\zhuyi>
```

接下来就可以使用下述两种方式之一尝试启动：
```
LxRunOffline run -n 自定义系统名称
wsl -d 自定义系统名称
```

启动CentOS7.8并查看版本：
```
PS C:\Users\zhuyi> wsl -d centos78
[root@BaiYang-PC zhuyi]#
[root@BaiYang-PC zhuyi]#
[root@BaiYang-PC zhuyi]# pwd
/mnt/c/Users/zhuyi
[root@BaiYang-PC zhuyi]#
[root@BaiYang-PC zhuyi]# cat /etc/redhat-release
CentOS Linux release 7.8.2003 (Core)
[root@BaiYang-PC zhuyi]#
```

停止CentOS7.8：
```
PS C:\Users\zhuyi> wsl -l -v
  NAME        STATE           VERSION
* centos78    Running         2
PS C:\Users\zhuyi>
PS C:\Users\zhuyi> wsl -t centos78
PS C:\Users\zhuyi>
PS C:\Users\zhuyi> wsl -l -v
  NAME        STATE           VERSION
* centos78    Stopped         2
PS C:\Users\zhuyi>
```

### yum国内源配置

```
PS C:\Windows\system32>
PS C:\Windows\system32> LxRunOffline run -n centos78
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# pwd
/mnt/c/Windows/system32
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# yum version
Loaded plugins: fastestmirror, ovl
Installed: 7/x86_64                                                               147:85b2b77c5c4d98afd3074ef4bdefb25fba4dc4fb
Group-Installed: yum                                                               14:032f8e66358e5440b1a0c82d830b9c59728d3978
version
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# yum repolist
Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.ustc.edu.cn
 * extras: mirrors.ustc.edu.cn
 * updates: mirrors.ustc.edu.cn
repo id                                                    repo name                                                    status
base/7/x86_64                                              CentOS-7 - Base                                              10,072
extras/7/x86_64                                            CentOS-7 - Extras                                               498
updates/7/x86_64                                           CentOS-7 - Updates                                            2,741
repolist: 13,311
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# ls -l /etc/yum.repos.d/
total 36
-rw-r--r-- 1 root root 1664 Apr  8  2020 CentOS-Base.repo
-rw-r--r-- 1 root root 1309 Apr  8  2020 CentOS-CR.repo
-rw-r--r-- 1 root root  649 Apr  8  2020 CentOS-Debuginfo.repo
-rw-r--r-- 1 root root  314 Apr  8  2020 CentOS-fasttrack.repo
-rw-r--r-- 1 root root  630 Apr  8  2020 CentOS-Media.repo
-rw-r--r-- 1 root root 1331 Apr  8  2020 CentOS-Sources.repo
-rw-r--r-- 1 root root 7577 Apr  8  2020 CentOS-Vault.repo
-rw-r--r-- 1 root root  616 Apr  8  2020 CentOS-x86_64-kernel.repo
[root@BaiYang-PC system32]#
```

```
[root@BaiYang-PC system32]# mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
-bash: wget: command not found
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  2523  100  2523    0     0   7236      0 --:--:-- --:--:-- --:--:--  7250
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# yum clean all
Loaded plugins: fastestmirror, ovl
Cleaning repos: base extras updates
Cleaning up list of fastest mirrors
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# yum makecache
Loaded plugins: fastestmirror, ovl
Determining fastest mirrors
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * updates: mirrors.aliyun.com
base                                                                                                   | 3.6 kB  00:00:00
extras                                                                                                 | 2.9 kB  00:00:00
updates                                                                                                | 2.9 kB  00:00:00
base/7/x86_64/primary_db       FAILED
http://mirrors.cloud.aliyuncs.com/centos/7/os/x86_64/repodata/6d0c3a488c282fe537794b5946b01e28c7f44db79097bb06826e1c0c88bad5ef-primary.sqlite.bz2: [Errno 14] curl#6 - "Could not resolve host: mirrors.cloud.aliyuncs.com; Unknown error"
Trying other mirror.
(1/10): base/7/x86_64/group_gz                                                                         | 153 kB  00:00:01
(2/10): extras/7/x86_64/other_db                                                                       | 143 kB  00:00:00
(3/10): extras/7/x86_64/filelists_db                                                                   | 235 kB  00:00:02
(4/10): base/7/x86_64/other_db                                                                         | 2.6 MB  00:00:04
(5/10): updates/7/x86_64/filelists_db                                                                  | 6.2 MB  00:00:04
(6/10): base/7/x86_64/primary_db                                                                       | 6.1 MB  00:00:04
base/7/x86_64/filelists_db     FAILED
http://mirrors.aliyuncs.com/centos/7/os/x86_64/repodata/d6d94c7d406fe7ad4902a97104b39a0d8299451832a97f31d71653ba982c955b-filelists.sqlite.bz2: [Errno 14] curl#7 - "Failed connect to mirrors.aliyuncs.com:80; Operation now in progress"
Trying other mirror.
extras/7/x86_64/primary_db     FAILED
http://mirrors.aliyuncs.com/centos/7/extras/x86_64/repodata/1be2d535ba29072b7b16ccd66f0b6d5248ddd7b692861f709fd8579d7b9174e6-primary.sqlite.bz2: [Errno 14] curl#7 - "Failed connect to mirrors.aliyuncs.com:80; Operation now in progress"
Trying other mirror.
(7/10): extras/7/x86_64/primary_db                                                                     | 242 kB  00:00:02
updates/7/x86_64/primary_db    FAILED
http://mirrors.aliyuncs.com/centos/7/updates/x86_64/repodata/ec7e00f59c0ab8791c81743405e3975450319d72b8f6ba7431b112d1d2486761-primary.sqlite.bz2: [Errno 12] Timeout on http://mirrors.aliyuncs.com/centos/7/updates/x86_64/repodata/ec7e00f59c0ab8791c81743405e3975450319d72b8f6ba7431b112d1d2486761-primary.sqlite.bz2: (28, 'Connection timed out after 30533 milliseconds')
Trying other mirror.
updates/7/x86_64/other_db      FAILED                                                       ] 1.1 MB/s |  22 MB  00:00:10 ETA
http://mirrors.aliyuncs.com/centos/7/updates/x86_64/repodata/29a96c36ca1c3a64cd2633544bc299eee8e898fa50bde96e126060ff85943135-other.sqlite.bz2: [Errno 14] curl#7 - "Failed connect to mirrors.aliyuncs.com:80; Operation now in progress"
Trying other mirror.
(8/10): base/7/x86_64/filelists_db                                                                     | 7.2 MB  00:00:05
(9/10): updates/7/x86_64/other_db                                                                      | 765 kB  00:00:02
(10/10): updates/7/x86_64/primary_db                                                                   |  10 MB  00:00:05
Metadata Cache Created
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]#
```

### Nginx安装

我们可以编译安装，也可以选择yum方式安装。

#### yum方式安装

安装yum-utils，管理repository及扩展包的工具，细节参考下面资料。
> yum install -y yum-utils

设置nginx的yum仓库配置：
> vi /etc/yum.repos.d/nginx.repo

写入：
```
[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=1
enabled=0
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true
```

执行：
> yum install -y nginx

安装完成。

```
[root@BaiYang-PC system32]# pwd
/mnt/c/Windows/system32
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# sudo yum install yum-utils
-bash: sudo: command not found
[root@BaiYang-PC system32]# yum install yum-utils
Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * updates: mirrors.aliyun.com
Resolving Dependencies
--> Running transaction check
---> Package yum-utils.noarch 0:1.1.31-53.el7 will be updated
---> Package yum-utils.noarch 0:1.1.31-54.el7_8 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

==============================================================================================================================
 Package                       Arch                       Version                              Repository                Size
==============================================================================================================================
Updating:
 yum-utils                     noarch                     1.1.31-54.el7_8                      base                     122 k

Transaction Summary
==============================================================================================================================
Upgrade  1 Package

Total download size: 122 k
Is this ok [y/d/N]: y
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
warning: /var/cache/yum/x86_64/7/base/packages/yum-utils-1.1.31-54.el7_8.noarch.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
Public key for yum-utils-1.1.31-54.el7_8.noarch.rpm is not installed
yum-utils-1.1.31-54.el7_8.noarch.rpm                                                                   | 122 kB  00:00:00
Retrieving key from http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
Importing GPG key 0xF4A80EB5:
 Userid     : "CentOS-7 Key (CentOS 7 Official Signing Key) <security@centos.org>"
 Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5
 From       : http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
Is this ok [y/N]: y
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : yum-utils-1.1.31-54.el7_8.noarch                                                                           1/2
  Cleanup    : yum-utils-1.1.31-53.el7.noarch                                                                             2/2
  Verifying  : yum-utils-1.1.31-54.el7_8.noarch                                                                           1/2
  Verifying  : yum-utils-1.1.31-53.el7.noarch                                                                             2/2

Updated:
  yum-utils.noarch 0:1.1.31-54.el7_8

Complete!
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# vi /etc/yum.repos.d/nginx.repo
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# yum install -y nginx
Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * updates: mirrors.aliyun.com
nginx-stable                                                                                           | 2.9 kB  00:00:00
nginx-stable/7/x86_64/primary_db                                                                       |  67 kB  00:00:01
Resolving Dependencies
--> Running transaction check
---> Package nginx.x86_64 1:1.20.1-1.el7.ngx will be installed
--> Processing Dependency: openssl >= 1.0.2 for package: 1:nginx-1.20.1-1.el7.ngx.x86_64
--> Running transaction check
---> Package openssl.x86_64 1:1.0.2k-21.el7_9 will be installed
--> Processing Dependency: openssl-libs(x86-64) = 1:1.0.2k-21.el7_9 for package: 1:openssl-1.0.2k-21.el7_9.x86_64
--> Processing Dependency: make for package: 1:openssl-1.0.2k-21.el7_9.x86_64
--> Running transaction check
---> Package make.x86_64 1:3.82-24.el7 will be installed
---> Package openssl-libs.x86_64 1:1.0.2k-19.el7 will be updated
---> Package openssl-libs.x86_64 1:1.0.2k-21.el7_9 will be an update
--> Finished Dependency Resolution

Dependencies Resolved

==============================================================================================================================
 Package                      Arch                   Version                               Repository                    Size
==============================================================================================================================
Installing:
 nginx                        x86_64                 1:1.20.1-1.el7.ngx                    nginx-stable                 790 k
Installing for dependencies:
 make                         x86_64                 1:3.82-24.el7                         base                         421 k
 openssl                      x86_64                 1:1.0.2k-21.el7_9                     updates                      493 k
Updating for dependencies:
 openssl-libs                 x86_64                 1:1.0.2k-21.el7_9                     updates                      1.2 M

Transaction Summary
==============================================================================================================================
Install  1 Package  (+2 Dependent packages)
Upgrade             ( 1 Dependent package)

Total download size: 2.9 M
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
(1/4): make-3.82-24.el7.x86_64.rpm                                                                     | 421 kB  00:00:03
(2/4): openssl-1.0.2k-21.el7_9.x86_64.rpm                                                              | 493 kB  00:00:03
(3/4): openssl-libs-1.0.2k-21.el7_9.x86_64.rpm                                                         | 1.2 MB  00:00:03
warning: /var/cache/yum/x86_64/7/nginx-stable/packages/nginx-1.20.1-1.el7.ngx.x86_64.rpm: Header V4 RSA/SHA1 Signature, key ID 7bd9bf62: NOKEY
Public key for nginx-1.20.1-1.el7.ngx.x86_64.rpm is not installed
(4/4): nginx-1.20.1-1.el7.ngx.x86_64.rpm                                                               | 790 kB  00:00:40
------------------------------------------------------------------------------------------------------------------------------
Total                                                                                          73 kB/s | 2.9 MB  00:00:40
Retrieving key from https://nginx.org/keys/nginx_signing.key
Importing GPG key 0x7BD9BF62:
 Userid     : "nginx signing key <signing-key@nginx.com>"
 Fingerprint: 573b fd6b 3d8f bc64 1079 a6ab abf5 bd82 7bd9 bf62
 From       : https://nginx.org/keys/nginx_signing.key
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : 1:openssl-libs-1.0.2k-21.el7_9.x86_64                                                                      1/5
  Installing : 1:make-3.82-24.el7.x86_64                                                                                  2/5
  Installing : 1:openssl-1.0.2k-21.el7_9.x86_64                                                                           3/5
  Installing : 1:nginx-1.20.1-1.el7.ngx.x86_64                                                                            4/5
----------------------------------------------------------------------

Thanks for using nginx!

Please find the official documentation for nginx here:
* https://nginx.org/en/docs/

Please subscribe to nginx-announce mailing list to get
the most important news about nginx:
* https://nginx.org/en/support.html

Commercial subscriptions for nginx are available on:
* https://nginx.com/products/

----------------------------------------------------------------------
  Cleanup    : 1:openssl-libs-1.0.2k-19.el7.x86_64                                                                        5/5
  Verifying  : 1:openssl-1.0.2k-21.el7_9.x86_64                                                                           1/5
  Verifying  : 1:openssl-libs-1.0.2k-21.el7_9.x86_64                                                                      2/5
  Verifying  : 1:nginx-1.20.1-1.el7.ngx.x86_64                                                                            3/5
  Verifying  : 1:make-3.82-24.el7.x86_64                                                                                  4/5
  Verifying  : 1:openssl-libs-1.0.2k-19.el7.x86_64                                                                        5/5

Installed:
  nginx.x86_64 1:1.20.1-1.el7.ngx

Dependency Installed:
  make.x86_64 1:3.82-24.el7                                  openssl.x86_64 1:1.0.2k-21.el7_9

Dependency Updated:
  openssl-libs.x86_64 1:1.0.2k-21.el7_9

Complete!
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]#
[root@BaiYang-PC system32]# nginx -v
nginx version: nginx/1.20.1
[root@BaiYang-PC system32]#
```

#### 配置

看一下 `/etc/nginx/nginx.conf` 内容：
```

user  nginx;
worker_processes  auto;

error_log  /var/log/nginx/error.log notice;
pid        /var/run/nginx.pid;


events {
    worker_connections  1024;
}


http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    keepalive_timeout  65;

    #gzip  on;

    include /etc/nginx/conf.d/*.conf;
}
```

我们可以在最下面include后补充一句：
```
    include /mnt/g/www/vhost/*.conf;
```

我们可以在`G:\www\vhost\`中写一个自己的项目的配置文件`abc.test.conf`：
```
server {
    listen       80;
    server_name  abc.test;

    location / {
        root   /mnt/g/www/abc;
        index  index.html index.htm;
    }

    # redirect server error pages to the static page /50x.html
    #
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }
}
```

在`G:\www\abc\`中写一个index.html文件，内容自己定义。

在 `C:\Windows\System32\drivers\etc\hosts` 文件最下面增加一行：
```
127.0.0.1      abc.test
```

然后启动Nginx：
> nginx

如果已经启动了，那就重启（不停止服务重新载入配置文件）：
> nginx -s reload

打开浏览器，访问 abc.test ，可以看到效果。

停止服务：
> nginx -s stop

### PHP安装

我们使用Remi源安装PHP7.4。

安装 EPEL 存储库
> yum install epel-release -y

安装Remi存储库
> rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm

查看`ls -l /etc/yum.repos.d`目录，多了的源配置文件：
```
total 108
-rw-r--r-- 1 root root 2523 Sep  1 22:03 CentOS-Base.repo
-rw-r--r-- 1 root root 1664 Apr  8  2020 CentOS-Base.repo.backup
-rw-r--r-- 1 root root 1309 Apr  8  2020 CentOS-CR.repo
-rw-r--r-- 1 root root  649 Apr  8  2020 CentOS-Debuginfo.repo
-rw-r--r-- 1 root root  314 Apr  8  2020 CentOS-fasttrack.repo
-rw-r--r-- 1 root root  630 Apr  8  2020 CentOS-Media.repo
-rw-r--r-- 1 root root 1331 Apr  8  2020 CentOS-Sources.repo
-rw-r--r-- 1 root root 7577 Apr  8  2020 CentOS-Vault.repo
-rw-r--r-- 1 root root  616 Apr  8  2020 CentOS-x86_64-kernel.repo
-rw-r--r-- 1 root root  951 Oct  3  2017 epel.repo
-rw-r--r-- 1 root root 1050 Oct  3  2017 epel-testing.repo
-rw-r--r-- 1 root root  398 Sep  1 22:11 nginx.repo
-rw-r--r-- 1 root root  446 Jan  5  2021 remi-glpi91.repo
-rw-r--r-- 1 root root  446 Jan  5  2021 remi-glpi92.repo
-rw-r--r-- 1 root root  446 Jan  5  2021 remi-glpi93.repo
-rw-r--r-- 1 root root  446 Jan  5  2021 remi-glpi94.repo
-rw-r--r-- 1 root root  855 Jan  5  2021 remi-modular.repo
-rw-r--r-- 1 root root  456 Jan  5  2021 remi-php54.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php70.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php71.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php72.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php73.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php74.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php80.repo
-rw-r--r-- 1 root root 2605 Jan  5  2021 remi.repo
-rw-r--r-- 1 root root  750 Jan  5  2021 remi-safe.repo
```

查看可以安装的 php 版本：
> yum list php*

安装 PHP 7.4：
```
yum --enablerepo=remi-php74 install php
```


输出：
```
[root@BaiYang-PC yum.repos.d]# yum --enablerepo=remi-php74 install php
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * remi-php74: mirrors.tuna.tsinghua.edu.cn
 * remi-safe: mirrors.tuna.tsinghua.edu.cn
 * updates: mirrors.aliyun.com
remi-php74                                                                                                 | 3.0 kB  00:00:00
remi-php74/primary_db                                                                                      | 247 kB  00:00:00
Resolving Dependencies
--> Running transaction check
---> Package php.x86_64 0:7.4.23-1.el7.remi will be installed
--> Processing Dependency: httpd-mmn = 20120211x8664 for package: php-7.4.23-1.el7.remi.x86_64
--> Processing Dependency: php-cli(x86-64) = 7.4.23-1.el7.remi for package: php-7.4.23-1.el7.remi.x86_64
--> Processing Dependency: php-common(x86-64) = 7.4.23-1.el7.remi for package: php-7.4.23-1.el7.remi.x86_64
--> Processing Dependency: php-sodium(x86-64) = 7.4.23-1.el7.remi for package: php-7.4.23-1.el7.remi.x86_64
--> Processing Dependency: httpd for package: php-7.4.23-1.el7.remi.x86_64
--> Running transaction check
---> Package httpd.x86_64 0:2.4.6-97.el7.centos will be installed
--> Processing Dependency: httpd-tools = 2.4.6-97.el7.centos for package: httpd-2.4.6-97.el7.centos.x86_64
--> Processing Dependency: system-logos >= 7.92.1-1 for package: httpd-2.4.6-97.el7.centos.x86_64
--> Processing Dependency: /etc/mime.types for package: httpd-2.4.6-97.el7.centos.x86_64
--> Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd-2.4.6-97.el7.centos.x86_64
--> Processing Dependency: libapr-1.so.0()(64bit) for package: httpd-2.4.6-97.el7.centos.x86_64
---> Package php-cli.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php-common.x86_64 0:7.4.23-1.el7.remi will be installed
--> Processing Dependency: php-json(x86-64) = 7.4.23-1.el7.remi for package: php-common-7.4.23-1.el7.remi.x86_64
---> Package php-sodium.x86_64 0:7.4.23-1.el7.remi will be installed
--> Processing Dependency: libsodium.so.23()(64bit) for package: php-sodium-7.4.23-1.el7.remi.x86_64
--> Running transaction check
---> Package apr.x86_64 0:1.4.8-7.el7 will be installed
---> Package apr-util.x86_64 0:1.5.2-6.el7 will be installed
---> Package centos-logos.noarch 0:70.0.6-3.el7.centos will be installed
---> Package httpd-tools.x86_64 0:2.4.6-97.el7.centos will be installed
---> Package libsodium.x86_64 0:1.0.18-1.el7 will be installed
---> Package mailcap.noarch 0:2.1.41-2.el7 will be installed
---> Package php-json.x86_64 0:7.4.23-1.el7.remi will be installed
--> Finished Dependency Resolution

Dependencies Resolved

==================================================================================================================================
 Package                        Arch                     Version                               Repository                    Size
==================================================================================================================================
Installing:
 php                            x86_64                   7.4.23-1.el7.remi                     remi-php74                   3.4 M
Installing for dependencies:
 apr                            x86_64                   1.4.8-7.el7                           base                         104 k
 apr-util                       x86_64                   1.5.2-6.el7                           base                          92 k
 centos-logos                   noarch                   70.0.6-3.el7.centos                   base                          21 M
 httpd                          x86_64                   2.4.6-97.el7.centos                   updates                      2.7 M
 httpd-tools                    x86_64                   2.4.6-97.el7.centos                   updates                       93 k
 libsodium                      x86_64                   1.0.18-1.el7                          epel                         147 k
 mailcap                        noarch                   2.1.41-2.el7                          base                          31 k
 php-cli                        x86_64                   7.4.23-1.el7.remi                     remi-php74                   5.2 M
 php-common                     x86_64                   7.4.23-1.el7.remi                     remi-php74                   1.2 M
 php-json                       x86_64                   7.4.23-1.el7.remi                     remi-php74                    72 k
 php-sodium                     x86_64                   7.4.23-1.el7.remi                     remi-php74                    84 k

Transaction Summary
==================================================================================================================================
Install  1 Package (+11 Dependent packages)

Total download size: 34 M
Installed size: 73 M
Is this ok [y/d/N]: y
Downloading packages:
(1/12): apr-1.4.8-7.el7.x86_64.rpm                                                                         | 104 kB  00:00:00
(2/12): apr-util-1.5.2-6.el7.x86_64.rpm                                                                    |  92 kB  00:00:00
(3/12): mailcap-2.1.41-2.el7.noarch.rpm                                                                    |  31 kB  00:00:00
(4/12): httpd-tools-2.4.6-97.el7.centos.x86_64.rpm                                                         |  93 kB  00:00:00
(5/12): libsodium-1.0.18-1.el7.x86_64.rpm                                                                  | 147 kB  00:00:00
warning: /var/cache/yum/x86_64/7/remi-php74/packages/php-7.4.23-1.el7.remi.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 00f97f56: NOKEY
Public key for php-7.4.23-1.el7.remi.x86_64.rpm is not installed
(6/12): php-7.4.23-1.el7.remi.x86_64.rpm                                                                   | 3.4 MB  00:00:01
(7/12): php-common-7.4.23-1.el7.remi.x86_64.rpm                                                            | 1.2 MB  00:00:00
(8/12): php-json-7.4.23-1.el7.remi.x86_64.rpm                                                              |  72 kB  00:00:00
(9/12): php-sodium-7.4.23-1.el7.remi.x86_64.rpm                                                            |  84 kB  00:00:00
(10/12): php-cli-7.4.23-1.el7.remi.x86_64.rpm                                                              | 5.2 MB  00:00:03
(11/12): httpd-2.4.6-97.el7.centos.x86_64.rpm                                                              | 2.7 MB  00:00:04
(12/12): centos-logos-70.0.6-3.el7.centos.noarch.rpm                                                       |  21 MB  00:00:07
----------------------------------------------------------------------------------------------------------------------------------
Total                                                                                             4.7 MB/s |  34 MB  00:00:07
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-remi
Importing GPG key 0x00F97F56:
 Userid     : "Remi Collet <RPMS@FamilleCollet.com>"
 Fingerprint: 1ee0 4cce 88a4 ae4a a29a 5df5 004e 6f47 00f9 7f56
 Package    : remi-release-7.9-1.el7.remi.noarch (installed)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-remi
Is this ok [y/N]: y
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
Warning: RPMDB altered outside of yum.
  Installing : php-json-7.4.23-1.el7.remi.x86_64                                                                             1/12
  Installing : php-common-7.4.23-1.el7.remi.x86_64                                                                           2/12
  Installing : apr-1.4.8-7.el7.x86_64                                                                                        3/12
  Installing : apr-util-1.5.2-6.el7.x86_64                                                                                   4/12
  Installing : httpd-tools-2.4.6-97.el7.centos.x86_64                                                                        5/12
  Installing : php-cli-7.4.23-1.el7.remi.x86_64                                                                              6/12
  Installing : centos-logos-70.0.6-3.el7.centos.noarch                                                                       7/12
  Installing : mailcap-2.1.41-2.el7.noarch                                                                                   8/12
  Installing : httpd-2.4.6-97.el7.centos.x86_64                                                                              9/12
  Installing : libsodium-1.0.18-1.el7.x86_64                                                                                10/12
  Installing : php-sodium-7.4.23-1.el7.remi.x86_64                                                                          11/12
  Installing : php-7.4.23-1.el7.remi.x86_64                                                                                 12/12
  Verifying  : php-7.4.23-1.el7.remi.x86_64                                                                                  1/12
  Verifying  : apr-1.4.8-7.el7.x86_64                                                                                        2/12
  Verifying  : libsodium-1.0.18-1.el7.x86_64                                                                                 3/12
  Verifying  : php-common-7.4.23-1.el7.remi.x86_64                                                                           4/12
  Verifying  : mailcap-2.1.41-2.el7.noarch                                                                                   5/12
  Verifying  : php-sodium-7.4.23-1.el7.remi.x86_64                                                                           6/12
  Verifying  : apr-util-1.5.2-6.el7.x86_64                                                                                   7/12
  Verifying  : php-json-7.4.23-1.el7.remi.x86_64                                                                             8/12
  Verifying  : httpd-2.4.6-97.el7.centos.x86_64                                                                              9/12
  Verifying  : httpd-tools-2.4.6-97.el7.centos.x86_64                                                                       10/12
  Verifying  : centos-logos-70.0.6-3.el7.centos.noarch                                                                      11/12
  Verifying  : php-cli-7.4.23-1.el7.remi.x86_64                                                                             12/12

Installed:
  php.x86_64 0:7.4.23-1.el7.remi

Dependency Installed:
  apr.x86_64 0:1.4.8-7.el7               apr-util.x86_64 0:1.5.2-6.el7               centos-logos.noarch 0:70.0.6-3.el7.centos
  httpd.x86_64 0:2.4.6-97.el7.centos     httpd-tools.x86_64 0:2.4.6-97.el7.centos    libsodium.x86_64 0:1.0.18-1.el7
  mailcap.noarch 0:2.1.41-2.el7          php-cli.x86_64 0:7.4.23-1.el7.remi          php-common.x86_64 0:7.4.23-1.el7.remi
  php-json.x86_64 0:7.4.23-1.el7.remi    php-sodium.x86_64 0:7.4.23-1.el7.remi

Complete!
[root@BaiYang-PC yum.repos.d]#
```

查看版本：
```
[root@BaiYang-PC yum.repos.d]# php -v
PHP 7.4.23 (cli) (built: Aug 24 2021 16:33:30) ( NTS )
Copyright (c) The PHP Group
Zend Engine v3.4.0, Copyright (c) Zend Technologies
```

查看拓展：
```
[root@BaiYang-PC zhuyi]# php -m
[PHP Modules]
bz2
calendar
Core
ctype
curl
date
exif
fileinfo
filter
ftp
gettext
hash
iconv
json
libxml
openssl
pcntl
pcre
Phar
readline
Reflection
session
sockets
sodium
SPL
standard
tokenizer
zlib

[Zend Modules]
```

#### 安装拓展

指定仓库名，重新安装 php74 拓展，因为已经指定了仓库，不需要带 php74 了：
```
yum --enablerepo=remi-php74 install -y php-fpm php-cli php-bcmath php-gd php-mbstring php-mcrypt php-mysqlnd php-opcache php-pdo php-pecl-mcrypt php-xml php-zip
```

输出：
```
[root@BaiYang-PC zhuyi]# yum --enablerepo=remi-php74 install -y php-fpm php-cli php-bcmath php-gd php-mbstring php-mcrypt php-mysqlnd php-opcache php-pdo php-pecl-mcrypt php-xml php-zip
Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
epel/x86_64/metalink                                                                             | 9.4 kB  00:00:00
 * base: mirrors.aliyun.com
 * epel: mirrors.ustc.edu.cn
 * extras: mirrors.aliyun.com
 * remi-php74: repo.extreme-ix.org
 * remi-safe: repo.extreme-ix.org
 * updates: mirrors.aliyun.com
base                                                                                             | 3.6 kB  00:00:00
epel                                                                                             | 4.7 kB  00:00:00
extras                                                                                           | 2.9 kB  00:00:00
nginx-stable                                                                                     | 2.9 kB  00:00:00
remi-php74                                                                                       | 3.0 kB  00:00:00
remi-safe                                                                                        | 3.0 kB  00:00:00
updates                                                                                          | 2.9 kB  00:00:00
(1/5): epel/x86_64/updateinfo                                                                    | 1.0 MB  00:00:00
(2/5): remi-php74/primary_db                                                                     | 252 kB  00:00:02
(3/5): epel/x86_64/primary_db                                                                    | 7.0 MB  00:00:06
(4/5): remi-safe/primary_db                                                                      | 2.1 MB  00:00:11
(5/5): updates/7/x86_64/primary_db                                                               |  13 MB  00:00:19
Package php-mcrypt is obsoleted by php-pecl-mcrypt, trying to install php-pecl-mcrypt-1.0.4-1.el7.remi.7.4.x86_64 instead
Resolving Dependencies
--> Running transaction check
---> Package php-bcmath.x86_64 0:7.4.27-1.el7.remi will be installed
--> Processing Dependency: php-common(x86-64) = 7.4.27-1.el7.remi for package: php-bcmath-7.4.27-1.el7.remi.x86_64
---> Package php-cli.x86_64 0:7.4.23-1.el7.remi will be updated
--> Processing Dependency: php-cli(x86-64) = 7.4.23-1.el7.remi for package: php-7.4.23-1.el7.remi.x86_64
---> Package php-cli.x86_64 0:7.4.27-1.el7.remi will be an update
---> Package php-fpm.x86_64 0:7.4.27-1.el7.remi will be installed
---> Package php-gd.x86_64 0:7.4.27-1.el7.remi will be installed
--> Processing Dependency: libgd.so.103()(64bit) for package: php-gd-7.4.27-1.el7.remi.x86_64
---> Package php-mbstring.x86_64 0:7.4.27-1.el7.remi will be installed
---> Package php-mysqlnd.x86_64 0:7.4.27-1.el7.remi will be installed
---> Package php-opcache.x86_64 0:7.4.27-1.el7.remi will be installed
---> Package php-pdo.x86_64 0:7.4.27-1.el7.remi will be installed
---> Package php-pecl-mcrypt.x86_64 0:1.0.4-1.el7.remi.7.4 will be installed
---> Package php-pecl-zip.x86_64 0:1.20.0-1.el7.remi.7.4 will be installed
---> Package php-xml.x86_64 0:7.4.27-1.el7.remi will be installed
--> Running transaction check
---> Package gd3php.x86_64 0:2.3.3-4.el7.remi will be installed
---> Package php.x86_64 0:7.4.23-1.el7.remi will be updated
---> Package php.x86_64 0:7.4.27-1.el7.remi will be an update
--> Processing Dependency: php-sodium(x86-64) = 7.4.27-1.el7.remi for package: php-7.4.27-1.el7.remi.x86_64
---> Package php-common.x86_64 0:7.4.23-1.el7.remi will be updated
--> Processing Dependency: php-common(x86-64) = 7.4.23-1.el7.remi for package: php-json-7.4.23-1.el7.remi.x86_64
---> Package php-common.x86_64 0:7.4.27-1.el7.remi will be an update
--> Running transaction check
---> Package php-json.x86_64 0:7.4.23-1.el7.remi will be updated
---> Package php-json.x86_64 0:7.4.27-1.el7.remi will be an update
---> Package php-sodium.x86_64 0:7.4.23-1.el7.remi will be updated
---> Package php-sodium.x86_64 0:7.4.27-1.el7.remi will be an update
--> Finished Dependency Resolution

Dependencies Resolved

========================================================================================================================
 Package                       Arch                 Version                              Repository                Size
========================================================================================================================
Installing:
 php-bcmath                    x86_64               7.4.27-1.el7.remi                    remi-php74                80 k
 php-fpm                       x86_64               7.4.27-1.el7.remi                    remi-php74               1.8 M
 php-gd                        x86_64               7.4.27-1.el7.remi                    remi-php74                89 k
 php-mbstring                  x86_64               7.4.27-1.el7.remi                    remi-php74               525 k
 php-mysqlnd                   x86_64               7.4.27-1.el7.remi                    remi-php74               255 k
 php-opcache                   x86_64               7.4.27-1.el7.remi                    remi-php74               332 k
 php-pdo                       x86_64               7.4.27-1.el7.remi                    remi-php74               139 k
 php-pecl-mcrypt               x86_64               1.0.4-1.el7.remi.7.4                 remi-php74                30 k
 php-pecl-zip                  x86_64               1.20.0-1.el7.remi.7.4                remi-php74                63 k
 php-xml                       x86_64               7.4.27-1.el7.remi                    remi-php74               209 k
Updating:
 php-cli                       x86_64               7.4.27-1.el7.remi                    remi-php74               5.2 M
Installing for dependencies:
 gd3php                        x86_64               2.3.3-4.el7.remi                     remi-safe                138 k
Updating for dependencies:
 php                           x86_64               7.4.27-1.el7.remi                    remi-php74               3.4 M
 php-common                    x86_64               7.4.27-1.el7.remi                    remi-php74               1.2 M
 php-json                      x86_64               7.4.27-1.el7.remi                    remi-php74                73 k
 php-sodium                    x86_64               7.4.27-1.el7.remi                    remi-php74                85 k

Transaction Summary
========================================================================================================================
Install  10 Packages (+1 Dependent package)
Upgrade   1 Package  (+4 Dependent packages)

Total download size: 14 M
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
(1/16): php-bcmath-7.4.27-1.el7.remi.x86_64.rpm                                                  |  80 kB  00:00:01
(2/16): php-7.4.27-1.el7.remi.x86_64.rpm                                                         | 3.4 MB  00:00:02
(3/16): php-gd-7.4.27-1.el7.remi.x86_64.rpm                                                      |  89 kB  00:00:00
(4/16): php-json-7.4.27-1.el7.remi.x86_64.rpm                                                    |  73 kB  00:00:00
(5/16): php-mbstring-7.4.27-1.el7.remi.x86_64.rpm                                                | 525 kB  00:00:00
(6/16): php-mysqlnd-7.4.27-1.el7.remi.x86_64.rpm                                                 | 255 kB  00:00:00
(7/16): gd3php-2.3.3-4.el7.remi.x86_64.rpm                                                       | 138 kB  00:00:04
(8/16): php-opcache-7.4.27-1.el7.remi.x86_64.rpm                                                 | 332 kB  00:00:00
(9/16): php-pecl-mcrypt-1.0.4-1.el7.remi.7.4.x86_64.rpm                                          |  30 kB  00:00:00
(10/16): php-pecl-zip-1.20.0-1.el7.remi.7.4.x86_64.rpm                                           |  63 kB  00:00:00
(11/16): php-sodium-7.4.27-1.el7.remi.x86_64.rpm                                                 |  85 kB  00:00:00
(12/16): php-xml-7.4.27-1.el7.remi.x86_64.rpm                                                    | 209 kB  00:00:00
(13/16): php-pdo-7.4.27-1.el7.remi.x86_64.rpm                                                    | 139 kB  00:00:04
(14/16): php-cli-7.4.27-1.el7.remi.x86_64.rpm                                                    | 5.2 MB  00:00:10
(15/16): php-common-7.4.27-1.el7.remi.x86_64.rpm                                                 | 1.2 MB  00:00:11
(16/16): php-fpm-7.4.27-1.el7.remi.x86_64.rpm                                                    | 1.8 MB  00:00:14
------------------------------------------------------------------------------------------------------------------------
Total                                                                                   884 kB/s |  14 MB  00:00:15
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : php-common-7.4.27-1.el7.remi.x86_64                                                                 1/21
  Updating   : php-json-7.4.27-1.el7.remi.x86_64                                                                   2/21
  Updating   : php-cli-7.4.27-1.el7.remi.x86_64                                                                    3/21
  Installing : php-pdo-7.4.27-1.el7.remi.x86_64                                                                    4/21
  Updating   : php-sodium-7.4.27-1.el7.remi.x86_64                                                                 5/21
  Installing : gd3php-2.3.3-4.el7.remi.x86_64                                                                      6/21
  Installing : php-gd-7.4.27-1.el7.remi.x86_64                                                                     7/21
  Updating   : php-7.4.27-1.el7.remi.x86_64                                                                        8/21
  Installing : php-mysqlnd-7.4.27-1.el7.remi.x86_64                                                                9/21
  Installing : php-pecl-mcrypt-1.0.4-1.el7.remi.7.4.x86_64                                                        10/21
  Installing : php-opcache-7.4.27-1.el7.remi.x86_64                                                               11/21
  Installing : php-fpm-7.4.27-1.el7.remi.x86_64                                                                   12/21
  Installing : php-xml-7.4.27-1.el7.remi.x86_64                                                                   13/21
  Installing : php-pecl-zip-1.20.0-1.el7.remi.7.4.x86_64                                                          14/21
  Installing : php-bcmath-7.4.27-1.el7.remi.x86_64                                                                15/21
  Installing : php-mbstring-7.4.27-1.el7.remi.x86_64                                                              16/21
  Cleanup    : php-7.4.23-1.el7.remi.x86_64                                                                       17/21
  Cleanup    : php-cli-7.4.23-1.el7.remi.x86_64                                                                   18/21
  Cleanup    : php-sodium-7.4.23-1.el7.remi.x86_64                                                                19/21
  Cleanup    : php-common-7.4.23-1.el7.remi.x86_64                                                                20/21
  Cleanup    : php-json-7.4.23-1.el7.remi.x86_64                                                                  21/21
  Verifying  : php-pecl-mcrypt-1.0.4-1.el7.remi.7.4.x86_64                                                         1/21
  Verifying  : php-opcache-7.4.27-1.el7.remi.x86_64                                                                2/21
  Verifying  : php-fpm-7.4.27-1.el7.remi.x86_64                                                                    3/21
  Verifying  : gd3php-2.3.3-4.el7.remi.x86_64                                                                      4/21
  Verifying  : php-mysqlnd-7.4.27-1.el7.remi.x86_64                                                                5/21
  Verifying  : php-xml-7.4.27-1.el7.remi.x86_64                                                                    6/21
  Verifying  : php-gd-7.4.27-1.el7.remi.x86_64                                                                     7/21
  Verifying  : php-json-7.4.27-1.el7.remi.x86_64                                                                   8/21
  Verifying  : php-cli-7.4.27-1.el7.remi.x86_64                                                                    9/21
  Verifying  : php-pdo-7.4.27-1.el7.remi.x86_64                                                                   10/21
  Verifying  : php-7.4.27-1.el7.remi.x86_64                                                                       11/21
  Verifying  : php-common-7.4.27-1.el7.remi.x86_64                                                                12/21
  Verifying  : php-pecl-zip-1.20.0-1.el7.remi.7.4.x86_64                                                          13/21
  Verifying  : php-sodium-7.4.27-1.el7.remi.x86_64                                                                14/21
  Verifying  : php-bcmath-7.4.27-1.el7.remi.x86_64                                                                15/21
  Verifying  : php-mbstring-7.4.27-1.el7.remi.x86_64                                                              16/21
  Verifying  : php-common-7.4.23-1.el7.remi.x86_64                                                                17/21
  Verifying  : php-sodium-7.4.23-1.el7.remi.x86_64                                                                18/21
  Verifying  : php-json-7.4.23-1.el7.remi.x86_64                                                                  19/21
  Verifying  : php-7.4.23-1.el7.remi.x86_64                                                                       20/21
  Verifying  : php-cli-7.4.23-1.el7.remi.x86_64                                                                   21/21

Installed:
  php-bcmath.x86_64 0:7.4.27-1.el7.remi                     php-fpm.x86_64 0:7.4.27-1.el7.remi
  php-gd.x86_64 0:7.4.27-1.el7.remi                         php-mbstring.x86_64 0:7.4.27-1.el7.remi
  php-mysqlnd.x86_64 0:7.4.27-1.el7.remi                    php-opcache.x86_64 0:7.4.27-1.el7.remi
  php-pdo.x86_64 0:7.4.27-1.el7.remi                        php-pecl-mcrypt.x86_64 0:1.0.4-1.el7.remi.7.4
  php-pecl-zip.x86_64 0:1.20.0-1.el7.remi.7.4               php-xml.x86_64 0:7.4.27-1.el7.remi

Dependency Installed:
  gd3php.x86_64 0:2.3.3-4.el7.remi

Updated:
  php-cli.x86_64 0:7.4.27-1.el7.remi

Dependency Updated:
  php.x86_64 0:7.4.27-1.el7.remi          php-common.x86_64 0:7.4.27-1.el7.remi   php-json.x86_64 0:7.4.27-1.el7.remi
  php-sodium.x86_64 0:7.4.27-1.el7.remi

Complete!
[root@BaiYang-PC zhuyi]#
```

查看拓展：
```
[root@BaiYang-PC zhuyi]# php -m
[PHP Modules]
bcmath
bz2
calendar
Core
ctype
curl
date
dom
exif
fileinfo
filter
ftp
gd
gettext
hash
iconv
json
libxml
mbstring
mcrypt
mysqli
mysqlnd
openssl
pcntl
pcre
PDO
pdo_mysql
pdo_sqlite
Phar
readline
Reflection
session
SimpleXML
sockets
sodium
SPL
sqlite3
standard
tokenizer
xml
xmlreader
xmlwriter
xsl
Zend OPcache
zip
zlib

[Zend Modules]
Zend OPcache
```

安装完成。

#### 卸载 php7.4

> yum remove php74-php*

### Composer安装

到/usr/local/src下操作：
```
[root@BaiYang-PC zhuyi]# cd /usr/local/src
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
[root@BaiYang-PC src]#
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# php -r "if (hash_file('sha384', 'composer-setup.php') === '906a84df04cea2aa72f40b5f787e49f22d4c2f19492ac310e8cba5b96ac8b64115ac402c8cd292b8a03482574915d1a8') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"
Installer verified
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# php composer-setup.php
All settings correct for using Composer
Downloading...

Composer (version 2.2.1) successfully installed to: /usr/local/src/composer.phar
Use it: php composer.phar

[root@BaiYang-PC src]# ls
composer.phar  composer-setup.php  protobuf-3.11.2  protobuf-all-3.11.2.zip
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# php -r "unlink('composer-setup.php');"
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# mv composer.phar /usr/local/bin/composer
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# composer -v
   ______
  / ____/___  ____ ___  ____  ____  ________  _____
 / /   / __ \/ __ `__ \/ __ \/ __ \/ ___/ _ \/ ___/
/ /___/ /_/ / / / / / / /_/ / /_/ (__  )  __/ /
\____/\____/_/ /_/ /_/ .___/\____/____/\___/_/
                    /_/
Composer version 2.2.1 2021-12-22 22:21:31

Usage:
  command [options] [arguments]

Options:
  -h, --help                     Display this help message
  -q, --quiet                    Do not output any message
  -V, --version                  Display this application version
      --ansi                     Force ANSI output
      --no-ansi                  Disable ANSI output
  -n, --no-interaction           Do not ask any interactive question
      --profile                  Display timing and memory usage information
      --no-plugins               Whether to disable plugins.
      --no-scripts               Skips the execution of all scripts defined in composer.json file.
  -d, --working-dir=WORKING-DIR  If specified, use the given directory as working directory.
      --no-cache                 Prevent use of the cache
  -v|vv|vvv, --verbose           Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug

Available commands:
  about                Shows a short information about Composer.
  archive              Creates an archive of this composer package.
  browse               Opens the package's repository URL or homepage in your browser.
  cc                   Clears composer's internal package cache.
  check-platform-reqs  Check that platform requirements are satisfied.
  clear-cache          Clears composer's internal package cache.
  clearcache           Clears composer's internal package cache.
  config               Sets config options.
  create-project       Creates new project from a package into given directory.
  depends              Shows which packages cause the given package to be installed.
  diagnose             Diagnoses the system to identify common errors.
  dump-autoload        Dumps the autoloader.
  dumpautoload         Dumps the autoloader.
  exec                 Executes a vendored binary/script.
  fund                 Discover how to help fund the maintenance of your dependencies.
  global               Allows running commands in the global composer dir ($COMPOSER_HOME).
  help                 Displays help for a command
  home                 Opens the package's repository URL or homepage in your browser.
  i                    Installs the project dependencies from the composer.lock file if present, or falls back on the composer.json.
  info                 Shows information about packages.
  init                 Creates a basic composer.json file in current directory.
  install              Installs the project dependencies from the composer.lock file if present, or falls back on the composer.json.
  licenses             Shows information about licenses of dependencies.
  list                 Lists commands
  outdated             Shows a list of installed packages that have updates available, including their latest version.
  prohibits            Shows which packages prevent the given package from being installed.
  reinstall            Uninstalls and reinstalls the given package names
  remove               Removes a package from the require or require-dev.
  require              Adds required packages to your composer.json and installs them.
  run                  Runs the scripts defined in composer.json.
  run-script           Runs the scripts defined in composer.json.
  search               Searches for packages.
  self-update          Updates composer.phar to the latest version.
  selfupdate           Updates composer.phar to the latest version.
  show                 Shows information about packages.
  status               Shows a list of locally modified packages.
  suggests             Shows package suggestions.
  u                    Upgrades your dependencies to the latest version according to composer.json, and updates the composer.lock file.
  update               Upgrades your dependencies to the latest version according to composer.json, and updates the composer.lock file.
  upgrade              Upgrades your dependencies to the latest version according to composer.json, and updates the composer.lock file.
  validate             Validates a composer.json and composer.lock.
  why                  Shows which packages cause the given package to be installed.
  why-not              Shows which packages prevent the given package from being installed.
[root@BaiYang-PC src]#
```

#### asset插件

有些项目需要Bower管理前端资源，我们可以用 composer 的 fxp/composer-asset-plugin 插件来实现前端资源管理。

到https://pkg.phpcomposer.com/ 该网站搜索 fxp/composer-asset-plugin包 安装最新版：
```
composer global require "fxp/composer-asset-plugin:~1.4"
```

报错了：
```
[root@BaiYang-PC src]# composer global require "fxp/composer-asset-plugin:~1.4"
Changed current directory to /root/.config/composer

Installation failed, deleting ./composer.json.


  [RuntimeException]
  No composer.json present in the current directory (./composer.json), this may be the cause of the following excepti
  on.



  [InvalidArgumentException]
  Package fxp/composer-asset-plugin at version ~1.4 has requirements incompatible with your PHP version, PHP extensio
  ns and Composer version:
    - fxp/composer-asset-plugin v1.4.6 requires composer-plugin-api ^1.0 which does not match your installed version
  2.2.0.


require [--dev] [--dry-run] [--prefer-source] [--prefer-dist] [--prefer-install PREFER-INSTALL] [--fixed] [--no-suggest] [--no-progress] [--no-update] [--no-install] [--update-no-dev] [-w|--update-with-dependencies] [-W|--update-with-all-dependencies] [--with-dependencies] [--with-all-dependencies] [--ignore-platform-req IGNORE-PLATFORM-REQ] [--ignore-platform-reqs] [--prefer-stable] [--prefer-lowest] [--sort-packages] [-o|--optimize-autoloader] [-a|--classmap-authoritative] [--apcu-autoloader] [--apcu-autoloader-prefix APCU-AUTOLOADER-PREFIX] [--] [<packages>]...

[root@BaiYang-PC src]# rm -f /usr/local/bin/composer
```

composer包版本高了。

### Composer卸载

我们只要把composer文件移除就可以：
```
[root@BaiYang-PC src]# rm -f /usr/local/bin/composer
```

安装指定版本的 Composer：
```
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
[root@BaiYang-PC src]# php composer-setup.php --version=1.6.5
All settings correct for using Composer
Downloading...

Composer (version 1.6.5) successfully installed to: /usr/local/src/composer.phar
Use it: php composer.phar

[root@BaiYang-PC src]#
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# mv composer.phar /usr/local/bin/composer
[root@BaiYang-PC src]#
[root@BaiYang-PC src]# composer -v
   ______
  / ____/___  ____ ___  ____  ____  ________  _____
 / /   / __ \/ __ `__ \/ __ \/ __ \/ ___/ _ \/ ___/
/ /___/ /_/ / / / / / / /_/ / /_/ (__  )  __/ /
\____/\____/_/ /_/ /_/ .___/\____/____/\___/_/
                    /_/
Composer version 1.6.5 2018-05-04 11:44:59
```

安装 fxp/composer-asset-plugin 前端资源管理插件：
```
composer global require "fxp/composer-asset-plugin:~1.4"
```

### MySQL安装


<br/><br/><br/><br/><br/>
## 参考资料

适用于 Linux 的 Windows 子系统安装指南 (Windows 10) <https://docs.microsoft.com/zh-cn/windows/wsl/install-win10>

Windows Terminal + WSL2 + CENTOS 配置Windows命令终端 <https://zhuanlan.zhihu.com/p/347461016>

我们如何透过软件包(Chocolatey)优雅地在Windows安装软件? <https://post.smzdm.com/p/akmv9x44/>

Windows下Chocolatey上手教程 <https://www.jianshu.com/p/5325decea0d2>

LxRunOffline 使用教程 - WSL 自定义安装、备份 <https://p3terx.com/archives/manage-wsl-with-lxrunoffline.html>

composer 安装 <https://getcomposer.org/download/>
