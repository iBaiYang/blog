---
layout: post
categories: Linux
title: WSL CentOS7.6搭建使用
meta: WSL CentOS7.6搭建使用
---
* content
{:toc}

## 正文

Windows Subsystem for Linux（简称WSL）是一个在Windows 10上能够运行原生Linux二进制可执行文件（ELF格式）的兼容层。

### 启用WSL

**方式1**

在 控制面板\所有控制面板项\程序和功能 中选择 启用或者关闭Windows功能

找到 适用于Linux的Windows子系统 并勾选，然后 确定 选择 立即重新启动

**方式2**

在开始菜单中点击Windows Powershell进入，或者在开始菜单中磁性贴中点击Windows Powershell进入。

输入Powershell命令，查看确认版本，是否满足WSL安装要求：
```
Get-ComputerInfo | Select WindowsProductName, WindowsVersion, WindowsInstallationType, OsServerLevel, OsVersion, OsHardwareAbstractionLayer
```

启用WSL：
```
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
```

输入y或直接回车，电脑立即重启。重启后即成功启用了WSL。

```
Windows PowerShell
版权所有 (C) Microsoft Corporation。保留所有权利。
尝试新的跨平台 PowerShell https://aka.ms/pscore6 

PS C:\Users\bai> Get-ComputerInfo | Select WindowsProductName, WindowsVersion, WindowsInstallationType, OsServerLevel, OsVersion, OsHardwareAbstractionLayer

WindowsProductName         : Windows 10 Pro
WindowsVersion             : 1903
WindowsInstallationType    : Client
OsServerLevel              :
OsVersion                  : 10.0.18362
OsHardwareAbstractionLayer : 10.0.18362.1

PS C:\Users\bai> Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux            
是否立即重启计算机以完成此操作?
[Y] Yes  [N] No  [?] 帮助 (默认值为“Y”):
```

### 升级WSL2

见 参考资料

### 安装CentOS

在 [https://github.com/wsldl-pg/CentWSL/tags](https://github.com/wsldl-pg/CentWSL/tags) 下载 Centos包。

解压后放到指定目录下。

在目标目录中看到2个文件：rootfs.tar.gz 和 CentOS.exe。我们需要运行CentOS.exe，以便解压其中的文件并注册到WSL。
右键点击CentOS.exe并以管理员身份运行。

等一段时间，系统将自动进行初始化，完成后会有提示成功的消息，此时可按任意键退出安装。
如果时间过长，可以点击回车试试。

返回目录，看到多出了2个文件夹：rootfs、temp。

右击运行CentOS.exe，即成功登录系统了。

运行CentOS.exe后，查看安装的CentOS版本号：
> rpm -q centos-release

输出：`centos-release-7-6.1810.2.el7.centos.x86_64`

或者：
> cat /etc/redhat-release

输出：`CentOS Linux release 7.6.1810 (Core)`

可以看出，我们用的是 CentOS7.6 版。

在 WSL 系统中可以直接访问 windows 磁盘文件，可将一些安装软件包放在 `D:\WslSoftbox` 目录下，将网站web程序放在 `D:\www` 目录中。
而在 WSL 系统中的访问路径分别是 `/mnt/d/WslSoftbox` 和 `/mnt/d/www` 。当然 WSL 这样直接访问 windows 磁盘会有很大的性能问题。
后续使用中如果性能的降低超过了可忍受的程度，可以考虑将这两个目录移动到 WSL 的虚拟磁盘。

打开 Windows 安全中心 > 病毒和威胁防护设置 > 管理设置 > 添加或删除排除项 > 添加排除项，将上述两个目录排除，
这样会减少 windows 的系统性能占用。

看一下Linux 系统上的文件系统磁盘使用情况统计：
```
[root@HIGDQEEMO63U9NR yum.repos.d]# df -h
Filesystem      Size  Used Avail Use% Mounted on
rootfs          338G   14G  325G   4% /
none            338G   14G  325G   4% /dev
none            338G   14G  325G   4% /run
none            338G   14G  325G   4% /run/lock
none            338G   14G  325G   4% /run/shm
none            338G   14G  325G   4% /run/user
cgroup          338G   14G  325G   4% /sys/fs/cgroup
C:\             140G   48G   92G  35% /mnt/c
D:\             338G   14G  325G   4% /mnt/d
```

### 卸载CentOS

不想用了，在WSL上卸载CentOS，用 Windows Powershell 切换到安装目录，执行：
> ./CentOS.exe clean

### 配置yum源

我们把yum源切换为国内源，如阿里云的。

1.先备份
```
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
```

2.下载新的 CentOS-Base.repo 到 `/etc/yum.repos.d/`：
```
wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
```

或者：
```
curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
```

3.生成缓存
```
yum makecache
```

### 安装Nginx

我们可以编译安装，也可以选择yum方式安装。

**yum方式安装**

安装yum-utils，管理repository及扩展包的工具，细节参考下面资料。
> sudo yum install yum-utils

设置nginx的yum仓库配置：
> sudo vi /etc/yum.repos.d/nginx.repo

写入：
```
[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=1
enabled=0
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true
```

执行：
> sudo yum install nginx

安装完成。

查看版本：
```
[root@HIGDQEEMO63U9NR ~]# nginx -v
nginx version: nginx/1.20.1
[root@HIGDQEEMO63U9NR ~]#
```

由于 WSL的这个Centos包中 不能使用 systemd ，使用 service 时会出现错误提示，
这里不注册为 service ，而是使用软链接的方式来省略 nginx 命令的路径前缀。
```
ln -s /usr/sbin/nginx /usr/bin/nginx  # 可以不执行
nginx  # 启动服务，访问127.0.0.1可以看到nginx欢迎界面
nginx -s reload  # 不停止服务重新载入配置文件
nginx -s stop  # 停止服务
```

**配置**

看一下 `/etc/nginx/nginx.conf` 内容：
```
user  nginx;
worker_processes  auto;

error_log  /var/log/nginx/error.log notice;
pid        /var/run/nginx.pid;


events {
    worker_connections  1024;
}


http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    keepalive_timeout  65;

    #gzip  on;

    include /etc/nginx/conf.d/*.conf;
}
```

我们可以在最下面include后补充一句：
```
include /mnt/d/www/vhost/*.conf;
```

在`/etc/nginx/conf.d/`目录下只有 `default.conf`一个文件，就是上面Nginx欢迎页的配置，看一下内容：
```
server {
    listen       80;
    server_name  localhost;

    #access_log  /var/log/nginx/host.access.log  main;

    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }

    #error_page  404              /404.html;

    # redirect server error pages to the static page /50x.html
    #
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }

    # proxy the PHP scripts to Apache listening on 127.0.0.1:80
    #
    #location ~ \.php$ {
    #    proxy_pass   http://127.0.0.1;
    #}

    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
    #
    #location ~ \.php$ {
    #    root           html;
    #    fastcgi_pass   127.0.0.1:9000;
    #    fastcgi_index  index.php;
    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
    #    include        fastcgi_params;
    #}

    # deny access to .htaccess files, if Apache's document root
    # concurs with nginx's one
    #
    #location ~ /\.ht {
    #    deny  all;
    #}
}
```

我们可以类似在`D:\www\vhost\`中写一个自己的项目的配置文件`abc.test.conf`：
```
server {
    listen       80;
    server_name  abc.test;

    location / {
        root   /mnt/d/www/abc;
        index  index.html index.htm;
    }

    # redirect server error pages to the static page /50x.html
    #
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }
}
```

在`D:\www\abc\`中写一个index.html文件，内容自己定义。

在 `C:\Windows\System32\drivers\etc\hosts` 文件最下面增加一行：
```
127.0.0.1      abc.test
```

然后启动Nginx：
> nginx

如果已经启动了，那就重启（不停止服务重新载入配置文件）：
> nginx -s reload

打开浏览器，访问 abc.test ，可以看到效果。

停止服务：
> nginx -s stop

### 安装PHP

我们使用Remi源安装PHP7.4。

安装 EPEL 存储库
> yum install epel-release -y

安装Remi存储库
> rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm

查看`/etc/yum.repos.d`目录，多了的源配置文件：
```
[root@HIGDQEEMO63U9NR yum.repos.d]# ls -l
total 88
-rw-r--r-- 1 root root 2523 Aug 24 13:35 CentOS-Base.repo
-rw-r--r-- 1 root root 1664 Nov 23  2018 CentOS-Base.repo.backup
-rw-r--r-- 1 root root 1309 Nov 23  2018 CentOS-CR.repo
-rw-r--r-- 1 root root  649 Nov 23  2018 CentOS-Debuginfo.repo
-rw-r--r-- 1 root root  314 Nov 23  2018 CentOS-fasttrack.repo
-rw-r--r-- 1 root root  630 Nov 23  2018 CentOS-Media.repo
-rw-r--r-- 1 root root 1331 Nov 23  2018 CentOS-Sources.repo
-rw-r--r-- 1 root root 5701 Nov 23  2018 CentOS-Vault.repo
-rw-r--r-- 1 root root  664 Dec 26  2020 epel.repo
-rw-r--r-- 1 root root  664 Aug 25 19:07 epel.repo.backup
-rw-r--r-- 1 root root 1050 Nov  1  2020 epel.repo.rpmnew
-rw-r--r-- 1 root root 1149 Nov  1  2020 epel-testing.repo
-rw-r--r-- 1 root root  398 Aug 24 14:13 nginx.repo
-rw-r--r-- 1 root root  446 Jan  5  2021 remi-glpi91.repo
-rw-r--r-- 1 root root  446 Jan  5  2021 remi-glpi92.repo
-rw-r--r-- 1 root root  446 Jan  5  2021 remi-glpi93.repo
-rw-r--r-- 1 root root  446 Jan  5  2021 remi-glpi94.repo
-rw-r--r-- 1 root root  855 Jan  5  2021 remi-modular.repo
-rw-r--r-- 1 root root  456 Jan  5  2021 remi-php54.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php70.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php71.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php72.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php73.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php74.repo
-rw-r--r-- 1 root root 1314 Jan  5  2021 remi-php80.repo
-rw-r--r-- 1 root root 2605 Jan  5  2021 remi.repo
-rw-r--r-- 1 root root  750 Jan  5  2021 remi-safe.repo
```

查看可以安装的 php 版本：
> yum list php*

安装 PHP 7.4：
```
yum --enablerepo=remi-php74 install php
```

输出：
```
[root@HIGDQEEMO63U9NR yum.repos.d]# yum --enablerepo=remi-php74 install php
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * remi-php74: mirrors.tuna.tsinghua.edu.cn
 * remi-safe: mirrors.tuna.tsinghua.edu.cn
 * updates: mirrors.aliyun.com
remi-php74                                                                                                 | 3.0 kB  00:00:00
remi-php74/primary_db                                                                                      | 247 kB  00:00:00
Resolving Dependencies
--> Running transaction check
---> Package php.x86_64 0:7.4.23-1.el7.remi will be installed
--> Processing Dependency: httpd-mmn = 20120211x8664 for package: php-7.4.23-1.el7.remi.x86_64
--> Processing Dependency: php-cli(x86-64) = 7.4.23-1.el7.remi for package: php-7.4.23-1.el7.remi.x86_64
--> Processing Dependency: php-common(x86-64) = 7.4.23-1.el7.remi for package: php-7.4.23-1.el7.remi.x86_64
--> Processing Dependency: php-sodium(x86-64) = 7.4.23-1.el7.remi for package: php-7.4.23-1.el7.remi.x86_64
--> Processing Dependency: httpd for package: php-7.4.23-1.el7.remi.x86_64
--> Running transaction check
---> Package httpd.x86_64 0:2.4.6-97.el7.centos will be installed
--> Processing Dependency: httpd-tools = 2.4.6-97.el7.centos for package: httpd-2.4.6-97.el7.centos.x86_64
--> Processing Dependency: system-logos >= 7.92.1-1 for package: httpd-2.4.6-97.el7.centos.x86_64
--> Processing Dependency: /etc/mime.types for package: httpd-2.4.6-97.el7.centos.x86_64
--> Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd-2.4.6-97.el7.centos.x86_64
--> Processing Dependency: libapr-1.so.0()(64bit) for package: httpd-2.4.6-97.el7.centos.x86_64
---> Package php-cli.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php-common.x86_64 0:7.4.23-1.el7.remi will be installed
--> Processing Dependency: php-json(x86-64) = 7.4.23-1.el7.remi for package: php-common-7.4.23-1.el7.remi.x86_64
---> Package php-sodium.x86_64 0:7.4.23-1.el7.remi will be installed
--> Processing Dependency: libsodium.so.23()(64bit) for package: php-sodium-7.4.23-1.el7.remi.x86_64
--> Running transaction check
---> Package apr.x86_64 0:1.4.8-7.el7 will be installed
---> Package apr-util.x86_64 0:1.5.2-6.el7 will be installed
---> Package centos-logos.noarch 0:70.0.6-3.el7.centos will be installed
---> Package httpd-tools.x86_64 0:2.4.6-97.el7.centos will be installed
---> Package libsodium.x86_64 0:1.0.18-1.el7 will be installed
---> Package mailcap.noarch 0:2.1.41-2.el7 will be installed
---> Package php-json.x86_64 0:7.4.23-1.el7.remi will be installed
--> Finished Dependency Resolution

Dependencies Resolved

==================================================================================================================================
 Package                        Arch                     Version                               Repository                    Size
==================================================================================================================================
Installing:
 php                            x86_64                   7.4.23-1.el7.remi                     remi-php74                   3.4 M
Installing for dependencies:
 apr                            x86_64                   1.4.8-7.el7                           base                         104 k
 apr-util                       x86_64                   1.5.2-6.el7                           base                          92 k
 centos-logos                   noarch                   70.0.6-3.el7.centos                   base                          21 M
 httpd                          x86_64                   2.4.6-97.el7.centos                   updates                      2.7 M
 httpd-tools                    x86_64                   2.4.6-97.el7.centos                   updates                       93 k
 libsodium                      x86_64                   1.0.18-1.el7                          epel                         147 k
 mailcap                        noarch                   2.1.41-2.el7                          base                          31 k
 php-cli                        x86_64                   7.4.23-1.el7.remi                     remi-php74                   5.2 M
 php-common                     x86_64                   7.4.23-1.el7.remi                     remi-php74                   1.2 M
 php-json                       x86_64                   7.4.23-1.el7.remi                     remi-php74                    72 k
 php-sodium                     x86_64                   7.4.23-1.el7.remi                     remi-php74                    84 k

Transaction Summary
==================================================================================================================================
Install  1 Package (+11 Dependent packages)

Total download size: 34 M
Installed size: 73 M
Is this ok [y/d/N]: y
Downloading packages:
(1/12): apr-1.4.8-7.el7.x86_64.rpm                                                                         | 104 kB  00:00:00
(2/12): apr-util-1.5.2-6.el7.x86_64.rpm                                                                    |  92 kB  00:00:00
(3/12): mailcap-2.1.41-2.el7.noarch.rpm                                                                    |  31 kB  00:00:00
(4/12): httpd-tools-2.4.6-97.el7.centos.x86_64.rpm                                                         |  93 kB  00:00:00
(5/12): libsodium-1.0.18-1.el7.x86_64.rpm                                                                  | 147 kB  00:00:00
warning: /var/cache/yum/x86_64/7/remi-php74/packages/php-7.4.23-1.el7.remi.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 00f97f56: NOKEY
Public key for php-7.4.23-1.el7.remi.x86_64.rpm is not installed
(6/12): php-7.4.23-1.el7.remi.x86_64.rpm                                                                   | 3.4 MB  00:00:01
(7/12): php-common-7.4.23-1.el7.remi.x86_64.rpm                                                            | 1.2 MB  00:00:00
(8/12): php-json-7.4.23-1.el7.remi.x86_64.rpm                                                              |  72 kB  00:00:00
(9/12): php-sodium-7.4.23-1.el7.remi.x86_64.rpm                                                            |  84 kB  00:00:00
(10/12): php-cli-7.4.23-1.el7.remi.x86_64.rpm                                                              | 5.2 MB  00:00:03
(11/12): httpd-2.4.6-97.el7.centos.x86_64.rpm                                                              | 2.7 MB  00:00:04
(12/12): centos-logos-70.0.6-3.el7.centos.noarch.rpm                                                       |  21 MB  00:00:07
----------------------------------------------------------------------------------------------------------------------------------
Total                                                                                             4.7 MB/s |  34 MB  00:00:07
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-remi
Importing GPG key 0x00F97F56:
 Userid     : "Remi Collet <RPMS@FamilleCollet.com>"
 Fingerprint: 1ee0 4cce 88a4 ae4a a29a 5df5 004e 6f47 00f9 7f56
 Package    : remi-release-7.9-1.el7.remi.noarch (installed)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-remi
Is this ok [y/N]: y
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
Warning: RPMDB altered outside of yum.
  Installing : php-json-7.4.23-1.el7.remi.x86_64                                                                             1/12
  Installing : php-common-7.4.23-1.el7.remi.x86_64                                                                           2/12
  Installing : apr-1.4.8-7.el7.x86_64                                                                                        3/12
  Installing : apr-util-1.5.2-6.el7.x86_64                                                                                   4/12
  Installing : httpd-tools-2.4.6-97.el7.centos.x86_64                                                                        5/12
  Installing : php-cli-7.4.23-1.el7.remi.x86_64                                                                              6/12
  Installing : centos-logos-70.0.6-3.el7.centos.noarch                                                                       7/12
  Installing : mailcap-2.1.41-2.el7.noarch                                                                                   8/12
  Installing : httpd-2.4.6-97.el7.centos.x86_64                                                                              9/12
  Installing : libsodium-1.0.18-1.el7.x86_64                                                                                10/12
  Installing : php-sodium-7.4.23-1.el7.remi.x86_64                                                                          11/12
  Installing : php-7.4.23-1.el7.remi.x86_64                                                                                 12/12
  Verifying  : php-7.4.23-1.el7.remi.x86_64                                                                                  1/12
  Verifying  : apr-1.4.8-7.el7.x86_64                                                                                        2/12
  Verifying  : libsodium-1.0.18-1.el7.x86_64                                                                                 3/12
  Verifying  : php-common-7.4.23-1.el7.remi.x86_64                                                                           4/12
  Verifying  : mailcap-2.1.41-2.el7.noarch                                                                                   5/12
  Verifying  : php-sodium-7.4.23-1.el7.remi.x86_64                                                                           6/12
  Verifying  : apr-util-1.5.2-6.el7.x86_64                                                                                   7/12
  Verifying  : php-json-7.4.23-1.el7.remi.x86_64                                                                             8/12
  Verifying  : httpd-2.4.6-97.el7.centos.x86_64                                                                              9/12
  Verifying  : httpd-tools-2.4.6-97.el7.centos.x86_64                                                                       10/12
  Verifying  : centos-logos-70.0.6-3.el7.centos.noarch                                                                      11/12
  Verifying  : php-cli-7.4.23-1.el7.remi.x86_64                                                                             12/12

Installed:
  php.x86_64 0:7.4.23-1.el7.remi

Dependency Installed:
  apr.x86_64 0:1.4.8-7.el7               apr-util.x86_64 0:1.5.2-6.el7               centos-logos.noarch 0:70.0.6-3.el7.centos
  httpd.x86_64 0:2.4.6-97.el7.centos     httpd-tools.x86_64 0:2.4.6-97.el7.centos    libsodium.x86_64 0:1.0.18-1.el7
  mailcap.noarch 0:2.1.41-2.el7          php-cli.x86_64 0:7.4.23-1.el7.remi          php-common.x86_64 0:7.4.23-1.el7.remi
  php-json.x86_64 0:7.4.23-1.el7.remi    php-sodium.x86_64 0:7.4.23-1.el7.remi

Complete!
[root@HIGDQEEMO63U9NR yum.repos.d]#
```

查看版本：
```
[root@HIGDQEEMO63U9NR yum.repos.d]# php -v
PHP 7.4.23 (cli) (built: Aug 24 2021 16:33:30) ( NTS )
Copyright (c) The PHP Group
Zend Engine v3.4.0, Copyright (c) Zend Technologies
```

安装拓展，扩展安装格式 php74-php-扩展模块名 ，缺什么扩展只要按照格式安装相应模块即可（这种方法有问题，具体看下面）：
```
yum install -y php74-php-fpm php74-php-cli php74-php-bcmath php74-php-gd php74-php-json php74-php-mbstring php74-php-mcrypt php74-php-mysqlnd php74-php-opcache php74-php-pdo php74-php-pecl-mcrypt php74-php-xml php74-php-zip
```

输出：
```
[root@HIGDQEEMO63U9NR yum.repos.d]# yum install -y php74-php-fpm php74-php-cli php74-php-bcmath php74-php-gd php74-php-json php74-php-mbstring php74-php-mcrypt php74-php-mysqlnd php74-php-opcache php74-php-pdo php74-php-pecl-mcrypt php74-php-xml php74-php-zip
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * remi-safe: mirrors.tuna.tsinghua.edu.cn
 * updates: mirrors.aliyun.com
Resolving Dependencies
--> Running transaction check
---> Package php74-php-bcmath.x86_64 0:7.4.23-1.el7.remi will be installed
--> Processing Dependency: php74-php-common(x86-64) = 7.4.23-1.el7.remi for package: php74-php-bcmath-7.4.23-1.el7.remi.x86_64
---> Package php74-php-cli.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-php-fpm.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-php-gd.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-php-json.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-php-mbstring.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-php-mysqlnd.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-php-opcache.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-php-pdo.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-php-pecl-mcrypt.x86_64 0:1.0.4-1.el7.remi will be installed
--> Processing Dependency: php74-runtime for package: php74-php-pecl-mcrypt-1.0.4-1.el7.remi.x86_64
--> Processing Dependency: php74-runtime(remi)(x86-64) for package: php74-php-pecl-mcrypt-1.0.4-1.el7.remi.x86_64
---> Package php74-php-pecl-zip.x86_64 0:1.19.3-2.el7.remi will be installed
---> Package php74-php-xml.x86_64 0:7.4.23-1.el7.remi will be installed
--> Running transaction check
---> Package php74-php-common.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php74-runtime.x86_64 0:1.0-3.el7.remi will be installed
--> Finished Dependency Resolution

Dependencies Resolved

==================================================================================================================================
 Package                               Arch                   Version                             Repository                 Size
==================================================================================================================================
Installing:
 php74-php-bcmath                      x86_64                 7.4.23-1.el7.remi                   remi-safe                  82 k
 php74-php-cli                         x86_64                 7.4.23-1.el7.remi                   remi-safe                 3.4 M
 php74-php-fpm                         x86_64                 7.4.23-1.el7.remi                   remi-safe                 1.8 M
 php74-php-gd                          x86_64                 7.4.23-1.el7.remi                   remi-safe                  87 k
 php74-php-json                        x86_64                 7.4.23-1.el7.remi                   remi-safe                  76 k
 php74-php-mbstring                    x86_64                 7.4.23-1.el7.remi                   remi-safe                 486 k
 php74-php-mysqlnd                     x86_64                 7.4.23-1.el7.remi                   remi-safe                 194 k
 php74-php-opcache                     x86_64                 7.4.23-1.el7.remi                   remi-safe                 269 k
 php74-php-pdo                         x86_64                 7.4.23-1.el7.remi                   remi-safe                 124 k
 php74-php-pecl-mcrypt                 x86_64                 1.0.4-1.el7.remi                    remi-safe                  23 k
 php74-php-pecl-zip                    x86_64                 1.19.3-2.el7.remi                   remi-safe                  53 k
 php74-php-xml                         x86_64                 7.4.23-1.el7.remi                   remi-safe                 173 k
Installing for dependencies:
 php74-php-common                      x86_64                 7.4.23-1.el7.remi                   remi-safe                 695 k
 php74-runtime                         x86_64                 1.0-3.el7.remi                      remi-safe                 1.1 M

Transaction Summary
==================================================================================================================================
Install  12 Packages (+2 Dependent packages)

Total download size: 8.6 M
Installed size: 28 M
Downloading packages:
(1/14): php74-php-bcmath-7.4.23-1.el7.remi.x86_64.rpm                                                      |  82 kB  00:00:01
(2/14): php74-php-json-7.4.23-1.el7.remi.x86_64.rpm                                                        |  76 kB  00:00:00
(3/14): php74-php-common-7.4.23-1.el7.remi.x86_64.rpm                                                      | 695 kB  00:00:02
(4/14): php74-php-mysqlnd-7.4.23-1.el7.remi.x86_64.rpm                                                     | 194 kB  00:00:00
(5/14): php74-php-gd-7.4.23-1.el7.remi.x86_64.rpm                                                          |  87 kB  00:00:02
(6/14): php74-php-mbstring-7.4.23-1.el7.remi.x86_64.rpm                                                    | 486 kB  00:00:01
(7/14): php74-php-opcache-7.4.23-1.el7.remi.x86_64.rpm                                                     | 269 kB  00:00:00
(8/14): php74-php-pecl-mcrypt-1.0.4-1.el7.remi.x86_64.rpm                                                  |  23 kB  00:00:00
(9/14): php74-php-pecl-zip-1.19.3-2.el7.remi.x86_64.rpm                                                    |  53 kB  00:00:00
(10/14): php74-php-xml-7.4.23-1.el7.remi.x86_64.rpm                                                        | 173 kB  00:00:00
(11/14): php74-php-pdo-7.4.23-1.el7.remi.x86_64.rpm                                                        | 124 kB  00:00:00
(12/14): php74-runtime-1.0-3.el7.remi.x86_64.rpm                                                           | 1.1 MB  00:00:01
(13/14): php74-php-fpm-7.4.23-1.el7.remi.x86_64.rpm                                                        | 1.8 MB  00:00:05
(14/14): php74-php-cli-7.4.23-1.el7.remi.x86_64.rpm                                                        | 3.4 MB  00:00:06
----------------------------------------------------------------------------------------------------------------------------------
Total                                                                                             1.3 MB/s | 8.6 MB  00:00:06
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : php74-runtime-1.0-3.el7.remi.x86_64                                                                           1/14
  Installing : php74-php-json-7.4.23-1.el7.remi.x86_64                                                                       2/14
  Installing : php74-php-common-7.4.23-1.el7.remi.x86_64                                                                     3/14
  Installing : php74-php-pdo-7.4.23-1.el7.remi.x86_64                                                                        4/14
  Installing : php74-php-mysqlnd-7.4.23-1.el7.remi.x86_64                                                                    5/14
  Installing : php74-php-pecl-zip-1.19.3-2.el7.remi.x86_64                                                                   6/14
  Installing : php74-php-mbstring-7.4.23-1.el7.remi.x86_64                                                                   7/14
  Installing : php74-php-cli-7.4.23-1.el7.remi.x86_64                                                                        8/14
  Installing : php74-php-pecl-mcrypt-1.0.4-1.el7.remi.x86_64                                                                 9/14
  Installing : php74-php-bcmath-7.4.23-1.el7.remi.x86_64                                                                    10/14
  Installing : php74-php-xml-7.4.23-1.el7.remi.x86_64                                                                       11/14
  Installing : php74-php-opcache-7.4.23-1.el7.remi.x86_64                                                                   12/14
  Installing : php74-php-gd-7.4.23-1.el7.remi.x86_64                                                                        13/14
  Installing : php74-php-fpm-7.4.23-1.el7.remi.x86_64                                                                       14/14
  Verifying  : php74-php-pecl-zip-1.19.3-2.el7.remi.x86_64                                                                   1/14
  Verifying  : php74-php-mbstring-7.4.23-1.el7.remi.x86_64                                                                   2/14
  Verifying  : php74-php-cli-7.4.23-1.el7.remi.x86_64                                                                        3/14
  Verifying  : php74-php-pecl-mcrypt-1.0.4-1.el7.remi.x86_64                                                                 4/14
  Verifying  : php74-runtime-1.0-3.el7.remi.x86_64                                                                           5/14
  Verifying  : php74-php-mysqlnd-7.4.23-1.el7.remi.x86_64                                                                    6/14
  Verifying  : php74-php-bcmath-7.4.23-1.el7.remi.x86_64                                                                     7/14
  Verifying  : php74-php-xml-7.4.23-1.el7.remi.x86_64                                                                        8/14
  Verifying  : php74-php-pdo-7.4.23-1.el7.remi.x86_64                                                                        9/14
  Verifying  : php74-php-opcache-7.4.23-1.el7.remi.x86_64                                                                   10/14
  Verifying  : php74-php-json-7.4.23-1.el7.remi.x86_64                                                                      11/14
  Verifying  : php74-php-gd-7.4.23-1.el7.remi.x86_64                                                                        12/14
  Verifying  : php74-php-common-7.4.23-1.el7.remi.x86_64                                                                    13/14
  Verifying  : php74-php-fpm-7.4.23-1.el7.remi.x86_64                                                                       14/14

Installed:
  php74-php-bcmath.x86_64 0:7.4.23-1.el7.remi                    php74-php-cli.x86_64 0:7.4.23-1.el7.remi
  php74-php-fpm.x86_64 0:7.4.23-1.el7.remi                       php74-php-gd.x86_64 0:7.4.23-1.el7.remi
  php74-php-json.x86_64 0:7.4.23-1.el7.remi                      php74-php-mbstring.x86_64 0:7.4.23-1.el7.remi
  php74-php-mysqlnd.x86_64 0:7.4.23-1.el7.remi                   php74-php-opcache.x86_64 0:7.4.23-1.el7.remi
  php74-php-pdo.x86_64 0:7.4.23-1.el7.remi                       php74-php-pecl-mcrypt.x86_64 0:1.0.4-1.el7.remi
  php74-php-pecl-zip.x86_64 0:1.19.3-2.el7.remi                  php74-php-xml.x86_64 0:7.4.23-1.el7.remi

Dependency Installed:
  php74-php-common.x86_64 0:7.4.23-1.el7.remi                        php74-runtime.x86_64 0:1.0-3.el7.remi

Complete!
[root@HIGDQEEMO63U9NR yum.repos.d]#
```

查看拓展：
```
[root@HIGDQEEMO63U9NR yum.repos.d]# php -m
[PHP Modules]
bz2
calendar
Core
ctype
curl
date
exif
fileinfo
filter
ftp
gettext
hash
iconv
json
libxml
openssl
pcntl
pcre
Phar
readline
Reflection
session
sockets
sodium
SPL
standard
tokenizer
zlib

[Zend Modules]
```

发现这样安装php拓展并没有起作用，是没有指定仓库的原因。
先卸载，用`yum remove name`会把依赖也卸载掉，导致系统崩溃，我们只卸载指定软件`rpm -e --nodeps name`：
```
[root@HIGDQEEMO63U9NR ~]# yum remove php74-php-xml php74-php-zip
Loaded plugins: fastestmirror
Resolving Dependencies
--> Running transaction check
---> Package php74-php-pecl-zip.x86_64 0:1.19.3-2.el7.remi will be erased
---> Package php74-php-xml.x86_64 0:7.4.23-1.el7.remi will be erased
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================
 Package                    Arch           Version                    Repository          Size
===============================================================================================
Removing:
 php74-php-pecl-zip         x86_64         1.19.3-2.el7.remi          @remi-safe         133 k
 php74-php-xml              x86_64         7.4.23-1.el7.remi          @remi-safe         383 k

Transaction Summary
===============================================================================================
Remove  2 Packages

Installed size: 517 k
Is this ok [y/N]: y
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Erasing    : php74-php-xml-7.4.23-1.el7.remi.x86_64                                      1/2
  Erasing    : php74-php-pecl-zip-1.19.3-2.el7.remi.x86_64                                 2/2
  Verifying  : php74-php-pecl-zip-1.19.3-2.el7.remi.x86_64                                 1/2
  Verifying  : php74-php-xml-7.4.23-1.el7.remi.x86_64                                      2/2

Removed:
  php74-php-pecl-zip.x86_64 0:1.19.3-2.el7.remi    php74-php-xml.x86_64 0:7.4.23-1.el7.remi

Complete!
[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# rpm -e --nodeps php74-php-pecl-mcrypt
[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# rpm -e --nodeps php74-php-mysqlnd php74-php-opcache
[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# yum remove php74-php-fpm php74-php-cli php74-php-bcmath php74-php-gd php74-php-json php74-php-mbstring
Loaded plugins: fastestmirror
Resolving Dependencies
--> Running transaction check
---> Package php74-php-bcmath.x86_64 0:7.4.23-1.el7.remi will be erased
---> Package php74-php-cli.x86_64 0:7.4.23-1.el7.remi will be erased
---> Package php74-php-fpm.x86_64 0:7.4.23-1.el7.remi will be erased
---> Package php74-php-gd.x86_64 0:7.4.23-1.el7.remi will be erased
---> Package php74-php-json.x86_64 0:7.4.23-1.el7.remi will be erased
--> Processing Dependency: php74-php-json(x86-64) = 7.4.23-1.el7.remi for package: php74-php-common-7.4.23-1.el7.remi.x86_64
---> Package php74-php-mbstring.x86_64 0:7.4.23-1.el7.remi will be erased
--> Running transaction check
---> Package php74-php-common.x86_64 0:7.4.23-1.el7.remi will be erased
--> Processing Dependency: php74-php-common(x86-64) = 7.4.23-1.el7.remi for package: php74-php-pdo-7.4.23-1.el7.remi.x86_64
--> Running transaction check
---> Package php74-php-pdo.x86_64 0:7.4.23-1.el7.remi will be erased
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================
 Package                    Arch           Version                    Repository          Size
===============================================================================================
Removing:
 php74-php-bcmath           x86_64         7.4.23-1.el7.remi          @remi-safe          62 k
 php74-php-cli              x86_64         7.4.23-1.el7.remi          @remi-safe          12 M
 php74-php-fpm              x86_64         7.4.23-1.el7.remi          @remi-safe         6.2 M
 php74-php-gd               x86_64         7.4.23-1.el7.remi          @remi-safe         110 k
 php74-php-json             x86_64         7.4.23-1.el7.remi          @remi-safe          44 k
 php74-php-mbstring         x86_64         7.4.23-1.el7.remi          @remi-safe         1.0 M
Removing for dependencies:
 php74-php-common           x86_64         7.4.23-1.el7.remi          @remi-safe         6.7 M
 php74-php-pdo              x86_64         7.4.23-1.el7.remi          @remi-safe         195 k

Transaction Summary
===============================================================================================
Remove  6 Packages (+2 Dependent packages)

Installed size: 27 M
Is this ok [y/N]: y
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
Warning: RPMDB altered outside of yum.
  Erasing    : php74-php-fpm-7.4.23-1.el7.remi.x86_64                                      1/8
warning: /etc/opt/remi/php74/php-fpm.d/www.conf saved as /etc/opt/remi/php74/php-fpm.d/www.conf.rpmsave
  Erasing    : php74-php-gd-7.4.23-1.el7.remi.x86_64                                       2/8
  Erasing    : php74-php-pdo-7.4.23-1.el7.remi.x86_64                                      3/8
  Erasing    : php74-php-bcmath-7.4.23-1.el7.remi.x86_64                                   4/8
  Erasing    : php74-php-cli-7.4.23-1.el7.remi.x86_64                                      5/8
  Erasing    : php74-php-mbstring-7.4.23-1.el7.remi.x86_64                                 6/8
  Erasing    : php74-php-json-7.4.23-1.el7.remi.x86_64                                     7/8
  Erasing    : php74-php-common-7.4.23-1.el7.remi.x86_64                                   8/8
  Verifying  : php74-php-mbstring-7.4.23-1.el7.remi.x86_64                                 1/8
  Verifying  : php74-php-cli-7.4.23-1.el7.remi.x86_64                                      2/8
  Verifying  : php74-php-bcmath-7.4.23-1.el7.remi.x86_64                                   3/8
  Verifying  : php74-php-pdo-7.4.23-1.el7.remi.x86_64                                      4/8
  Verifying  : php74-php-json-7.4.23-1.el7.remi.x86_64                                     5/8
  Verifying  : php74-php-gd-7.4.23-1.el7.remi.x86_64                                       6/8
  Verifying  : php74-php-common-7.4.23-1.el7.remi.x86_64                                   7/8
  Verifying  : php74-php-fpm-7.4.23-1.el7.remi.x86_64                                      8/8

Removed:
  php74-php-bcmath.x86_64 0:7.4.23-1.el7.remi   php74-php-cli.x86_64 0:7.4.23-1.el7.remi
  php74-php-fpm.x86_64 0:7.4.23-1.el7.remi      php74-php-gd.x86_64 0:7.4.23-1.el7.remi
  php74-php-json.x86_64 0:7.4.23-1.el7.remi     php74-php-mbstring.x86_64 0:7.4.23-1.el7.remi

Dependency Removed:
  php74-php-common.x86_64 0:7.4.23-1.el7.remi     php74-php-pdo.x86_64 0:7.4.23-1.el7.remi

Complete!
[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# php -m
[PHP Modules]
bz2
calendar
Core
ctype
curl
date
exif
fileinfo
filter
ftp
gettext
hash
iconv
json
libxml
openssl
pcntl
pcre
PDO
pdo_sqlite
Phar
readline
Reflection
session
sockets
sodium
SPL
sqlite3
standard
tokenizer
zlib

[Zend Modules]

[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# yum remove php74-php-pdo
Loaded plugins: fastestmirror
No Match for argument: php74-php-pdo
No Packages marked for removal
[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# php -m
[PHP Modules]
bz2
calendar
Core
ctype
curl
date
exif
fileinfo
filter
ftp
gettext
hash
iconv
json
libxml
openssl
pcntl
pcre
PDO
pdo_sqlite
Phar
readline
Reflection
session
sockets
sodium
SPL
sqlite3
standard
tokenizer
zlib

[Zend Modules]

[root@HIGDQEEMO63U9NR ~]#
```

指定仓库名，重新安装 php74 拓展，因为已经指定了仓库，不需要带 php74 了：
```
yum --enablerepo=remi-php74 install -y php-fpm php-cli php-bcmath php-gd php-json php-mbstring php-mcrypt php-mysqlnd php-opcache php-pdo php-pecl-mcrypt php-xml php-zip
```

输出：
```
[root@HIGDQEEMO63U9NR ~]# yum --enablerepo=remi-php74 install -y php-fpm php-cli php-bcmath php-gd php-json php-mbstring php-mcrypt php-mysqlnd php-opcache php-pdo php-pecl-mcrypt php-xml php-zip
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * remi-php74: mirrors.tuna.tsinghua.edu.cn
 * remi-safe: mirrors.tuna.tsinghua.edu.cn
 * updates: mirrors.aliyun.com
Package php-cli-7.4.23-1.el7.remi.x86_64 already installed and latest version
Package php-json-7.4.23-1.el7.remi.x86_64 already installed and latest version
Package php-mcrypt is obsoleted by php-pecl-mcrypt, trying to install php-pecl-mcrypt-1.0.4-1.el7.remi.7.4.x86_64 instead
Package php-pdo-7.4.23-1.el7.remi.x86_64 already installed and latest version
Resolving Dependencies
--> Running transaction check
---> Package php-bcmath.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php-fpm.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php-gd.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php-mbstring.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php-mysqlnd.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php-opcache.x86_64 0:7.4.23-1.el7.remi will be installed
---> Package php-pecl-mcrypt.x86_64 0:1.0.4-1.el7.remi.7.4 will be installed
---> Package php-pecl-zip.x86_64 0:1.19.4-1.el7.remi.7.4 will be installed
---> Package php-xml.x86_64 0:7.4.23-1.el7.remi will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================
 Package                 Arch           Version                       Repository          Size
===============================================================================================
Installing:
 php-bcmath              x86_64         7.4.23-1.el7.remi             remi-php74          79 k
 php-fpm                 x86_64         7.4.23-1.el7.remi             remi-php74         1.8 M
 php-gd                  x86_64         7.4.23-1.el7.remi             remi-php74          88 k
 php-mbstring            x86_64         7.4.23-1.el7.remi             remi-php74         522 k
 php-mysqlnd             x86_64         7.4.23-1.el7.remi             remi-php74         254 k
 php-opcache             x86_64         7.4.23-1.el7.remi             remi-php74         331 k
 php-pecl-mcrypt         x86_64         1.0.4-1.el7.remi.7.4          remi-php74          30 k
 php-pecl-zip            x86_64         1.19.4-1.el7.remi.7.4         remi-php74          62 k
 php-xml                 x86_64         7.4.23-1.el7.remi             remi-php74         208 k

Transaction Summary
===============================================================================================
Install  9 Packages

Total download size: 3.3 M
Installed size: 12 M
Downloading packages:
(1/9): php-bcmath-7.4.23-1.el7.remi.x86_64.rpm                          |  79 kB  00:00:00
(2/9): php-opcache-7.4.23-1.el7.remi.x86_64.rpm                         | 331 kB  00:00:00
(3/9): php-pecl-mcrypt-1.0.4-1.el7.remi.7.4.x86_64.rpm                  |  30 kB  00:00:00
(4/9): php-pecl-zip-1.19.4-1.el7.remi.7.4.x86_64.rpm                    |  62 kB  00:00:00
(5/9): php-xml-7.4.23-1.el7.remi.x86_64.rpm                             | 208 kB  00:00:00
(6/9): php-gd-7.4.23-1.el7.remi.x86_64.rpm                              |  88 kB  00:00:01
(7/9): php-mysqlnd-7.4.23-1.el7.remi.x86_64.rpm                         | 254 kB  00:00:03
(8/9): php-mbstring-7.4.23-1.el7.remi.x86_64.rpm                        | 522 kB  00:00:04
(9/9): php-fpm-7.4.23-1.el7.remi.x86_64.rpm                             | 1.8 MB  00:00:14
-----------------------------------------------------------------------------------------------
Total                                                          227 kB/s | 3.3 MB  00:00:15
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : php-xml-7.4.23-1.el7.remi.x86_64                                            1/9
  Installing : php-pecl-zip-1.19.4-1.el7.remi.7.4.x86_64                                   2/9
  Installing : php-fpm-7.4.23-1.el7.remi.x86_64                                            3/9
  Installing : php-bcmath-7.4.23-1.el7.remi.x86_64                                         4/9
  Installing : php-opcache-7.4.23-1.el7.remi.x86_64                                        5/9
  Installing : php-mbstring-7.4.23-1.el7.remi.x86_64                                       6/9
  Installing : php-gd-7.4.23-1.el7.remi.x86_64                                             7/9
  Installing : php-pecl-mcrypt-1.0.4-1.el7.remi.7.4.x86_64                                 8/9
  Installing : php-mysqlnd-7.4.23-1.el7.remi.x86_64                                        9/9
  Verifying  : php-mysqlnd-7.4.23-1.el7.remi.x86_64                                        1/9
  Verifying  : php-pecl-mcrypt-1.0.4-1.el7.remi.7.4.x86_64                                 2/9
  Verifying  : php-gd-7.4.23-1.el7.remi.x86_64                                             3/9
  Verifying  : php-mbstring-7.4.23-1.el7.remi.x86_64                                       4/9
  Verifying  : php-opcache-7.4.23-1.el7.remi.x86_64                                        5/9
  Verifying  : php-bcmath-7.4.23-1.el7.remi.x86_64                                         6/9
  Verifying  : php-fpm-7.4.23-1.el7.remi.x86_64                                            7/9
  Verifying  : php-pecl-zip-1.19.4-1.el7.remi.7.4.x86_64                                   8/9
  Verifying  : php-xml-7.4.23-1.el7.remi.x86_64                                            9/9

Installed:
  php-bcmath.x86_64 0:7.4.23-1.el7.remi           php-fpm.x86_64 0:7.4.23-1.el7.remi
  php-gd.x86_64 0:7.4.23-1.el7.remi               php-mbstring.x86_64 0:7.4.23-1.el7.remi
  php-mysqlnd.x86_64 0:7.4.23-1.el7.remi          php-opcache.x86_64 0:7.4.23-1.el7.remi
  php-pecl-mcrypt.x86_64 0:1.0.4-1.el7.remi.7.4   php-pecl-zip.x86_64 0:1.19.4-1.el7.remi.7.4
  php-xml.x86_64 0:7.4.23-1.el7.remi

Complete!
[root@HIGDQEEMO63U9NR ~]#
```

查看拓展：
```
[root@HIGDQEEMO63U9NR ~]# php -m
[PHP Modules]
bcmath
bz2
calendar
Core
ctype
curl
date
dom
exif
fileinfo
filter
ftp
gd
gettext
hash
iconv
json
libxml
mbstring
mcrypt
mysqli
mysqlnd
openssl
pcntl
pcre
PDO
pdo_mysql
pdo_sqlite
Phar
readline
Reflection
session
SimpleXML
sockets
sodium
SPL
sqlite3
standard
tokenizer
xml
xmlreader
xmlwriter
xsl
Zend OPcache
zip
zlib

[Zend Modules]
Zend OPcache

[root@HIGDQEEMO63U9NR ~]#
```

安装完成。

#### 卸载 php7.4

> yum remove php74-php*

### 安装composer

### 安装MySQL

### 安装Kafka

Kafka 使用 Zookeeper 来保存相关配置信息，Kafka 及 Zookeeper 依赖 Java 运行环境，需要先安装Java。

#### 安装Java

我们可以从 [Oracle官网](https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html) 下载JDK 安装包，解压安装；
也可以用yum方式安装。

这里选择yum方式安装。

一、查找java相关的列表：
> yum -y list java*
```
[root@HIGDQEEMO63U9NR ~]# yum -y list java*
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * remi-safe: mirrors.tuna.tsinghua.edu.cn
 * updates: mirrors.aliyun.com
Available Packages
java-1.6.0-openjdk.x86_64                              1:1.6.0.41-1.13.13.1.el7_3       base
java-1.6.0-openjdk-demo.x86_64                         1:1.6.0.41-1.13.13.1.el7_3       base
java-1.6.0-openjdk-devel.x86_64                        1:1.6.0.41-1.13.13.1.el7_3       base
java-1.6.0-openjdk-javadoc.x86_64                      1:1.6.0.41-1.13.13.1.el7_3       base
java-1.6.0-openjdk-src.x86_64                          1:1.6.0.41-1.13.13.1.el7_3       base
java-1.7.0-openjdk.x86_64                              1:1.7.0.261-2.6.22.2.el7_8       base
java-1.7.0-openjdk-accessibility.x86_64                1:1.7.0.261-2.6.22.2.el7_8       base
java-1.7.0-openjdk-demo.x86_64                         1:1.7.0.261-2.6.22.2.el7_8       base
java-1.7.0-openjdk-devel.x86_64                        1:1.7.0.261-2.6.22.2.el7_8       base
java-1.7.0-openjdk-headless.x86_64                     1:1.7.0.261-2.6.22.2.el7_8       base
java-1.7.0-openjdk-javadoc.noarch                      1:1.7.0.261-2.6.22.2.el7_8       base
java-1.7.0-openjdk-src.x86_64                          1:1.7.0.261-2.6.22.2.el7_8       base
java-1.8.0-openjdk.i686                                1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk.x86_64                              1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-accessibility.i686                  1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-accessibility.x86_64                1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-demo.i686                           1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-demo.x86_64                         1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-devel.i686                          1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-devel.x86_64                        1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-headless.i686                       1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-headless.x86_64                     1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-javadoc.noarch                      1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-javadoc-zip.noarch                  1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-src.i686                            1:1.8.0.302.b08-0.el7_9          updates
java-1.8.0-openjdk-src.x86_64                          1:1.8.0.302.b08-0.el7_9          updates
java-11-openjdk.i686                                   1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk.x86_64                                 1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-demo.i686                              1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-demo.x86_64                            1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-devel.i686                             1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-devel.x86_64                           1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-headless.i686                          1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-headless.x86_64                        1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-javadoc.i686                           1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-javadoc.x86_64                         1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-javadoc-zip.i686                       1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-javadoc-zip.x86_64                     1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-jmods.i686                             1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-jmods.x86_64                           1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-src.i686                               1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-src.x86_64                             1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-static-libs.i686                       1:11.0.12.0.7-0.el7_9            updates
java-11-openjdk-static-libs.x86_64                     1:11.0.12.0.7-0.el7_9            updates
java-atk-wrapper.i686                                  0.30.4-5.el7                     base
java-atk-wrapper.x86_64                                0.30.4-5.el7                     base
java-dirq.noarch                                       1.8-1.el7                        epel
java-dirq-javadoc.noarch                               1.8-1.el7                        epel
java-latest-openjdk.x86_64                             1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-debug.x86_64                       1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-demo.x86_64                        1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-demo-debug.x86_64                  1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-demo-fastdebug.x86_64              1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-devel.x86_64                       1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-devel-debug.x86_64                 1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-devel-fastdebug.x86_64             1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-fastdebug.x86_64                   1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-headless.x86_64                    1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-headless-debug.x86_64              1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-headless-fastdebug.x86_64          1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-javadoc.x86_64                     1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-javadoc-zip.x86_64                 1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-jmods.x86_64                       1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-jmods-debug.x86_64                 1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-jmods-fastdebug.x86_64             1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-src.x86_64                         1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-src-debug.x86_64                   1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-src-fastdebug.x86_64               1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-static-libs.x86_64                 1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-static-libs-debug.x86_64           1:16.0.1.0.9-3.rolling.el7       epel
java-latest-openjdk-static-libs-fastdebug.x86_64       1:16.0.1.0.9-3.rolling.el7       epel
java-oauth.noarch                                      20100601-13.el7                  epel
java-oauth-javadoc.noarch                              20100601-13.el7                  epel
java-runtime-decompiler.noarch                         5.1-1.el7                        epel
java-runtime-decompiler-javadoc.noarch                 5.1-1.el7                        epel
java_cup.noarch                                        1:0.11a-16.el7                   base
java_cup-javadoc.noarch                                1:0.11a-16.el7                   base
java_cup-manual.noarch                                 1:0.11a-16.el7                   base
javacc.noarch                                          5.0-10.el7                       base
javacc-demo.noarch                                     5.0-10.el7                       base
javacc-javadoc.noarch                                  5.0-10.el7                       base
javacc-manual.noarch                                   5.0-10.el7                       base
javacc-maven-plugin.noarch                             2.6-17.el7                       base
javacc-maven-plugin-javadoc.noarch                     2.6-17.el7                       base
javamail.noarch                                        1.4.6-8.el7                      base
javamail-javadoc.noarch                                1.4.6-8.el7                      base
javapackages-tools.noarch                              3.4.1-11.el7                     base
javaparser.noarch                                      1.0.11-3.el7                     epel
javaparser-javadoc.noarch                              1.0.11-3.el7                     epel
javassist.noarch                                       3.16.1-10.el7                    base
javassist-javadoc.noarch                               3.16.1-10.el7                    base
javastroke.x86_64                                      0.5.1-33.el7                     epel
javawriter.noarch                                      2.5.1-4.el7                      epel
javawriter-javadoc.noarch                              2.5.1-4.el7                      epel
[root@HIGDQEEMO63U9NR ~]#
```

或者：
> yum search jdk
```
[root@HIGDQEEMO63U9NR ~]# yum search jdk
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * remi-safe: mirrors.tuna.tsinghua.edu.cn
 * updates: mirrors.aliyun.com
====================================== N/S matched: jdk =======================================
copy-jdk-configs.noarch : JDKs configuration files copier
java-1.6.0-openjdk.x86_64 : OpenJDK Runtime Environment
java-1.6.0-openjdk-demo.x86_64 : OpenJDK Demos
java-1.6.0-openjdk-devel.x86_64 : OpenJDK Development Environment
java-1.6.0-openjdk-javadoc.x86_64 : OpenJDK API Documentation
java-1.6.0-openjdk-src.x86_64 : OpenJDK Source Bundle
java-1.7.0-openjdk.x86_64 : OpenJDK Runtime Environment
java-1.7.0-openjdk-accessibility.x86_64 : OpenJDK accessibility connector
java-1.7.0-openjdk-demo.x86_64 : OpenJDK Demos
java-1.7.0-openjdk-devel.x86_64 : OpenJDK Development Environment
java-1.7.0-openjdk-headless.x86_64 : The OpenJDK runtime environment without audio and video
                                   : support
java-1.7.0-openjdk-javadoc.noarch : OpenJDK API Documentation
java-1.7.0-openjdk-src.x86_64 : OpenJDK Source Bundle
java-1.8.0-openjdk.i686 : OpenJDK Runtime Environment 8
java-1.8.0-openjdk.x86_64 : OpenJDK 8 Runtime Environment
java-1.8.0-openjdk-accessibility.i686 : OpenJDK accessibility connector
java-1.8.0-openjdk-accessibility.x86_64 : OpenJDK accessibility connector
java-1.8.0-openjdk-demo.i686 : OpenJDK Demos 8
java-1.8.0-openjdk-demo.x86_64 : OpenJDK 8 Demos
java-1.8.0-openjdk-devel.i686 : OpenJDK Development Environment 8
java-1.8.0-openjdk-devel.x86_64 : OpenJDK 8 Development Environment
java-1.8.0-openjdk-headless.i686 : OpenJDK Headless Runtime Environment 8
java-1.8.0-openjdk-headless.x86_64 : OpenJDK 8 Headless Runtime Environment
java-1.8.0-openjdk-javadoc.noarch : OpenJDK 8 API documentation
java-1.8.0-openjdk-javadoc-zip.noarch : OpenJDK 8 API documentation compressed in a single
                                      : archive
java-1.8.0-openjdk-src.i686 : OpenJDK Source Bundle 8
java-1.8.0-openjdk-src.x86_64 : OpenJDK 8 Source Bundle
java-11-openjdk.i686 : OpenJDK Runtime Environment 11
java-11-openjdk.x86_64 : OpenJDK 11 Runtime Environment
java-11-openjdk-demo.i686 : OpenJDK Demos 11
java-11-openjdk-demo.x86_64 : OpenJDK 11 Demos
java-11-openjdk-devel.i686 : OpenJDK Development Environment 11
java-11-openjdk-devel.x86_64 : OpenJDK 11 Development Environment
java-11-openjdk-headless.i686 : OpenJDK Headless Runtime Environment 11
java-11-openjdk-headless.x86_64 : OpenJDK 11 Headless Runtime Environment
java-11-openjdk-javadoc.i686 : OpenJDK 11 API documentation
java-11-openjdk-javadoc.x86_64 : OpenJDK 11 API documentation
java-11-openjdk-javadoc-zip.i686 : OpenJDK 11 API documentation compressed in a single archive
java-11-openjdk-javadoc-zip.x86_64 : OpenJDK 11 API documentation compressed in a single
                                   : archive
java-11-openjdk-jmods.i686 : JMods for OpenJDK 11
java-11-openjdk-jmods.x86_64 : JMods for OpenJDK 11
java-11-openjdk-src.i686 : OpenJDK Source Bundle 11
java-11-openjdk-src.x86_64 : OpenJDK 11 Source Bundle
java-11-openjdk-static-libs.i686 : OpenJDK libraries for static linking 11
java-11-openjdk-static-libs.x86_64 : OpenJDK 11 libraries for static linking
java-latest-openjdk.x86_64 : OpenJDK 16 Runtime Environment
java-latest-openjdk-debug.x86_64 : OpenJDK 16 Runtime Environment with full debugging on
java-latest-openjdk-demo.x86_64 : OpenJDK 16 Demos
java-latest-openjdk-demo-debug.x86_64 : OpenJDK 16 Demos with full debugging on
java-latest-openjdk-demo-fastdebug.x86_64 : OpenJDK 16 Demos with minimal debugging on
java-latest-openjdk-devel.x86_64 : OpenJDK 16 Development Environment
java-latest-openjdk-devel-debug.x86_64 : OpenJDK 16 Development Environment with full debugging
                                       : on
java-latest-openjdk-devel-fastdebug.x86_64 : OpenJDK 16 Development Environment with minimal
                                           : debugging on
java-latest-openjdk-fastdebug.x86_64 : OpenJDK 16 Runtime Environment with minimal debugging on
java-latest-openjdk-headless.x86_64 : OpenJDK 16 Headless Runtime Environment
java-latest-openjdk-headless-debug.x86_64 : OpenJDK 16 Runtime Environment with full debugging
                                          : on
java-latest-openjdk-headless-fastdebug.x86_64 : OpenJDK 16 Runtime Environment with minimal
                                              : debugging on
java-latest-openjdk-javadoc.x86_64 : OpenJDK 16 API documentation
java-latest-openjdk-javadoc-zip.x86_64 : OpenJDK 16 API documentation compressed in a single
                                       : archive
java-latest-openjdk-jmods.x86_64 : JMods for OpenJDK 16
java-latest-openjdk-jmods-debug.x86_64 : JMods for OpenJDK 16 with full debugging on
java-latest-openjdk-jmods-fastdebug.x86_64 : JMods for OpenJDK 16 with minimal debugging on
java-latest-openjdk-src.x86_64 : OpenJDK 16 Source Bundle
java-latest-openjdk-src-debug.x86_64 : OpenJDK 16 Source Bundle for packages with debugging on
java-latest-openjdk-src-fastdebug.x86_64 : OpenJDK 16 Source Bundle %{for_fastdebug}
java-latest-openjdk-static-libs.x86_64 : OpenJDK 16 libraries for static linking
java-latest-openjdk-static-libs-debug.x86_64 : OpenJDK 16 libraries for static linking with
                                             : full debugging on
java-latest-openjdk-static-libs-fastdebug.x86_64 : OpenJDK 16 libraries for static linking with
                                                 : minimal debugging on
ldapjdk-javadoc.noarch : Javadoc for ldapjdk
openjdk-asmtools-javadoc.noarch : Javadoc for openjdk-asmtools
icedtea-web.x86_64 : Additional Java components for OpenJDK - Java browser plug-in and Web
                   : Start implementation
ldapjdk.noarch : The Mozilla LDAP Java SDK
openjdk-asmtools.noarch : To develop tools create proper & improper Java '.class' files
openprops.noarch : An improved java.util.Properties from OpenJDK

  Name and summary matches only, use "search all" for everything.
[root@HIGDQEEMO63U9NR ~]#
```

二、安装jdk
> yum install java-1.8.0-openjdk.x86_64

```
[root@HIGDQEEMO63U9NR ~]# yum install -y java-1.8.0-openjdk.x86_64
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirrors.aliyun.com
 * extras: mirrors.aliyun.com
 * remi-safe: mirrors.tuna.tsinghua.edu.cn
 * updates: mirrors.aliyun.com
Resolving Dependencies
--> Running transaction check
---> Package java-1.8.0-openjdk.x86_64 1:1.8.0.302.b08-0.el7_9 will be installed
--> Processing Dependency: java-1.8.0-openjdk-headless(x86-64) = 1:1.8.0.302.b08-0.el7_9 for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: xorg-x11-fonts-Type1 for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libjvm.so(SUNWprivate_1.1)(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libjava.so(SUNWprivate_1.1)(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libasound.so.2(ALSA_0.9.0rc4)(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libasound.so.2(ALSA_0.9)(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libXcomposite(x86-64) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: gtk2(x86-64) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libjvm.so()(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libjava.so()(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libgif.so.4()(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libasound.so.2()(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libXtst.so.6()(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libXrender.so.1()(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libXi.so.6()(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: libXext.so.6()(64bit) for package: 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
--> Running transaction check
---> Package alsa-lib.x86_64 0:1.1.8-1.el7 will be installed
---> Package giflib.x86_64 0:4.1.6-9.el7 will be installed
--> Processing Dependency: libSM.so.6()(64bit) for package: giflib-4.1.6-9.el7.x86_64
--> Processing Dependency: libICE.so.6()(64bit) for package: giflib-4.1.6-9.el7.x86_64
---> Package gtk2.x86_64 0:2.24.31-1.el7 will be installed
--> Processing Dependency: pango >= 1.20.0-1 for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libXrandr >= 1.2.99.4-2 for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: atk >= 1.29.4-2 for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: hicolor-icon-theme for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: gtk-update-icon-cache for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libpangoft2-1.0.so.0()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libpangocairo-1.0.so.0()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libpango-1.0.so.0()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libgdk_pixbuf-2.0.so.0()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libcups.so.2()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libcairo.so.2()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libatk-1.0.so.0()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libXrandr.so.2()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libXinerama.so.1()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libXfixes.so.3()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libXdamage.so.1()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
--> Processing Dependency: libXcursor.so.1()(64bit) for package: gtk2-2.24.31-1.el7.x86_64
---> Package java-1.8.0-openjdk-headless.x86_64 1:1.8.0.302.b08-0.el7_9 will be installed
--> Processing Dependency: tzdata-java >= 2021a for package: 1:java-1.8.0-openjdk-headless-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: copy-jdk-configs >= 3.3 for package: 1:java-1.8.0-openjdk-headless-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: pcsc-lite-libs(x86-64) for package: 1:java-1.8.0-openjdk-headless-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: lksctp-tools(x86-64) for package: 1:java-1.8.0-openjdk-headless-1.8.0.302.b08-0.el7_9.x86_64
--> Processing Dependency: jpackage-utils for package: 1:java-1.8.0-openjdk-headless-1.8.0.302.b08-0.el7_9.x86_64
---> Package libXcomposite.x86_64 0:0.4.4-4.1.el7 will be installed
---> Package libXext.x86_64 0:1.3.3-3.el7 will be installed
---> Package libXi.x86_64 0:1.7.9-1.el7 will be installed
---> Package libXrender.x86_64 0:0.9.10-1.el7 will be installed
---> Package libXtst.x86_64 0:1.2.3-1.el7 will be installed
---> Package xorg-x11-fonts-Type1.noarch 0:7.5-9.el7 will be installed
--> Processing Dependency: ttmkfdir for package: xorg-x11-fonts-Type1-7.5-9.el7.noarch
--> Processing Dependency: ttmkfdir for package: xorg-x11-fonts-Type1-7.5-9.el7.noarch
--> Processing Dependency: mkfontdir for package: xorg-x11-fonts-Type1-7.5-9.el7.noarch
--> Processing Dependency: mkfontdir for package: xorg-x11-fonts-Type1-7.5-9.el7.noarch
--> Running transaction check
---> Package atk.x86_64 0:2.28.1-2.el7 will be installed
---> Package cairo.x86_64 0:1.15.12-4.el7 will be installed
--> Processing Dependency: libpixman-1.so.0()(64bit) for package: cairo-1.15.12-4.el7.x86_64
--> Processing Dependency: libGL.so.1()(64bit) for package: cairo-1.15.12-4.el7.x86_64
--> Processing Dependency: libEGL.so.1()(64bit) for package: cairo-1.15.12-4.el7.x86_64
---> Package copy-jdk-configs.noarch 0:3.3-10.el7_5 will be installed
---> Package cups-libs.x86_64 1:1.6.3-51.el7 will be installed
--> Processing Dependency: libavahi-common.so.3()(64bit) for package: 1:cups-libs-1.6.3-51.el7.x86_64
--> Processing Dependency: libavahi-client.so.3()(64bit) for package: 1:cups-libs-1.6.3-51.el7.x86_64
---> Package gdk-pixbuf2.x86_64 0:2.36.12-3.el7 will be installed
--> Processing Dependency: libjasper.so.1()(64bit) for package: gdk-pixbuf2-2.36.12-3.el7.x86_64
---> Package gtk-update-icon-cache.x86_64 0:3.22.30-6.el7 will be installed
---> Package hicolor-icon-theme.noarch 0:0.12-7.el7 will be installed
---> Package javapackages-tools.noarch 0:3.4.1-11.el7 will be installed
--> Processing Dependency: python-javapackages = 3.4.1-11.el7 for package: javapackages-tools-3.4.1-11.el7.noarch
---> Package libICE.x86_64 0:1.0.9-9.el7 will be installed
---> Package libSM.x86_64 0:1.2.2-2.el7 will be installed
---> Package libXcursor.x86_64 0:1.1.15-1.el7 will be installed
---> Package libXdamage.x86_64 0:1.1.4-4.1.el7 will be installed
---> Package libXfixes.x86_64 0:5.0.3-1.el7 will be installed
---> Package libXinerama.x86_64 0:1.1.3-2.1.el7 will be installed
---> Package libXrandr.x86_64 0:1.5.1-2.el7 will be installed
---> Package lksctp-tools.x86_64 0:1.0.17-2.el7 will be installed
---> Package pango.x86_64 0:1.42.4-4.el7_7 will be installed
--> Processing Dependency: libthai(x86-64) >= 0.1.9 for package: pango-1.42.4-4.el7_7.x86_64
--> Processing Dependency: libXft(x86-64) >= 2.0.0 for package: pango-1.42.4-4.el7_7.x86_64
--> Processing Dependency: libthai.so.0(LIBTHAI_0.1)(64bit) for package: pango-1.42.4-4.el7_7.x86_64
--> Processing Dependency: libthai.so.0()(64bit) for package: pango-1.42.4-4.el7_7.x86_64
--> Processing Dependency: libXft.so.2()(64bit) for package: pango-1.42.4-4.el7_7.x86_64
---> Package pcsc-lite-libs.x86_64 0:1.8.8-8.el7 will be installed
---> Package ttmkfdir.x86_64 0:3.0.9-42.el7 will be installed
---> Package tzdata-java.noarch 0:2021a-1.el7 will be installed
---> Package xorg-x11-font-utils.x86_64 1:7.5-21.el7 will be installed
--> Processing Dependency: libfontenc.so.1()(64bit) for package: 1:xorg-x11-font-utils-7.5-21.el7.x86_64
--> Running transaction check
---> Package avahi-libs.x86_64 0:0.6.31-20.el7 will be installed
---> Package jasper-libs.x86_64 0:1.900.1-33.el7 will be installed
---> Package libXft.x86_64 0:2.3.2-2.el7 will be installed
---> Package libfontenc.x86_64 0:1.1.3-3.el7 will be installed
---> Package libglvnd-egl.x86_64 1:1.0.1-0.8.git5baa1e5.el7 will be installed
--> Processing Dependency: libglvnd(x86-64) = 1:1.0.1-0.8.git5baa1e5.el7 for package: 1:libglvnd-egl-1.0.1-0.8.git5baa1e5.el7.x86_64
--> Processing Dependency: mesa-libEGL(x86-64) >= 13.0.4-1 for package: 1:libglvnd-egl-1.0.1-0.8.git5baa1e5.el7.x86_64
--> Processing Dependency: libGLdispatch.so.0()(64bit) for package: 1:libglvnd-egl-1.0.1-0.8.git5baa1e5.el7.x86_64
---> Package libglvnd-glx.x86_64 1:1.0.1-0.8.git5baa1e5.el7 will be installed
--> Processing Dependency: mesa-libGL(x86-64) >= 13.0.4-1 for package: 1:libglvnd-glx-1.0.1-0.8.git5baa1e5.el7.x86_64
---> Package libthai.x86_64 0:0.1.14-9.el7 will be installed
---> Package pixman.x86_64 0:0.34.0-1.el7 will be installed
---> Package python-javapackages.noarch 0:3.4.1-11.el7 will be installed
--> Processing Dependency: python-lxml for package: python-javapackages-3.4.1-11.el7.noarch
--> Running transaction check
---> Package libglvnd.x86_64 1:1.0.1-0.8.git5baa1e5.el7 will be installed
---> Package mesa-libEGL.x86_64 0:18.3.4-12.el7_9 will be installed
--> Processing Dependency: mesa-libgbm = 18.3.4-12.el7_9 for package: mesa-libEGL-18.3.4-12.el7_9.x86_64
--> Processing Dependency: libxshmfence.so.1()(64bit) for package: mesa-libEGL-18.3.4-12.el7_9.x86_64
--> Processing Dependency: libwayland-server.so.0()(64bit) for package: mesa-libEGL-18.3.4-12.el7_9.x86_64
--> Processing Dependency: libwayland-client.so.0()(64bit) for package: mesa-libEGL-18.3.4-12.el7_9.x86_64
--> Processing Dependency: libglapi.so.0()(64bit) for package: mesa-libEGL-18.3.4-12.el7_9.x86_64
--> Processing Dependency: libgbm.so.1()(64bit) for package: mesa-libEGL-18.3.4-12.el7_9.x86_64
--> Processing Dependency: libdrm.so.2()(64bit) for package: mesa-libEGL-18.3.4-12.el7_9.x86_64
---> Package mesa-libGL.x86_64 0:18.3.4-12.el7_9 will be installed
--> Processing Dependency: libXxf86vm.so.1()(64bit) for package: mesa-libGL-18.3.4-12.el7_9.x86_64
---> Package python-lxml.x86_64 0:3.2.1-4.el7 will be installed
--> Running transaction check
---> Package libXxf86vm.x86_64 0:1.1.4-1.el7 will be installed
---> Package libdrm.x86_64 0:2.4.97-2.el7 will be installed
--> Processing Dependency: libpciaccess.so.0()(64bit) for package: libdrm-2.4.97-2.el7.x86_64
---> Package libwayland-client.x86_64 0:1.15.0-1.el7 will be installed
---> Package libwayland-server.x86_64 0:1.15.0-1.el7 will be installed
---> Package libxshmfence.x86_64 0:1.2-1.el7 will be installed
---> Package mesa-libgbm.x86_64 0:18.3.4-12.el7_9 will be installed
---> Package mesa-libglapi.x86_64 0:18.3.4-12.el7_9 will be installed
--> Running transaction check
---> Package libpciaccess.x86_64 0:0.14-1.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

===============================================================================================
 Package                         Arch       Version                          Repository   Size
===============================================================================================
Installing:
 java-1.8.0-openjdk              x86_64     1:1.8.0.302.b08-0.el7_9          updates     311 k
Installing for dependencies:
 alsa-lib                        x86_64     1.1.8-1.el7                      base        425 k
 atk                             x86_64     2.28.1-2.el7                     base        263 k
 avahi-libs                      x86_64     0.6.31-20.el7                    base         62 k
 cairo                           x86_64     1.15.12-4.el7                    base        741 k
 copy-jdk-configs                noarch     3.3-10.el7_5                     base         21 k
 cups-libs                       x86_64     1:1.6.3-51.el7                   base        359 k
 gdk-pixbuf2                     x86_64     2.36.12-3.el7                    base        570 k
 giflib                          x86_64     4.1.6-9.el7                      base         40 k
 gtk-update-icon-cache           x86_64     3.22.30-6.el7                    updates      27 k
 gtk2                            x86_64     2.24.31-1.el7                    base        3.4 M
 hicolor-icon-theme              noarch     0.12-7.el7                       base         42 k
 jasper-libs                     x86_64     1.900.1-33.el7                   base        150 k
 java-1.8.0-openjdk-headless     x86_64     1:1.8.0.302.b08-0.el7_9          updates      33 M
 javapackages-tools              noarch     3.4.1-11.el7                     base         73 k
 libICE                          x86_64     1.0.9-9.el7                      base         66 k
 libSM                           x86_64     1.2.2-2.el7                      base         39 k
 libXcomposite                   x86_64     0.4.4-4.1.el7                    base         22 k
 libXcursor                      x86_64     1.1.15-1.el7                     base         30 k
 libXdamage                      x86_64     1.1.4-4.1.el7                    base         20 k
 libXext                         x86_64     1.3.3-3.el7                      base         39 k
 libXfixes                       x86_64     5.0.3-1.el7                      base         18 k
 libXft                          x86_64     2.3.2-2.el7                      base         58 k
 libXi                           x86_64     1.7.9-1.el7                      base         40 k
 libXinerama                     x86_64     1.1.3-2.1.el7                    base         14 k
 libXrandr                       x86_64     1.5.1-2.el7                      base         27 k
 libXrender                      x86_64     0.9.10-1.el7                     base         26 k
 libXtst                         x86_64     1.2.3-1.el7                      base         20 k
 libXxf86vm                      x86_64     1.1.4-1.el7                      base         18 k
 libdrm                          x86_64     2.4.97-2.el7                     base        151 k
 libfontenc                      x86_64     1.1.3-3.el7                      base         31 k
 libglvnd                        x86_64     1:1.0.1-0.8.git5baa1e5.el7       base         89 k
 libglvnd-egl                    x86_64     1:1.0.1-0.8.git5baa1e5.el7       base         44 k
 libglvnd-glx                    x86_64     1:1.0.1-0.8.git5baa1e5.el7       base        125 k
 libpciaccess                    x86_64     0.14-1.el7                       base         26 k
 libthai                         x86_64     0.1.14-9.el7                     base        187 k
 libwayland-client               x86_64     1.15.0-1.el7                     base         33 k
 libwayland-server               x86_64     1.15.0-1.el7                     base         39 k
 libxshmfence                    x86_64     1.2-1.el7                        base        7.2 k
 lksctp-tools                    x86_64     1.0.17-2.el7                     base         88 k
 mesa-libEGL                     x86_64     18.3.4-12.el7_9                  updates     110 k
 mesa-libGL                      x86_64     18.3.4-12.el7_9                  updates     166 k
 mesa-libgbm                     x86_64     18.3.4-12.el7_9                  updates      39 k
 mesa-libglapi                   x86_64     18.3.4-12.el7_9                  updates      46 k
 pango                           x86_64     1.42.4-4.el7_7                   base        280 k
 pcsc-lite-libs                  x86_64     1.8.8-8.el7                      base         34 k
 pixman                          x86_64     0.34.0-1.el7                     base        248 k
 python-javapackages             noarch     3.4.1-11.el7                     base         31 k
 python-lxml                     x86_64     3.2.1-4.el7                      base        758 k
 ttmkfdir                        x86_64     3.0.9-42.el7                     base         48 k
 tzdata-java                     noarch     2021a-1.el7                      updates     191 k
 xorg-x11-font-utils             x86_64     1:7.5-21.el7                     base        104 k
 xorg-x11-fonts-Type1            noarch     7.5-9.el7                        base        521 k

Transaction Summary
===============================================================================================
Install  1 Package (+52 Dependent packages)

Total download size: 43 M
Installed size: 143 M
Downloading packages:
(1/53): alsa-lib-1.1.8-1.el7.x86_64.rpm                                 | 425 kB  00:00:00
(2/53): avahi-libs-0.6.31-20.el7.x86_64.rpm                             |  62 kB  00:00:00
(3/53): atk-2.28.1-2.el7.x86_64.rpm                                     | 263 kB  00:00:00
(4/53): copy-jdk-configs-3.3-10.el7_5.noarch.rpm                        |  21 kB  00:00:00
(5/53): cairo-1.15.12-4.el7.x86_64.rpm                                  | 741 kB  00:00:00
(6/53): gdk-pixbuf2-2.36.12-3.el7.x86_64.rpm                            | 570 kB  00:00:00
(7/53): giflib-4.1.6-9.el7.x86_64.rpm                                   |  40 kB  00:00:00
(8/53): gtk-update-icon-cache-3.22.30-6.el7.x86_64.rpm                  |  27 kB  00:00:00
(9/53): cups-libs-1.6.3-51.el7.x86_64.rpm                               | 359 kB  00:00:01
(10/53): hicolor-icon-theme-0.12-7.el7.noarch.rpm                       |  42 kB  00:00:00
(11/53): jasper-libs-1.900.1-33.el7.x86_64.rpm                          | 150 kB  00:00:00
(12/53): java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64.rpm            | 311 kB  00:00:00
(13/53): javapackages-tools-3.4.1-11.el7.noarch.rpm                     |  73 kB  00:00:00
(14/53): gtk2-2.24.31-1.el7.x86_64.rpm                                  | 3.4 MB  00:00:02
(15/53): libICE-1.0.9-9.el7.x86_64.rpm                                  |  66 kB  00:00:00
(16/53): libSM-1.2.2-2.el7.x86_64.rpm                                   |  39 kB  00:00:00
(17/53): libXcomposite-0.4.4-4.1.el7.x86_64.rpm                         |  22 kB  00:00:00
(18/53): libXcursor-1.1.15-1.el7.x86_64.rpm                             |  30 kB  00:00:00
(19/53): libXdamage-1.1.4-4.1.el7.x86_64.rpm                            |  20 kB  00:00:00
(20/53): libXext-1.3.3-3.el7.x86_64.rpm                                 |  39 kB  00:00:00
(21/53): libXfixes-5.0.3-1.el7.x86_64.rpm                               |  18 kB  00:00:00
(22/53): libXft-2.3.2-2.el7.x86_64.rpm                                  |  58 kB  00:00:00
(23/53): libXinerama-1.1.3-2.1.el7.x86_64.rpm                           |  14 kB  00:00:00
(24/53): libXrandr-1.5.1-2.el7.x86_64.rpm                               |  27 kB  00:00:00
(25/53): libXi-1.7.9-1.el7.x86_64.rpm                                   |  40 kB  00:00:00
(26/53): libXrender-0.9.10-1.el7.x86_64.rpm                             |  26 kB  00:00:00
(27/53): libXtst-1.2.3-1.el7.x86_64.rpm                                 |  20 kB  00:00:00
(28/53): libXxf86vm-1.1.4-1.el7.x86_64.rpm                              |  18 kB  00:00:00
(29/53): libfontenc-1.1.3-3.el7.x86_64.rpm                              |  31 kB  00:00:00
(30/53): libglvnd-1.0.1-0.8.git5baa1e5.el7.x86_64.rpm                   |  89 kB  00:00:00
(31/53): libdrm-2.4.97-2.el7.x86_64.rpm                                 | 151 kB  00:00:00
(32/53): libglvnd-egl-1.0.1-0.8.git5baa1e5.el7.x86_64.rpm               |  44 kB  00:00:00
(33/53): libglvnd-glx-1.0.1-0.8.git5baa1e5.el7.x86_64.rpm               | 125 kB  00:00:00
(34/53): libpciaccess-0.14-1.el7.x86_64.rpm                             |  26 kB  00:00:00
(35/53): libwayland-client-1.15.0-1.el7.x86_64.rpm                      |  33 kB  00:00:00
(36/53): libwayland-server-1.15.0-1.el7.x86_64.rpm                      |  39 kB  00:00:00
(37/53): libthai-0.1.14-9.el7.x86_64.rpm                                | 187 kB  00:00:00
(38/53): libxshmfence-1.2-1.el7.x86_64.rpm                              | 7.2 kB  00:00:00
(39/53): lksctp-tools-1.0.17-2.el7.x86_64.rpm                           |  88 kB  00:00:00
(40/53): mesa-libEGL-18.3.4-12.el7_9.x86_64.rpm                         | 110 kB  00:00:01
(41/53): mesa-libGL-18.3.4-12.el7_9.x86_64.rpm                          | 166 kB  00:00:00
(42/53): mesa-libgbm-18.3.4-12.el7_9.x86_64.rpm                         |  39 kB  00:00:00
(43/53): mesa-libglapi-18.3.4-12.el7_9.x86_64.rpm                       |  46 kB  00:00:00
(44/53): pango-1.42.4-4.el7_7.x86_64.rpm                                | 280 kB  00:00:00
(45/53): pixman-0.34.0-1.el7.x86_64.rpm                                 | 248 kB  00:00:00
(46/53): python-javapackages-3.4.1-11.el7.noarch.rpm                    |  31 kB  00:00:00
(47/53): pcsc-lite-libs-1.8.8-8.el7.x86_64.rpm                          |  34 kB  00:00:01
(48/53): ttmkfdir-3.0.9-42.el7.x86_64.rpm                               |  48 kB  00:00:00
(49/53): xorg-x11-font-utils-7.5-21.el7.x86_64.rpm                      | 104 kB  00:00:00
(50/53): tzdata-java-2021a-1.el7.noarch.rpm                             | 191 kB  00:00:00
(51/53): python-lxml-3.2.1-4.el7.x86_64.rpm                             | 758 kB  00:00:00
(52/53): xorg-x11-fonts-Type1-7.5-9.el7.noarch.rpm                      | 521 kB  00:00:00
(53/53): java-1.8.0-openjdk-headless-1.8.0.302.b08-0.el7_9.x86_64.rpm   |  33 MB  00:00:12
-----------------------------------------------------------------------------------------------
Total                                                          2.8 MB/s |  43 MB  00:00:15
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : libXext-1.3.3-3.el7.x86_64                                                 1/53
  Installing : libXrender-0.9.10-1.el7.x86_64                                             2/53
  Installing : libXfixes-5.0.3-1.el7.x86_64                                               3/53
  Installing : libXi-1.7.9-1.el7.x86_64                                                   4/53
  Installing : mesa-libglapi-18.3.4-12.el7_9.x86_64                                       5/53
  Installing : libXdamage-1.1.4-4.1.el7.x86_64                                            6/53
  Installing : libxshmfence-1.2-1.el7.x86_64                                              7/53
  Installing : 1:libglvnd-1.0.1-0.8.git5baa1e5.el7.x86_64                                 8/53
  Installing : libXcomposite-0.4.4-4.1.el7.x86_64                                         9/53
  Installing : libwayland-server-1.15.0-1.el7.x86_64                                     10/53
  Installing : libICE-1.0.9-9.el7.x86_64                                                 11/53
  Installing : libSM-1.2.2-2.el7.x86_64                                                  12/53
  Installing : giflib-4.1.6-9.el7.x86_64                                                 13/53
  Installing : libXtst-1.2.3-1.el7.x86_64                                                14/53
  Installing : libXcursor-1.1.15-1.el7.x86_64                                            15/53
  Installing : libXft-2.3.2-2.el7.x86_64                                                 16/53
  Installing : libXrandr-1.5.1-2.el7.x86_64                                              17/53
  Installing : libXinerama-1.1.3-2.1.el7.x86_64                                          18/53
  Installing : libXxf86vm-1.1.4-1.el7.x86_64                                             19/53
  Installing : pixman-0.34.0-1.el7.x86_64                                                20/53
  Installing : avahi-libs-0.6.31-20.el7.x86_64                                           21/53
  Installing : 1:cups-libs-1.6.3-51.el7.x86_64                                           22/53
  Installing : libfontenc-1.1.3-3.el7.x86_64                                             23/53
  Installing : 1:xorg-x11-font-utils-7.5-21.el7.x86_64                                   24/53
  Installing : atk-2.28.1-2.el7.x86_64                                                   25/53
  Installing : libthai-0.1.14-9.el7.x86_64                                               26/53
  Installing : python-lxml-3.2.1-4.el7.x86_64                                            27/53
  Installing : python-javapackages-3.4.1-11.el7.noarch                                   28/53
  Installing : javapackages-tools-3.4.1-11.el7.noarch                                    29/53
  Installing : jasper-libs-1.900.1-33.el7.x86_64                                         30/53
  Installing : gdk-pixbuf2-2.36.12-3.el7.x86_64                                          31/53
  Installing : gtk-update-icon-cache-3.22.30-6.el7.x86_64                                32/53
  Installing : pcsc-lite-libs-1.8.8-8.el7.x86_64                                         33/53
  Installing : hicolor-icon-theme-0.12-7.el7.noarch                                      34/53
  Installing : lksctp-tools-1.0.17-2.el7.x86_64                                          35/53
  Installing : tzdata-java-2021a-1.el7.noarch                                            36/53
  Installing : copy-jdk-configs-3.3-10.el7_5.noarch                                      37/53
  Installing : 1:java-1.8.0-openjdk-headless-1.8.0.302.b08-0.el7_9.x86_64                38/53
  Installing : alsa-lib-1.1.8-1.el7.x86_64                                               39/53
  Installing : ttmkfdir-3.0.9-42.el7.x86_64                                              40/53
  Installing : xorg-x11-fonts-Type1-7.5-9.el7.noarch                                     41/53
  Installing : libwayland-client-1.15.0-1.el7.x86_64                                     42/53
  Installing : libpciaccess-0.14-1.el7.x86_64                                            43/53
  Installing : libdrm-2.4.97-2.el7.x86_64                                                44/53
  Installing : mesa-libGL-18.3.4-12.el7_9.x86_64                                         45/53
  Installing : 1:libglvnd-glx-1.0.1-0.8.git5baa1e5.el7.x86_64                            46/53
  Installing : mesa-libgbm-18.3.4-12.el7_9.x86_64                                        47/53
  Installing : 1:libglvnd-egl-1.0.1-0.8.git5baa1e5.el7.x86_64                            48/53
  Installing : mesa-libEGL-18.3.4-12.el7_9.x86_64                                        49/53
  Installing : cairo-1.15.12-4.el7.x86_64                                                50/53
  Installing : pango-1.42.4-4.el7_7.x86_64                                               51/53
  Installing : gtk2-2.24.31-1.el7.x86_64                                                 52/53
  Installing : 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64                         53/53
  Verifying  : libXext-1.3.3-3.el7.x86_64                                                 1/53
  Verifying  : libpciaccess-0.14-1.el7.x86_64                                             2/53
  Verifying  : libXi-1.7.9-1.el7.x86_64                                                   3/53
  Verifying  : libICE-1.0.9-9.el7.x86_64                                                  4/53
  Verifying  : gdk-pixbuf2-2.36.12-3.el7.x86_64                                           5/53
  Verifying  : libXinerama-1.1.3-2.1.el7.x86_64                                           6/53
  Verifying  : libXrender-0.9.10-1.el7.x86_64                                             7/53
  Verifying  : 1:xorg-x11-font-utils-7.5-21.el7.x86_64                                    8/53
  Verifying  : libXxf86vm-1.1.4-1.el7.x86_64                                              9/53
  Verifying  : libwayland-server-1.15.0-1.el7.x86_64                                     10/53
  Verifying  : libXcursor-1.1.15-1.el7.x86_64                                            11/53
  Verifying  : libwayland-client-1.15.0-1.el7.x86_64                                     12/53
  Verifying  : gtk2-2.24.31-1.el7.x86_64                                                 13/53
  Verifying  : ttmkfdir-3.0.9-42.el7.x86_64                                              14/53
  Verifying  : 1:cups-libs-1.6.3-51.el7.x86_64                                           15/53
  Verifying  : alsa-lib-1.1.8-1.el7.x86_64                                               16/53
  Verifying  : giflib-4.1.6-9.el7.x86_64                                                 17/53
  Verifying  : libXcomposite-0.4.4-4.1.el7.x86_64                                        18/53
  Verifying  : mesa-libglapi-18.3.4-12.el7_9.x86_64                                      19/53
  Verifying  : copy-jdk-configs-3.3-10.el7_5.noarch                                      20/53
  Verifying  : python-javapackages-3.4.1-11.el7.noarch                                   21/53
  Verifying  : tzdata-java-2021a-1.el7.noarch                                            22/53
  Verifying  : pango-1.42.4-4.el7_7.x86_64                                               23/53
  Verifying  : libXtst-1.2.3-1.el7.x86_64                                                24/53
  Verifying  : 1:libglvnd-1.0.1-0.8.git5baa1e5.el7.x86_64                                25/53
  Verifying  : libXft-2.3.2-2.el7.x86_64                                                 26/53
  Verifying  : libdrm-2.4.97-2.el7.x86_64                                                27/53
  Verifying  : mesa-libGL-18.3.4-12.el7_9.x86_64                                         28/53
  Verifying  : gtk-update-icon-cache-3.22.30-6.el7.x86_64                                29/53
  Verifying  : lksctp-tools-1.0.17-2.el7.x86_64                                          30/53
  Verifying  : hicolor-icon-theme-0.12-7.el7.noarch                                      31/53
  Verifying  : libXdamage-1.1.4-4.1.el7.x86_64                                           32/53
  Verifying  : xorg-x11-fonts-Type1-7.5-9.el7.noarch                                     33/53
  Verifying  : 1:libglvnd-glx-1.0.1-0.8.git5baa1e5.el7.x86_64                            34/53
  Verifying  : libXrandr-1.5.1-2.el7.x86_64                                              35/53
  Verifying  : pcsc-lite-libs-1.8.8-8.el7.x86_64                                         36/53
  Verifying  : javapackages-tools-3.4.1-11.el7.noarch                                    37/53
  Verifying  : cairo-1.15.12-4.el7.x86_64                                                38/53
  Verifying  : mesa-libgbm-18.3.4-12.el7_9.x86_64                                        39/53
  Verifying  : libxshmfence-1.2-1.el7.x86_64                                             40/53
  Verifying  : 1:java-1.8.0-openjdk-headless-1.8.0.302.b08-0.el7_9.x86_64                41/53
  Verifying  : libSM-1.2.2-2.el7.x86_64                                                  42/53
  Verifying  : jasper-libs-1.900.1-33.el7.x86_64                                         43/53
  Verifying  : python-lxml-3.2.1-4.el7.x86_64                                            44/53
  Verifying  : mesa-libEGL-18.3.4-12.el7_9.x86_64                                        45/53
  Verifying  : libthai-0.1.14-9.el7.x86_64                                               46/53
  Verifying  : 1:java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64                         47/53
  Verifying  : libXfixes-5.0.3-1.el7.x86_64                                              48/53
  Verifying  : atk-2.28.1-2.el7.x86_64                                                   49/53
  Verifying  : libfontenc-1.1.3-3.el7.x86_64                                             50/53
  Verifying  : avahi-libs-0.6.31-20.el7.x86_64                                           51/53
  Verifying  : 1:libglvnd-egl-1.0.1-0.8.git5baa1e5.el7.x86_64                            52/53
  Verifying  : pixman-0.34.0-1.el7.x86_64                                                53/53

Installed:
  java-1.8.0-openjdk.x86_64 1:1.8.0.302.b08-0.el7_9

Dependency Installed:
  alsa-lib.x86_64 0:1.1.8-1.el7
  atk.x86_64 0:2.28.1-2.el7
  avahi-libs.x86_64 0:0.6.31-20.el7
  cairo.x86_64 0:1.15.12-4.el7
  copy-jdk-configs.noarch 0:3.3-10.el7_5
  cups-libs.x86_64 1:1.6.3-51.el7
  gdk-pixbuf2.x86_64 0:2.36.12-3.el7
  giflib.x86_64 0:4.1.6-9.el7
  gtk-update-icon-cache.x86_64 0:3.22.30-6.el7
  gtk2.x86_64 0:2.24.31-1.el7
  hicolor-icon-theme.noarch 0:0.12-7.el7
  jasper-libs.x86_64 0:1.900.1-33.el7
  java-1.8.0-openjdk-headless.x86_64 1:1.8.0.302.b08-0.el7_9
  javapackages-tools.noarch 0:3.4.1-11.el7
  libICE.x86_64 0:1.0.9-9.el7
  libSM.x86_64 0:1.2.2-2.el7
  libXcomposite.x86_64 0:0.4.4-4.1.el7
  libXcursor.x86_64 0:1.1.15-1.el7
  libXdamage.x86_64 0:1.1.4-4.1.el7
  libXext.x86_64 0:1.3.3-3.el7
  libXfixes.x86_64 0:5.0.3-1.el7
  libXft.x86_64 0:2.3.2-2.el7
  libXi.x86_64 0:1.7.9-1.el7
  libXinerama.x86_64 0:1.1.3-2.1.el7
  libXrandr.x86_64 0:1.5.1-2.el7
  libXrender.x86_64 0:0.9.10-1.el7
  libXtst.x86_64 0:1.2.3-1.el7
  libXxf86vm.x86_64 0:1.1.4-1.el7
  libdrm.x86_64 0:2.4.97-2.el7
  libfontenc.x86_64 0:1.1.3-3.el7
  libglvnd.x86_64 1:1.0.1-0.8.git5baa1e5.el7
  libglvnd-egl.x86_64 1:1.0.1-0.8.git5baa1e5.el7
  libglvnd-glx.x86_64 1:1.0.1-0.8.git5baa1e5.el7
  libpciaccess.x86_64 0:0.14-1.el7
  libthai.x86_64 0:0.1.14-9.el7
  libwayland-client.x86_64 0:1.15.0-1.el7
  libwayland-server.x86_64 0:1.15.0-1.el7
  libxshmfence.x86_64 0:1.2-1.el7
  lksctp-tools.x86_64 0:1.0.17-2.el7
  mesa-libEGL.x86_64 0:18.3.4-12.el7_9
  mesa-libGL.x86_64 0:18.3.4-12.el7_9
  mesa-libgbm.x86_64 0:18.3.4-12.el7_9
  mesa-libglapi.x86_64 0:18.3.4-12.el7_9
  pango.x86_64 0:1.42.4-4.el7_7
  pcsc-lite-libs.x86_64 0:1.8.8-8.el7
  pixman.x86_64 0:0.34.0-1.el7
  python-javapackages.noarch 0:3.4.1-11.el7
  python-lxml.x86_64 0:3.2.1-4.el7
  ttmkfdir.x86_64 0:3.0.9-42.el7
  tzdata-java.noarch 0:2021a-1.el7
  xorg-x11-font-utils.x86_64 1:7.5-21.el7
  xorg-x11-fonts-Type1.noarch 0:7.5-9.el7

Complete!
[root@HIGDQEEMO63U9NR ~]#
```

三、完成安装后验证
> java -version

```
[root@HIGDQEEMO63U9NR ~]# java -version
openjdk version "1.8.0_302"
OpenJDK Runtime Environment (build 1.8.0_302-b08)
OpenJDK 64-Bit Server VM (build 25.302-b08, mixed mode)
[root@HIGDQEEMO63U9NR ~]#
```

四、查看安装路径

```
[root@HIGDQEEMO63U9NR ~]# ls -l /usr/lib/jvm
total 0
drwxr-xr-x 1 root root 512 Sep  2 14:18 java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64
lrwxrwxrwx 1 root root  21 Sep  2 14:18 jre -> /etc/alternatives/jre
lrwxrwxrwx 1 root root  27 Sep  2 14:18 jre-1.8.0 -> /etc/alternatives/jre_1.8.0
lrwxrwxrwx 1 root root  35 Sep  2 14:18 jre-1.8.0-openjdk -> /etc/alternatives/jre_1.8.0_openjdk
lrwxrwxrwx 1 root root  51 Sep  2 14:18 jre-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64 -> java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64/jre
lrwxrwxrwx 1 root root  29 Sep  2 14:18 jre-openjdk -> /etc/alternatives/jre_openjdk
[root@HIGDQEEMO63U9NR ~]#
```

五、设置 Java 环境变量

> vi /etc/profile

在文件最后加入：
```
#set java environment
JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64/jre
JRE_HOME=$JAVA_HOME
CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib
PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin
export JAVA_HOME JRE_HOME CLASS_PATH PATH
```

让修改生效：
> source /etc/profile

```
[root@HIGDQEEMO63U9NR ~]# vi /etc/profile
[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# source /etc/profile
[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/d/Worksoft/Git/cmd:/mnt/d/Worksoft/Vagrant/bin:/mnt/c/ProgramData/chocolatey/bin:/mnt/c/tools/lxrunoffline:/mnt/d/Worksoft/XShell/:/mnt/c/Users/zamp/AppData/Local/Microsoft/WindowsApps:/mnt/d/Worksoft/laragon/bin/php/php-7.4.19-Win32-vc15-x64:/root/bin:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64/bin:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64/jre/bin
[root@HIGDQEEMO63U9NR ~]#
```

#### 安装Kafka

从 [Kafka官网](http://kafka.apache.org/downloads.html) 下载Kafka 安装包，解压安装：

```
[root@HIGDQEEMO63U9NR ~]# mv /mnt/d/kafka_2.13-2.8.0.tgz /usr/local/src/kafka_2.13-2.8.0.tgz
[root@HIGDQEEMO63U9NR ~]#
[root@HIGDQEEMO63U9NR ~]# cd /usr/local/src/
[root@HIGDQEEMO63U9NR src]#
[root@HIGDQEEMO63U9NR src]# tar zxvf kafka_2.13-2.8.0.tgz
[root@HIGDQEEMO63U9NR src]# ls -l
total 69760
drwxr-xr-x 1 root root      512 Apr 14 22:34 kafka_2.13-2.8.0
-rwxrwxrwx 1 root root 71403603 Sep  2 14:47 kafka_2.13-2.8.0.tgz
[root@HIGDQEEMO63U9NR src]# mv /usr/local/src/kafka_2.13-2.8.0 /usr/local/kafka
[root@HIGDQEEMO63U9NR src]# cd /usr/local/kafka
[root@HIGDQEEMO63U9NR kafka]#
[root@HIGDQEEMO63U9NR kafka]# ls
bin  config  libs  LICENSE  licenses  NOTICE  site-docs
[root@HIGDQEEMO63U9NR kafka]#
```

#### 功能验证

##### 1、启动 Zookeeper

使用安装包中的脚本启动单节点Zookeeper 实例：
> bin/zookeeper-server-start.sh -daemon config/zookeeper.properties

```
[root@HIGDQEEMO63U9NR kafka]# ls -l
total 20
drwxr-xr-x 1 root root   512 Apr 14 22:34 bin
drwxr-xr-x 1 root root   512 Apr 14 22:34 config
drwxr-xr-x 1 root root   512 Sep  2 14:50 libs
-rw-r--r-- 1 root root 14515 Apr 14 22:28 LICENSE
drwxr-xr-x 1 root root   512 Apr 14 22:34 licenses
drwxr-xr-x 1 root root   512 Sep  2 16:22 logs
-rw-r--r-- 1 root root   953 Apr 14 22:28 NOTICE
drwxr-xr-x 1 root root   512 Apr 14 22:34 site-docs
[root@HIGDQEEMO63U9NR kafka]# bin/zookeeper-server-start.sh -daemon config/zookeeper.properties

[root@HIGDQEEMO63U9NR kafka]#
[root@HIGDQEEMO63U9NR kafka]# ls -l /tmp/zookeeper
total 0
drwxr-xr-x 1 root root 512 Sep  2 16:30 version-2
[root@HIGDQEEMO63U9NR kafka]#
```

##### 2、启动 Kafka 服务

使用kafka-server-start.sh 启动kafka 服务：
> bin/kafka-server-start.sh config/server.properties

```
[root@HIGDQEEMO63U9NR kafka]# bin/kafka-server-start.sh config/server.properties
[2021-09-02 16:30:25,218] INFO Registered kafka:type=kafka.Log4jController MBean (kafka.utils.Log4jControllerRegistration$)
[2021-09-02 16:30:25,538] INFO Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation (org.apache.zookeeper.common.X509Util)
[2021-09-02 16:30:25,632] INFO Registered signal handlers for TERM, INT, HUP (org.apache.kafka.common.utils.LoggingSignalHandler)
[2021-09-02 16:30:25,638] INFO starting (kafka.server.KafkaServer)
[2021-09-02 16:30:25,639] INFO Connecting to zookeeper on localhost:2181 (kafka.server.KafkaServer)
[2021-09-02 16:30:25,676] INFO [ZooKeeperClient Kafka server] Initializing a new session to localhost:2181. (kafka.zookeeper.ZooKeeperClient)
[2021-09-02 16:30:25,683] INFO Client environment:zookeeper.version=3.5.9-83df9301aa5c2a5d284a9940177808c01bc35cef, built on 01/06/2021 20:03 GMT (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,684] INFO Client environment:host.name=HIGDQEEMO63U9NR.localdomain (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,684] INFO Client environment:java.version=1.8.0_302 (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,684] INFO Client environment:java.vendor=Red Hat, Inc. (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,685] INFO Client environment:java.home=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64/jre (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,686] INFO Client environment:java.class.path=/usr/local/kafka/bin/../libs/activation-1.1.1.jar:/usr/local/kafka/bin/../libs/aopalliance-repackaged-2.6.1.jar:/usr/local/kafka/bin/../libs/argparse4j-0.7.0.jar:/usr/local/kafka/bin/../libs/audience-annotations-0.5.0.jar:/usr/local/kafka/bin/../libs/commons-cli-1.4.jar:/usr/local/kafka/bin/../libs/commons-lang3-3.8.1.jar:/usr/local/kafka/bin/../libs/connect-api-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-basic-auth-extension-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-file-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-json-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-mirror-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-mirror-client-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-runtime-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-transforms-2.8.0.jar:/usr/local/kafka/bin/../libs/hk2-api-2.6.1.jar:/usr/local/kafka/bin/../libs/hk2-locator-2.6.1.jar:/usr/local/kafka/bin/../libs/hk2-utils-2.6.1.jar:/usr/local/kafka/bin/../libs/jackson-annotations-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-core-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-databind-2.10.5.1.jar:/usr/local/kafka/bin/../libs/jackson-dataformat-csv-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-datatype-jdk8-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-jaxrs-base-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-jaxrs-json-provider-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-module-jaxb-annotations-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-module-paranamer-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-module-scala_2.13-2.10.5.jar:/usr/local/kafka/bin/../libs/jakarta.activation-api-1.2.1.jar:/usr/local/kafka/bin/../libs/jakarta.annotation-api-1.3.5.jar:/usr/local/kafka/bin/../libs/jakarta.inject-2.6.1.jar:/usr/local/kafka/bin/../libs/jakarta.validation-api-2.0.2.jar:/usr/local/kafka/bin/../libs/jakarta.ws.rs-api-2.1.6.jar:/usr/local/kafka/bin/../libs/jakarta.xml.bind-api-2.3.2.jar:/usr/local/kafka/bin/../libs/javassist-3.27.0-GA.jar:/usr/local/kafka/bin/../libs/javax.servlet-api-3.1.0.jar:/usr/local/kafka/bin/../libs/javax.ws.rs-api-2.1.1.jar:/usr/local/kafka/bin/../libs/jaxb-api-2.3.0.jar:/usr/local/kafka/bin/../libs/jersey-client-2.31.jar:/usr/local/kafka/bin/../libs/jersey-common-2.31.jar:/usr/local/kafka/bin/../libs/jersey-container-servlet-2.31.jar:/usr/local/kafka/bin/../libs/jersey-container-servlet-core-2.31.jar:/usr/local/kafka/bin/../libs/jersey-hk2-2.31.jar:/usr/local/kafka/bin/../libs/jersey-media-jaxb-2.31.jar:/usr/local/kafka/bin/../libs/jersey-server-2.31.jar:/usr/local/kafka/bin/../libs/jetty-client-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-continuation-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-http-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-io-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-security-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-server-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-servlet-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-servlets-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-util-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-util-ajax-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jline-3.12.1.jar:/usr/local/kafka/bin/../libs/jopt-simple-5.0.4.jar:/usr/local/kafka/bin/../libs/kafka_2.13-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka_2.13-2.8.0-sources.jar:/usr/local/kafka/bin/../libs/kafka-clients-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-log4j-appender-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-metadata-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-raft-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-shell-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-streams-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-streams-examples-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-streams-scala_2.13-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-streams-test-utils-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-tools-2.8.0.jar:/usr/local/kafka/bin/../libs/log4j-1.2.17.jar:/usr/local/kafka/bin/../libs/lz4-java-1.7.1.jar:/usr/local/kafka/bin/../libs/maven-artifact-3.6.3.jar:/usr/local/kafka/bin/../libs/metrics-core-2.2.0.jar:/usr/local/kafka/bin/../libs/netty-buffer-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-codec-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-common-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-handler-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-resolver-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-transport-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-transport-native-epoll-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-transport-native-unix-common-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/osgi-resource-locator-1.0.3.jar:/usr/local/kafka/bin/../libs/paranamer-2.8.jar:/usr/local/kafka/bin/../libs/plexus-utils-3.2.1.jar:/usr/local/kafka/bin/../libs/reflections-0.9.12.jar:/usr/local/kafka/bin/../libs/rocksdbjni-5.18.4.jar:/usr/local/kafka/bin/../libs/scala-collection-compat_2.13-2.3.0.jar:/usr/local/kafka/bin/../libs/scala-java8-compat_2.13-0.9.1.jar:/usr/local/kafka/bin/../libs/scala-library-2.13.5.jar:/usr/local/kafka/bin/../libs/scala-logging_2.13-3.9.2.jar:/usr/local/kafka/bin/../libs/scala-reflect-2.13.5.jar:/usr/local/kafka/bin/../libs/slf4j-api-1.7.30.jar:/usr/local/kafka/bin/../libs/slf4j-log4j12-1.7.30.jar:/usr/local/kafka/bin/../libs/snappy-java-1.1.8.1.jar:/usr/local/kafka/bin/../libs/zookeeper-3.5.9.jar:/usr/local/kafka/bin/../libs/zookeeper-jute-3.5.9.jar:/usr/local/kafka/bin/../libs/zstd-jni-1.4.9-1.jar (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,689] INFO Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,690] INFO Client environment:java.io.tmpdir=/tmp (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,690] INFO Client environment:java.compiler=<NA> (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,690] INFO Client environment:os.name=Linux (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,691] INFO Client environment:os.arch=amd64 (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,691] INFO Client environment:os.version=4.4.0-18362-Microsoft (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,692] INFO Client environment:user.name=root (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,692] INFO Client environment:user.home=/root (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,692] INFO Client environment:user.dir=/usr/local/kafka (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,693] INFO Client environment:os.memory.free=1013MB (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,693] INFO Client environment:os.memory.max=1024MB (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,694] INFO Client environment:os.memory.total=1024MB (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,697] INFO Initiating client connection, connectString=localhost:2181 sessionTimeout=18000 watcher=kafka.zookeeper.ZooKeeperClient$ZooKeeperClientWatcher$@38d8f54a (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:30:25,703] INFO jute.maxbuffer value is 4194304 Bytes (org.apache.zookeeper.ClientCnxnSocket)
[2021-09-02 16:30:25,710] INFO zookeeper.request.timeout value is 0. feature enabled= (org.apache.zookeeper.ClientCnxn)
[2021-09-02 16:30:25,713] INFO [ZooKeeperClient Kafka server] Waiting until connected. (kafka.zookeeper.ZooKeeperClient)
[2021-09-02 16:30:25,716] INFO Opening socket connection to server localhost/127.0.0.1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)
[2021-09-02 16:30:25,722] INFO Socket connection established, initiating session, client: /127.0.0.1:51414, server: localhost/127.0.0.1:2181 (org.apache.zookeeper.ClientCnxn)
[2021-09-02 16:30:25,772] INFO Session establishment complete on server localhost/127.0.0.1:2181, sessionid = 0x100010c95430000, negotiated timeout = 18000 (org.apache.zookeeper.ClientCnxn)
[2021-09-02 16:30:25,777] INFO [ZooKeeperClient Kafka server] Connected. (kafka.zookeeper.ZooKeeperClient)
[2021-09-02 16:30:25,990] INFO [feature-zk-node-event-process-thread]: Starting (kafka.server.FinalizedFeatureChangeListener$ChangeNotificationProcessorThread)
[2021-09-02 16:30:26,006] INFO Feature ZK node at path: /feature does not exist (kafka.server.FinalizedFeatureChangeListener)
[2021-09-02 16:30:26,008] INFO Cleared cache (kafka.server.FinalizedFeatureCache)
[2021-09-02 16:30:26,234] INFO Cluster ID = zdAxMkfKRHCkUyoDyuHXlg (kafka.server.KafkaServer)
[2021-09-02 16:30:26,239] WARN No meta.properties file under dir /tmp/kafka-logs/meta.properties (kafka.server.BrokerMetadataCheckpoint)
[2021-09-02 16:30:26,294] INFO KafkaConfig values:
        advertised.host.name = null
        advertised.listeners = null
        advertised.port = null
        alter.config.policy.class.name = null
        alter.log.dirs.replication.quota.window.num = 11
        alter.log.dirs.replication.quota.window.size.seconds = 1
        authorizer.class.name =
        auto.create.topics.enable = true
        auto.leader.rebalance.enable = true
        background.threads = 10
        broker.heartbeat.interval.ms = 2000
        broker.id = 0
        broker.id.generation.enable = true
        broker.rack = null
        broker.session.timeout.ms = 9000
        client.quota.callback.class = null
        compression.type = producer
        connection.failed.authentication.delay.ms = 100
        connections.max.idle.ms = 600000
        connections.max.reauth.ms = 0
        control.plane.listener.name = null
        controlled.shutdown.enable = true
        controlled.shutdown.max.retries = 3
        controlled.shutdown.retry.backoff.ms = 5000
        controller.listener.names = null
        controller.quorum.append.linger.ms = 25
        controller.quorum.election.backoff.max.ms = 1000
        controller.quorum.election.timeout.ms = 1000
        controller.quorum.fetch.timeout.ms = 2000
        controller.quorum.request.timeout.ms = 2000
        controller.quorum.retry.backoff.ms = 20
        controller.quorum.voters = []
        controller.quota.window.num = 11
        controller.quota.window.size.seconds = 1
        controller.socket.timeout.ms = 30000
        create.topic.policy.class.name = null
        default.replication.factor = 1
        delegation.token.expiry.check.interval.ms = 3600000
        delegation.token.expiry.time.ms = 86400000
        delegation.token.master.key = null
        delegation.token.max.lifetime.ms = 604800000
        delegation.token.secret.key = null
        delete.records.purgatory.purge.interval.requests = 1
        delete.topic.enable = true
        fetch.max.bytes = 57671680
        fetch.purgatory.purge.interval.requests = 1000
        group.initial.rebalance.delay.ms = 0
        group.max.session.timeout.ms = 1800000
        group.max.size = 2147483647
        group.min.session.timeout.ms = 6000
        host.name =
        initial.broker.registration.timeout.ms = 60000
        inter.broker.listener.name = null
        inter.broker.protocol.version = 2.8-IV1
        kafka.metrics.polling.interval.secs = 10
        kafka.metrics.reporters = []
        leader.imbalance.check.interval.seconds = 300
        leader.imbalance.per.broker.percentage = 10
        listener.security.protocol.map = PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL
        listeners = null
        log.cleaner.backoff.ms = 15000
        log.cleaner.dedupe.buffer.size = 134217728
        log.cleaner.delete.retention.ms = 86400000
        log.cleaner.enable = true
        log.cleaner.io.buffer.load.factor = 0.9
        log.cleaner.io.buffer.size = 524288
        log.cleaner.io.max.bytes.per.second = 1.7976931348623157E308
        log.cleaner.max.compaction.lag.ms = 9223372036854775807
        log.cleaner.min.cleanable.ratio = 0.5
        log.cleaner.min.compaction.lag.ms = 0
        log.cleaner.threads = 1
        log.cleanup.policy = [delete]
        log.dir = /tmp/kafka-logs
        log.dirs = /tmp/kafka-logs
        log.flush.interval.messages = 9223372036854775807
        log.flush.interval.ms = null
        log.flush.offset.checkpoint.interval.ms = 60000
        log.flush.scheduler.interval.ms = 9223372036854775807
        log.flush.start.offset.checkpoint.interval.ms = 60000
        log.index.interval.bytes = 4096
        log.index.size.max.bytes = 10485760
        log.message.downconversion.enable = true
        log.message.format.version = 2.8-IV1
        log.message.timestamp.difference.max.ms = 9223372036854775807
        log.message.timestamp.type = CreateTime
        log.preallocate = false
        log.retention.bytes = -1
        log.retention.check.interval.ms = 300000
        log.retention.hours = 168
        log.retention.minutes = null
        log.retention.ms = null
        log.roll.hours = 168
        log.roll.jitter.hours = 0
        log.roll.jitter.ms = null
        log.roll.ms = null
        log.segment.bytes = 1073741824
        log.segment.delete.delay.ms = 60000
        max.connection.creation.rate = 2147483647
        max.connections = 2147483647
        max.connections.per.ip = 2147483647
        max.connections.per.ip.overrides =
        max.incremental.fetch.session.cache.slots = 1000
        message.max.bytes = 1048588
        metadata.log.dir = null
        metric.reporters = []
        metrics.num.samples = 2
        metrics.recording.level = INFO
        metrics.sample.window.ms = 30000
        min.insync.replicas = 1
        node.id = -1
        num.io.threads = 8
        num.network.threads = 3
        num.partitions = 1
        num.recovery.threads.per.data.dir = 1
        num.replica.alter.log.dirs.threads = null
        num.replica.fetchers = 1
        offset.metadata.max.bytes = 4096
        offsets.commit.required.acks = -1
        offsets.commit.timeout.ms = 5000
        offsets.load.buffer.size = 5242880
        offsets.retention.check.interval.ms = 600000
        offsets.retention.minutes = 10080
        offsets.topic.compression.codec = 0
        offsets.topic.num.partitions = 50
        offsets.topic.replication.factor = 1
        offsets.topic.segment.bytes = 104857600
        password.encoder.cipher.algorithm = AES/CBC/PKCS5Padding
        password.encoder.iterations = 4096
        password.encoder.key.length = 128
        password.encoder.keyfactory.algorithm = null
        password.encoder.old.secret = null
        password.encoder.secret = null
        port = 9092
        principal.builder.class = null
        process.roles = []
        producer.purgatory.purge.interval.requests = 1000
        queued.max.request.bytes = -1
        queued.max.requests = 500
        quota.consumer.default = 9223372036854775807
        quota.producer.default = 9223372036854775807
        quota.window.num = 11
        quota.window.size.seconds = 1
        replica.fetch.backoff.ms = 1000
        replica.fetch.max.bytes = 1048576
        replica.fetch.min.bytes = 1
        replica.fetch.response.max.bytes = 10485760
        replica.fetch.wait.max.ms = 500
        replica.high.watermark.checkpoint.interval.ms = 5000
        replica.lag.time.max.ms = 30000
        replica.selector.class = null
        replica.socket.receive.buffer.bytes = 65536
        replica.socket.timeout.ms = 30000
        replication.quota.window.num = 11
        replication.quota.window.size.seconds = 1
        request.timeout.ms = 30000
        reserved.broker.max.id = 1000
        sasl.client.callback.handler.class = null
        sasl.enabled.mechanisms = [GSSAPI]
        sasl.jaas.config = null
        sasl.kerberos.kinit.cmd = /usr/bin/kinit
        sasl.kerberos.min.time.before.relogin = 60000
        sasl.kerberos.principal.to.local.rules = [DEFAULT]
        sasl.kerberos.service.name = null
        sasl.kerberos.ticket.renew.jitter = 0.05
        sasl.kerberos.ticket.renew.window.factor = 0.8
        sasl.login.callback.handler.class = null
        sasl.login.class = null
        sasl.login.refresh.buffer.seconds = 300
        sasl.login.refresh.min.period.seconds = 60
        sasl.login.refresh.window.factor = 0.8
        sasl.login.refresh.window.jitter = 0.05
        sasl.mechanism.controller.protocol = GSSAPI
        sasl.mechanism.inter.broker.protocol = GSSAPI
        sasl.server.callback.handler.class = null
        security.inter.broker.protocol = PLAINTEXT
        security.providers = null
        socket.connection.setup.timeout.max.ms = 30000
        socket.connection.setup.timeout.ms = 10000
        socket.receive.buffer.bytes = 102400
        socket.request.max.bytes = 104857600
        socket.send.buffer.bytes = 102400
        ssl.cipher.suites = []
        ssl.client.auth = none
        ssl.enabled.protocols = [TLSv1.2]
        ssl.endpoint.identification.algorithm = https
        ssl.engine.factory.class = null
        ssl.key.password = null
        ssl.keymanager.algorithm = SunX509
        ssl.keystore.certificate.chain = null
        ssl.keystore.key = null
        ssl.keystore.location = null
        ssl.keystore.password = null
        ssl.keystore.type = JKS
        ssl.principal.mapping.rules = DEFAULT
        ssl.protocol = TLSv1.2
        ssl.provider = null
        ssl.secure.random.implementation = null
        ssl.trustmanager.algorithm = PKIX
        ssl.truststore.certificates = null
        ssl.truststore.location = null
        ssl.truststore.password = null
        ssl.truststore.type = JKS
        transaction.abort.timed.out.transaction.cleanup.interval.ms = 10000
        transaction.max.timeout.ms = 900000
        transaction.remove.expired.transaction.cleanup.interval.ms = 3600000
        transaction.state.log.load.buffer.size = 5242880
        transaction.state.log.min.isr = 1
        transaction.state.log.num.partitions = 50
        transaction.state.log.replication.factor = 1
        transaction.state.log.segment.bytes = 104857600
        transactional.id.expiration.ms = 604800000
        unclean.leader.election.enable = false
        zookeeper.clientCnxnSocket = null
        zookeeper.connect = localhost:2181
        zookeeper.connection.timeout.ms = 18000
        zookeeper.max.in.flight.requests = 10
        zookeeper.session.timeout.ms = 18000
        zookeeper.set.acl = false
        zookeeper.ssl.cipher.suites = null
        zookeeper.ssl.client.enable = false
        zookeeper.ssl.crl.enable = false
        zookeeper.ssl.enabled.protocols = null
        zookeeper.ssl.endpoint.identification.algorithm = HTTPS
        zookeeper.ssl.keystore.location = null
        zookeeper.ssl.keystore.password = null
        zookeeper.ssl.keystore.type = null
        zookeeper.ssl.ocsp.enable = false
        zookeeper.ssl.protocol = TLSv1.2
        zookeeper.ssl.truststore.location = null
        zookeeper.ssl.truststore.password = null
        zookeeper.ssl.truststore.type = null
        zookeeper.sync.time.ms = 2000
 (kafka.server.KafkaConfig)
[2021-09-02 16:30:26,383] INFO KafkaConfig values:
        advertised.host.name = null
        advertised.listeners = null
        advertised.port = null
        alter.config.policy.class.name = null
        alter.log.dirs.replication.quota.window.num = 11
        alter.log.dirs.replication.quota.window.size.seconds = 1
        authorizer.class.name =
        auto.create.topics.enable = true
        auto.leader.rebalance.enable = true
        background.threads = 10
        broker.heartbeat.interval.ms = 2000
        broker.id = 0
        broker.id.generation.enable = true
        broker.rack = null
        broker.session.timeout.ms = 9000
        client.quota.callback.class = null
        compression.type = producer
        connection.failed.authentication.delay.ms = 100
        connections.max.idle.ms = 600000
        connections.max.reauth.ms = 0
        control.plane.listener.name = null
        controlled.shutdown.enable = true
        controlled.shutdown.max.retries = 3
        controlled.shutdown.retry.backoff.ms = 5000
        controller.listener.names = null
        controller.quorum.append.linger.ms = 25
        controller.quorum.election.backoff.max.ms = 1000
        controller.quorum.election.timeout.ms = 1000
        controller.quorum.fetch.timeout.ms = 2000
        controller.quorum.request.timeout.ms = 2000
        controller.quorum.retry.backoff.ms = 20
        controller.quorum.voters = []
        controller.quota.window.num = 11
        controller.quota.window.size.seconds = 1
        controller.socket.timeout.ms = 30000
        create.topic.policy.class.name = null
        default.replication.factor = 1
        delegation.token.expiry.check.interval.ms = 3600000
        delegation.token.expiry.time.ms = 86400000
        delegation.token.master.key = null
        delegation.token.max.lifetime.ms = 604800000
        delegation.token.secret.key = null
        delete.records.purgatory.purge.interval.requests = 1
        delete.topic.enable = true
        fetch.max.bytes = 57671680
        fetch.purgatory.purge.interval.requests = 1000
        group.initial.rebalance.delay.ms = 0
        group.max.session.timeout.ms = 1800000
        group.max.size = 2147483647
        group.min.session.timeout.ms = 6000
        host.name =
        initial.broker.registration.timeout.ms = 60000
        inter.broker.listener.name = null
        inter.broker.protocol.version = 2.8-IV1
        kafka.metrics.polling.interval.secs = 10
        kafka.metrics.reporters = []
        leader.imbalance.check.interval.seconds = 300
        leader.imbalance.per.broker.percentage = 10
        listener.security.protocol.map = PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL
        listeners = null
        log.cleaner.backoff.ms = 15000
        log.cleaner.dedupe.buffer.size = 134217728
        log.cleaner.delete.retention.ms = 86400000
        log.cleaner.enable = true
        log.cleaner.io.buffer.load.factor = 0.9
        log.cleaner.io.buffer.size = 524288
        log.cleaner.io.max.bytes.per.second = 1.7976931348623157E308
        log.cleaner.max.compaction.lag.ms = 9223372036854775807
        log.cleaner.min.cleanable.ratio = 0.5
        log.cleaner.min.compaction.lag.ms = 0
        log.cleaner.threads = 1
        log.cleanup.policy = [delete]
        log.dir = /tmp/kafka-logs
        log.dirs = /tmp/kafka-logs
        log.flush.interval.messages = 9223372036854775807
        log.flush.interval.ms = null
        log.flush.offset.checkpoint.interval.ms = 60000
        log.flush.scheduler.interval.ms = 9223372036854775807
        log.flush.start.offset.checkpoint.interval.ms = 60000
        log.index.interval.bytes = 4096
        log.index.size.max.bytes = 10485760
        log.message.downconversion.enable = true
        log.message.format.version = 2.8-IV1
        log.message.timestamp.difference.max.ms = 9223372036854775807
        log.message.timestamp.type = CreateTime
        log.preallocate = false
        log.retention.bytes = -1
        log.retention.check.interval.ms = 300000
        log.retention.hours = 168
        log.retention.minutes = null
        log.retention.ms = null
        log.roll.hours = 168
        log.roll.jitter.hours = 0
        log.roll.jitter.ms = null
        log.roll.ms = null
        log.segment.bytes = 1073741824
        log.segment.delete.delay.ms = 60000
        max.connection.creation.rate = 2147483647
        max.connections = 2147483647
        max.connections.per.ip = 2147483647
        max.connections.per.ip.overrides =
        max.incremental.fetch.session.cache.slots = 1000
        message.max.bytes = 1048588
        metadata.log.dir = null
        metric.reporters = []
        metrics.num.samples = 2
        metrics.recording.level = INFO
        metrics.sample.window.ms = 30000
        min.insync.replicas = 1
        node.id = -1
        num.io.threads = 8
        num.network.threads = 3
        num.partitions = 1
        num.recovery.threads.per.data.dir = 1
        num.replica.alter.log.dirs.threads = null
        num.replica.fetchers = 1
        offset.metadata.max.bytes = 4096
        offsets.commit.required.acks = -1
        offsets.commit.timeout.ms = 5000
        offsets.load.buffer.size = 5242880
        offsets.retention.check.interval.ms = 600000
        offsets.retention.minutes = 10080
        offsets.topic.compression.codec = 0
        offsets.topic.num.partitions = 50
        offsets.topic.replication.factor = 1
        offsets.topic.segment.bytes = 104857600
        password.encoder.cipher.algorithm = AES/CBC/PKCS5Padding
        password.encoder.iterations = 4096
        password.encoder.key.length = 128
        password.encoder.keyfactory.algorithm = null
        password.encoder.old.secret = null
        password.encoder.secret = null
        port = 9092
        principal.builder.class = null
        process.roles = []
        producer.purgatory.purge.interval.requests = 1000
        queued.max.request.bytes = -1
        queued.max.requests = 500
        quota.consumer.default = 9223372036854775807
        quota.producer.default = 9223372036854775807
        quota.window.num = 11
        quota.window.size.seconds = 1
        replica.fetch.backoff.ms = 1000
        replica.fetch.max.bytes = 1048576
        replica.fetch.min.bytes = 1
        replica.fetch.response.max.bytes = 10485760
        replica.fetch.wait.max.ms = 500
        replica.high.watermark.checkpoint.interval.ms = 5000
        replica.lag.time.max.ms = 30000
        replica.selector.class = null
        replica.socket.receive.buffer.bytes = 65536
        replica.socket.timeout.ms = 30000
        replication.quota.window.num = 11
        replication.quota.window.size.seconds = 1
        request.timeout.ms = 30000
        reserved.broker.max.id = 1000
        sasl.client.callback.handler.class = null
        sasl.enabled.mechanisms = [GSSAPI]
        sasl.jaas.config = null
        sasl.kerberos.kinit.cmd = /usr/bin/kinit
        sasl.kerberos.min.time.before.relogin = 60000
        sasl.kerberos.principal.to.local.rules = [DEFAULT]
        sasl.kerberos.service.name = null
        sasl.kerberos.ticket.renew.jitter = 0.05
        sasl.kerberos.ticket.renew.window.factor = 0.8
        sasl.login.callback.handler.class = null
        sasl.login.class = null
        sasl.login.refresh.buffer.seconds = 300
        sasl.login.refresh.min.period.seconds = 60
        sasl.login.refresh.window.factor = 0.8
        sasl.login.refresh.window.jitter = 0.05
        sasl.mechanism.controller.protocol = GSSAPI
        sasl.mechanism.inter.broker.protocol = GSSAPI
        sasl.server.callback.handler.class = null
        security.inter.broker.protocol = PLAINTEXT
        security.providers = null
        socket.connection.setup.timeout.max.ms = 30000
        socket.connection.setup.timeout.ms = 10000
        socket.receive.buffer.bytes = 102400
        socket.request.max.bytes = 104857600
        socket.send.buffer.bytes = 102400
        ssl.cipher.suites = []
        ssl.client.auth = none
        ssl.enabled.protocols = [TLSv1.2]
        ssl.endpoint.identification.algorithm = https
        ssl.engine.factory.class = null
        ssl.key.password = null
        ssl.keymanager.algorithm = SunX509
        ssl.keystore.certificate.chain = null
        ssl.keystore.key = null
        ssl.keystore.location = null
        ssl.keystore.password = null
        ssl.keystore.type = JKS
        ssl.principal.mapping.rules = DEFAULT
        ssl.protocol = TLSv1.2
        ssl.provider = null
        ssl.secure.random.implementation = null
        ssl.trustmanager.algorithm = PKIX
        ssl.truststore.certificates = null
        ssl.truststore.location = null
        ssl.truststore.password = null
        ssl.truststore.type = JKS
        transaction.abort.timed.out.transaction.cleanup.interval.ms = 10000
        transaction.max.timeout.ms = 900000
        transaction.remove.expired.transaction.cleanup.interval.ms = 3600000
        transaction.state.log.load.buffer.size = 5242880
        transaction.state.log.min.isr = 1
        transaction.state.log.num.partitions = 50
        transaction.state.log.replication.factor = 1
        transaction.state.log.segment.bytes = 104857600
        transactional.id.expiration.ms = 604800000
        unclean.leader.election.enable = false
        zookeeper.clientCnxnSocket = null
        zookeeper.connect = localhost:2181
        zookeeper.connection.timeout.ms = 18000
        zookeeper.max.in.flight.requests = 10
        zookeeper.session.timeout.ms = 18000
        zookeeper.set.acl = false
        zookeeper.ssl.cipher.suites = null
        zookeeper.ssl.client.enable = false
        zookeeper.ssl.crl.enable = false
        zookeeper.ssl.enabled.protocols = null
        zookeeper.ssl.endpoint.identification.algorithm = HTTPS
        zookeeper.ssl.keystore.location = null
        zookeeper.ssl.keystore.password = null
        zookeeper.ssl.keystore.type = null
        zookeeper.ssl.ocsp.enable = false
        zookeeper.ssl.protocol = TLSv1.2
        zookeeper.ssl.truststore.location = null
        zookeeper.ssl.truststore.password = null
        zookeeper.ssl.truststore.type = null
        zookeeper.sync.time.ms = 2000
 (kafka.server.KafkaConfig)
[2021-09-02 16:30:26,506] INFO [ThrottledChannelReaper-Fetch]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
[2021-09-02 16:30:26,507] INFO [ThrottledChannelReaper-Produce]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
[2021-09-02 16:30:26,509] INFO [ThrottledChannelReaper-Request]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
[2021-09-02 16:30:26,511] INFO [ThrottledChannelReaper-ControllerMutation]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
[2021-09-02 16:30:26,532] INFO Log directory /tmp/kafka-logs not found, creating it. (kafka.log.LogManager)
[2021-09-02 16:30:26,554] INFO Loading logs from log dirs ArraySeq(/tmp/kafka-logs) (kafka.log.LogManager)
[2021-09-02 16:30:26,562] INFO Attempting recovery for all logs in /tmp/kafka-logs since no clean shutdown file was found (kafka.log.LogManager)
[2021-09-02 16:30:26,568] INFO Loaded 0 logs in 8ms. (kafka.log.LogManager)
[2021-09-02 16:30:26,569] INFO Starting log cleanup with a period of 300000 ms. (kafka.log.LogManager)
[2021-09-02 16:30:26,573] INFO Starting log flusher with a default period of 9223372036854775807 ms. (kafka.log.LogManager)
[2021-09-02 16:30:27,135] INFO Updated connection-accept-rate max connection creation rate to 2147483647 (kafka.network.ConnectionQuotas)
[2021-09-02 16:30:27,143] INFO Awaiting socket connections on 0.0.0.0:9092. (kafka.network.Acceptor)
[2021-09-02 16:30:27,188] INFO [SocketServer listenerType=ZK_BROKER, nodeId=0] Created data-plane acceptor and processors for endpoint : ListenerName(PLAINTEXT) (kafka.network.SocketServer)
[2021-09-02 16:30:27,228] INFO [broker-0-to-controller-send-thread]: Starting (kafka.server.BrokerToControllerRequestThread)
[2021-09-02 16:30:27,248] INFO [ExpirationReaper-0-Produce]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:30:27,249] INFO [ExpirationReaper-0-Fetch]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:30:27,250] INFO [ExpirationReaper-0-ElectLeader]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:30:27,250] INFO [ExpirationReaper-0-DeleteRecords]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:30:27,267] INFO [LogDirFailureHandler]: Starting (kafka.server.ReplicaManager$LogDirFailureHandler)
[2021-09-02 16:30:27,301] INFO Creating /brokers/ids/0 (is it secure? false) (kafka.zk.KafkaZkClient)
[2021-09-02 16:30:27,328] INFO Stat of the created znode at /brokers/ids/0 is: 25,25,1630571427317,1630571427317,1,0,0,72058747593359360,238,0,25
 (kafka.zk.KafkaZkClient)
[2021-09-02 16:30:27,331] INFO Registered broker 0 at path /brokers/ids/0 with addresses: PLAINTEXT://HIGDQEEMO63U9NR.localdomain:9092, czxid (broker epoch): 25 (kafka.zk.KafkaZkClient)
[2021-09-02 16:30:27,421] INFO [ExpirationReaper-0-topic]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:30:27,431] INFO [ExpirationReaper-0-Heartbeat]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:30:27,432] INFO [ExpirationReaper-0-Rebalance]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:30:27,438] INFO Successfully created /controller_epoch with initial epoch 0 (kafka.zk.KafkaZkClient)
[2021-09-02 16:30:27,449] INFO [GroupCoordinator 0]: Starting up. (kafka.coordinator.group.GroupCoordinator)
[2021-09-02 16:30:27,456] INFO [GroupCoordinator 0]: Startup complete. (kafka.coordinator.group.GroupCoordinator)
[2021-09-02 16:30:27,463] INFO Feature ZK node created at path: /feature (kafka.server.FinalizedFeatureChangeListener)
[2021-09-02 16:30:27,504] INFO [ProducerId Manager 0]: Acquired new producerId block (brokerId:0,blockStartProducerId:0,blockEndProducerId:999) by writing to Zk with path version 1 (kafka.coordinator.transaction.ProducerIdManager)
[2021-09-02 16:30:27,507] INFO [TransactionCoordinator id=0] Starting up. (kafka.coordinator.transaction.TransactionCoordinator)
[2021-09-02 16:30:27,513] INFO [Transaction Marker Channel Manager 0]: Starting (kafka.coordinator.transaction.TransactionMarkerChannelManager)
[2021-09-02 16:30:27,513] INFO [TransactionCoordinator id=0] Startup complete. (kafka.coordinator.transaction.TransactionCoordinator)
[2021-09-02 16:30:27,520] INFO Updated cache from existing <empty> to latest FinalizedFeaturesAndEpoch(features=Features{}, epoch=0). (kafka.server.FinalizedFeatureCache)
[2021-09-02 16:30:27,556] INFO [ExpirationReaper-0-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:30:27,587] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)
[2021-09-02 16:30:27,602] INFO [SocketServer listenerType=ZK_BROKER, nodeId=0] Starting socket server acceptors and processors (kafka.network.SocketServer)
[2021-09-02 16:30:27,614] INFO [SocketServer listenerType=ZK_BROKER, nodeId=0] Started data-plane acceptor and processor(s) for endpoint : ListenerName(PLAINTEXT) (kafka.network.SocketServer)
[2021-09-02 16:30:27,615] INFO [SocketServer listenerType=ZK_BROKER, nodeId=0] Started socket server acceptors and processors (kafka.network.SocketServer)
[2021-09-02 16:30:27,624] INFO Kafka version: 2.8.0 (org.apache.kafka.common.utils.AppInfoParser)
[2021-09-02 16:30:27,624] INFO Kafka commitId: ebb1d6e21cc92130 (org.apache.kafka.common.utils.AppInfoParser)
[2021-09-02 16:30:27,626] INFO Kafka startTimeMs: 1630571427617 (org.apache.kafka.common.utils.AppInfoParser)
[2021-09-02 16:30:27,629] INFO [KafkaServer id=0] started (kafka.server.KafkaServer)
[2021-09-02 16:30:27,747] INFO [broker-0-to-controller-send-thread]: Recorded new controller, from now on will use broker HIGDQEEMO63U9NR.localdomain:9092 (id: 0 rack: null) (kafka.server.BrokerToControllerRequestThread)
```

发现页面会停在这，我们需要后台运行这个程序：
> bin/kafka-server-start.sh config/server.properties &

输出进程id，和运行的打印信息：
```
[root@HIGDQEEMO63U9NR kafka]# bin/kafka-server-start.sh config/server.properties &
[2] 3176
[root@HIGDQEEMO63U9NR kafka]#
[root@HIGDQEEMO63U9NR kafka]# [2021-09-02 16:41:47,827] INFO Registered kafka:type=kafka.Log4jController MBean (kafka.utils.Log4jControllerRegistration$)
[2021-09-02 16:41:48,143] INFO Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation (org.apache.zookeeper.common.X509Util)
[2021-09-02 16:41:48,233] INFO Registered signal handlers for TERM, INT, HUP (org.apache.kafka.common.utils.LoggingSignalHandler)
[2021-09-02 16:41:48,239] INFO starting (kafka.server.KafkaServer)
[2021-09-02 16:41:48,239] INFO Connecting to zookeeper on localhost:2181 (kafka.server.KafkaServer)
[2021-09-02 16:41:48,276] INFO [ZooKeeperClient Kafka server] Initializing a new session to localhost:2181. (kafka.zookeeper.ZooKeeperClient)
[2021-09-02 16:41:48,284] INFO Client environment:zookeeper.version=3.5.9-83df9301aa5c2a5d284a9940177808c01bc35cef, built on 01/06/2021 20:03 GMT (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,285] INFO Client environment:host.name=HIGDQEEMO63U9NR.localdomain (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,285] INFO Client environment:java.version=1.8.0_302 (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,287] INFO Client environment:java.vendor=Red Hat, Inc. (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,287] INFO Client environment:java.home=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64/jre (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,288] INFO Client environment:java.class.path=/usr/local/kafka/bin/../libs/activation-1.1.1.jar:/usr/local/kafka/bin/../libs/aopalliance-repackaged-2.6.1.jar:/usr/local/kafka/bin/../libs/argparse4j-0.7.0.jar:/usr/local/kafka/bin/../libs/audience-annotations-0.5.0.jar:/usr/local/kafka/bin/../libs/commons-cli-1.4.jar:/usr/local/kafka/bin/../libs/commons-lang3-3.8.1.jar:/usr/local/kafka/bin/../libs/connect-api-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-basic-auth-extension-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-file-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-json-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-mirror-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-mirror-client-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-runtime-2.8.0.jar:/usr/local/kafka/bin/../libs/connect-transforms-2.8.0.jar:/usr/local/kafka/bin/../libs/hk2-api-2.6.1.jar:/usr/local/kafka/bin/../libs/hk2-locator-2.6.1.jar:/usr/local/kafka/bin/../libs/hk2-utils-2.6.1.jar:/usr/local/kafka/bin/../libs/jackson-annotations-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-core-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-databind-2.10.5.1.jar:/usr/local/kafka/bin/../libs/jackson-dataformat-csv-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-datatype-jdk8-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-jaxrs-base-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-jaxrs-json-provider-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-module-jaxb-annotations-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-module-paranamer-2.10.5.jar:/usr/local/kafka/bin/../libs/jackson-module-scala_2.13-2.10.5.jar:/usr/local/kafka/bin/../libs/jakarta.activation-api-1.2.1.jar:/usr/local/kafka/bin/../libs/jakarta.annotation-api-1.3.5.jar:/usr/local/kafka/bin/../libs/jakarta.inject-2.6.1.jar:/usr/local/kafka/bin/../libs/jakarta.validation-api-2.0.2.jar:/usr/local/kafka/bin/../libs/jakarta.ws.rs-api-2.1.6.jar:/usr/local/kafka/bin/../libs/jakarta.xml.bind-api-2.3.2.jar:/usr/local/kafka/bin/../libs/javassist-3.27.0-GA.jar:/usr/local/kafka/bin/../libs/javax.servlet-api-3.1.0.jar:/usr/local/kafka/bin/../libs/javax.ws.rs-api-2.1.1.jar:/usr/local/kafka/bin/../libs/jaxb-api-2.3.0.jar:/usr/local/kafka/bin/../libs/jersey-client-2.31.jar:/usr/local/kafka/bin/../libs/jersey-common-2.31.jar:/usr/local/kafka/bin/../libs/jersey-container-servlet-2.31.jar:/usr/local/kafka/bin/../libs/jersey-container-servlet-core-2.31.jar:/usr/local/kafka/bin/../libs/jersey-hk2-2.31.jar:/usr/local/kafka/bin/../libs/jersey-media-jaxb-2.31.jar:/usr/local/kafka/bin/../libs/jersey-server-2.31.jar:/usr/local/kafka/bin/../libs/jetty-client-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-continuation-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-http-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-io-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-security-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-server-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-servlet-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-servlets-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-util-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jetty-util-ajax-9.4.39.v20210325.jar:/usr/local/kafka/bin/../libs/jline-3.12.1.jar:/usr/local/kafka/bin/../libs/jopt-simple-5.0.4.jar:/usr/local/kafka/bin/../libs/kafka_2.13-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka_2.13-2.8.0-sources.jar:/usr/local/kafka/bin/../libs/kafka-clients-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-log4j-appender-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-metadata-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-raft-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-shell-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-streams-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-streams-examples-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-streams-scala_2.13-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-streams-test-utils-2.8.0.jar:/usr/local/kafka/bin/../libs/kafka-tools-2.8.0.jar:/usr/local/kafka/bin/../libs/log4j-1.2.17.jar:/usr/local/kafka/bin/../libs/lz4-java-1.7.1.jar:/usr/local/kafka/bin/../libs/maven-artifact-3.6.3.jar:/usr/local/kafka/bin/../libs/metrics-core-2.2.0.jar:/usr/local/kafka/bin/../libs/netty-buffer-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-codec-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-common-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-handler-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-resolver-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-transport-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-transport-native-epoll-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/netty-transport-native-unix-common-4.1.62.Final.jar:/usr/local/kafka/bin/../libs/osgi-resource-locator-1.0.3.jar:/usr/local/kafka/bin/../libs/paranamer-2.8.jar:/usr/local/kafka/bin/../libs/plexus-utils-3.2.1.jar:/usr/local/kafka/bin/../libs/reflections-0.9.12.jar:/usr/local/kafka/bin/../libs/rocksdbjni-5.18.4.jar:/usr/local/kafka/bin/../libs/scala-collection-compat_2.13-2.3.0.jar:/usr/local/kafka/bin/../libs/scala-java8-compat_2.13-0.9.1.jar:/usr/local/kafka/bin/../libs/scala-library-2.13.5.jar:/usr/local/kafka/bin/../libs/scala-logging_2.13-3.9.2.jar:/usr/local/kafka/bin/../libs/scala-reflect-2.13.5.jar:/usr/local/kafka/bin/../libs/slf4j-api-1.7.30.jar:/usr/local/kafka/bin/../libs/slf4j-log4j12-1.7.30.jar:/usr/local/kafka/bin/../libs/snappy-java-1.1.8.1.jar:/usr/local/kafka/bin/../libs/zookeeper-3.5.9.jar:/usr/local/kafka/bin/../libs/zookeeper-jute-3.5.9.jar:/usr/local/kafka/bin/../libs/zstd-jni-1.4.9-1.jar (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,290] INFO Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,290] INFO Client environment:java.io.tmpdir=/tmp (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,291] INFO Client environment:java.compiler=<NA> (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,292] INFO Client environment:os.name=Linux (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,292] INFO Client environment:os.arch=amd64 (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,292] INFO Client environment:os.version=4.4.0-18362-Microsoft (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,293] INFO Client environment:user.name=root (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,293] INFO Client environment:user.home=/root (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,293] INFO Client environment:user.dir=/usr/local/kafka (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,294] INFO Client environment:os.memory.free=1013MB (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,294] INFO Client environment:os.memory.max=1024MB (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,295] INFO Client environment:os.memory.total=1024MB (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,301] INFO Initiating client connection, connectString=localhost:2181 sessionTimeout=18000 watcher=kafka.zookeeper.ZooKeeperClient$ZooKeeperClientWatcher$@38d8f54a (org.apache.zookeeper.ZooKeeper)
[2021-09-02 16:41:48,306] INFO jute.maxbuffer value is 4194304 Bytes (org.apache.zookeeper.ClientCnxnSocket)
[2021-09-02 16:41:48,313] INFO zookeeper.request.timeout value is 0. feature enabled= (org.apache.zookeeper.ClientCnxn)
[2021-09-02 16:41:48,317] INFO [ZooKeeperClient Kafka server] Waiting until connected. (kafka.zookeeper.ZooKeeperClient)
[2021-09-02 16:41:48,320] INFO Opening socket connection to server localhost/127.0.0.1:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)
[2021-09-02 16:41:48,325] INFO Socket connection established, initiating session, client: /127.0.0.1:51625, server: localhost/127.0.0.1:2181 (org.apache.zookeeper.ClientCnxn)
[2021-09-02 16:41:48,347] INFO Session establishment complete on server localhost/127.0.0.1:2181, sessionid = 0x100010c95430001, negotiated timeout = 18000 (org.apache.zookeeper.ClientCnxn)
[2021-09-02 16:41:48,356] INFO [ZooKeeperClient Kafka server] Connected. (kafka.zookeeper.ZooKeeperClient)
[2021-09-02 16:41:48,496] INFO [feature-zk-node-event-process-thread]: Starting (kafka.server.FinalizedFeatureChangeListener$ChangeNotificationProcessorThread)
[2021-09-02 16:41:48,656] INFO Updated cache from existing <empty> to latest FinalizedFeaturesAndEpoch(features=Features{}, epoch=0). (kafka.server.FinalizedFeatureCache)
[2021-09-02 16:41:48,661] INFO Cluster ID = zdAxMkfKRHCkUyoDyuHXlg (kafka.server.KafkaServer)
[2021-09-02 16:41:48,710] INFO KafkaConfig values:
        advertised.host.name = null
        advertised.listeners = null
        advertised.port = null
        alter.config.policy.class.name = null
        alter.log.dirs.replication.quota.window.num = 11
        alter.log.dirs.replication.quota.window.size.seconds = 1
        authorizer.class.name =
        auto.create.topics.enable = true
        auto.leader.rebalance.enable = true
        background.threads = 10
        broker.heartbeat.interval.ms = 2000
        broker.id = 0
        broker.id.generation.enable = true
        broker.rack = null
        broker.session.timeout.ms = 9000
        client.quota.callback.class = null
        compression.type = producer
        connection.failed.authentication.delay.ms = 100
        connections.max.idle.ms = 600000
        connections.max.reauth.ms = 0
        control.plane.listener.name = null
        controlled.shutdown.enable = true
        controlled.shutdown.max.retries = 3
        controlled.shutdown.retry.backoff.ms = 5000
        controller.listener.names = null
        controller.quorum.append.linger.ms = 25
        controller.quorum.election.backoff.max.ms = 1000
        controller.quorum.election.timeout.ms = 1000
        controller.quorum.fetch.timeout.ms = 2000
        controller.quorum.request.timeout.ms = 2000
        controller.quorum.retry.backoff.ms = 20
        controller.quorum.voters = []
        controller.quota.window.num = 11
        controller.quota.window.size.seconds = 1
        controller.socket.timeout.ms = 30000
        create.topic.policy.class.name = null
        default.replication.factor = 1
        delegation.token.expiry.check.interval.ms = 3600000
        delegation.token.expiry.time.ms = 86400000
        delegation.token.master.key = null
        delegation.token.max.lifetime.ms = 604800000
        delegation.token.secret.key = null
        delete.records.purgatory.purge.interval.requests = 1
        delete.topic.enable = true
        fetch.max.bytes = 57671680
        fetch.purgatory.purge.interval.requests = 1000
        group.initial.rebalance.delay.ms = 0
        group.max.session.timeout.ms = 1800000
        group.max.size = 2147483647
        group.min.session.timeout.ms = 6000
        host.name =
        initial.broker.registration.timeout.ms = 60000
        inter.broker.listener.name = null
        inter.broker.protocol.version = 2.8-IV1
        kafka.metrics.polling.interval.secs = 10
        kafka.metrics.reporters = []
        leader.imbalance.check.interval.seconds = 300
        leader.imbalance.per.broker.percentage = 10
        listener.security.protocol.map = PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL
        listeners = null
        log.cleaner.backoff.ms = 15000
        log.cleaner.dedupe.buffer.size = 134217728
        log.cleaner.delete.retention.ms = 86400000
        log.cleaner.enable = true
        log.cleaner.io.buffer.load.factor = 0.9
        log.cleaner.io.buffer.size = 524288
        log.cleaner.io.max.bytes.per.second = 1.7976931348623157E308
        log.cleaner.max.compaction.lag.ms = 9223372036854775807
        log.cleaner.min.cleanable.ratio = 0.5
        log.cleaner.min.compaction.lag.ms = 0
        log.cleaner.threads = 1
        log.cleanup.policy = [delete]
        log.dir = /tmp/kafka-logs
        log.dirs = /tmp/kafka-logs
        log.flush.interval.messages = 9223372036854775807
        log.flush.interval.ms = null
        log.flush.offset.checkpoint.interval.ms = 60000
        log.flush.scheduler.interval.ms = 9223372036854775807
        log.flush.start.offset.checkpoint.interval.ms = 60000
        log.index.interval.bytes = 4096
        log.index.size.max.bytes = 10485760
        log.message.downconversion.enable = true
        log.message.format.version = 2.8-IV1
        log.message.timestamp.difference.max.ms = 9223372036854775807
        log.message.timestamp.type = CreateTime
        log.preallocate = false
        log.retention.bytes = -1
        log.retention.check.interval.ms = 300000
        log.retention.hours = 168
        log.retention.minutes = null
        log.retention.ms = null
        log.roll.hours = 168
        log.roll.jitter.hours = 0
        log.roll.jitter.ms = null
        log.roll.ms = null
        log.segment.bytes = 1073741824
        log.segment.delete.delay.ms = 60000
        max.connection.creation.rate = 2147483647
        max.connections = 2147483647
        max.connections.per.ip = 2147483647
        max.connections.per.ip.overrides =
        max.incremental.fetch.session.cache.slots = 1000
        message.max.bytes = 1048588
        metadata.log.dir = null
        metric.reporters = []
        metrics.num.samples = 2
        metrics.recording.level = INFO
        metrics.sample.window.ms = 30000
        min.insync.replicas = 1
        node.id = -1
        num.io.threads = 8
        num.network.threads = 3
        num.partitions = 1
        num.recovery.threads.per.data.dir = 1
        num.replica.alter.log.dirs.threads = null
        num.replica.fetchers = 1
        offset.metadata.max.bytes = 4096
        offsets.commit.required.acks = -1
        offsets.commit.timeout.ms = 5000
        offsets.load.buffer.size = 5242880
        offsets.retention.check.interval.ms = 600000
        offsets.retention.minutes = 10080
        offsets.topic.compression.codec = 0
        offsets.topic.num.partitions = 50
        offsets.topic.replication.factor = 1
        offsets.topic.segment.bytes = 104857600
        password.encoder.cipher.algorithm = AES/CBC/PKCS5Padding
        password.encoder.iterations = 4096
        password.encoder.key.length = 128
        password.encoder.keyfactory.algorithm = null
        password.encoder.old.secret = null
        password.encoder.secret = null
        port = 9092
        principal.builder.class = null
        process.roles = []
        producer.purgatory.purge.interval.requests = 1000
        queued.max.request.bytes = -1
        queued.max.requests = 500
        quota.consumer.default = 9223372036854775807
        quota.producer.default = 9223372036854775807
        quota.window.num = 11
        quota.window.size.seconds = 1
        replica.fetch.backoff.ms = 1000
        replica.fetch.max.bytes = 1048576
        replica.fetch.min.bytes = 1
        replica.fetch.response.max.bytes = 10485760
        replica.fetch.wait.max.ms = 500
        replica.high.watermark.checkpoint.interval.ms = 5000
        replica.lag.time.max.ms = 30000
        replica.selector.class = null
        replica.socket.receive.buffer.bytes = 65536
        replica.socket.timeout.ms = 30000
        replication.quota.window.num = 11
        replication.quota.window.size.seconds = 1
        request.timeout.ms = 30000
        reserved.broker.max.id = 1000
        sasl.client.callback.handler.class = null
        sasl.enabled.mechanisms = [GSSAPI]
        sasl.jaas.config = null
        sasl.kerberos.kinit.cmd = /usr/bin/kinit
        sasl.kerberos.min.time.before.relogin = 60000
        sasl.kerberos.principal.to.local.rules = [DEFAULT]
        sasl.kerberos.service.name = null
        sasl.kerberos.ticket.renew.jitter = 0.05
        sasl.kerberos.ticket.renew.window.factor = 0.8
        sasl.login.callback.handler.class = null
        sasl.login.class = null
        sasl.login.refresh.buffer.seconds = 300
        sasl.login.refresh.min.period.seconds = 60
        sasl.login.refresh.window.factor = 0.8
        sasl.login.refresh.window.jitter = 0.05
        sasl.mechanism.controller.protocol = GSSAPI
        sasl.mechanism.inter.broker.protocol = GSSAPI
        sasl.server.callback.handler.class = null
        security.inter.broker.protocol = PLAINTEXT
        security.providers = null
        socket.connection.setup.timeout.max.ms = 30000
        socket.connection.setup.timeout.ms = 10000
        socket.receive.buffer.bytes = 102400
        socket.request.max.bytes = 104857600
        socket.send.buffer.bytes = 102400
        ssl.cipher.suites = []
        ssl.client.auth = none
        ssl.enabled.protocols = [TLSv1.2]
        ssl.endpoint.identification.algorithm = https
        ssl.engine.factory.class = null
        ssl.key.password = null
        ssl.keymanager.algorithm = SunX509
        ssl.keystore.certificate.chain = null
        ssl.keystore.key = null
        ssl.keystore.location = null
        ssl.keystore.password = null
        ssl.keystore.type = JKS
        ssl.principal.mapping.rules = DEFAULT
        ssl.protocol = TLSv1.2
        ssl.provider = null
        ssl.secure.random.implementation = null
        ssl.trustmanager.algorithm = PKIX
        ssl.truststore.certificates = null
        ssl.truststore.location = null
        ssl.truststore.password = null
        ssl.truststore.type = JKS
        transaction.abort.timed.out.transaction.cleanup.interval.ms = 10000
        transaction.max.timeout.ms = 900000
        transaction.remove.expired.transaction.cleanup.interval.ms = 3600000
        transaction.state.log.load.buffer.size = 5242880
        transaction.state.log.min.isr = 1
        transaction.state.log.num.partitions = 50
        transaction.state.log.replication.factor = 1
        transaction.state.log.segment.bytes = 104857600
        transactional.id.expiration.ms = 604800000
        unclean.leader.election.enable = false
        zookeeper.clientCnxnSocket = null
        zookeeper.connect = localhost:2181
        zookeeper.connection.timeout.ms = 18000
        zookeeper.max.in.flight.requests = 10
        zookeeper.session.timeout.ms = 18000
        zookeeper.set.acl = false
        zookeeper.ssl.cipher.suites = null
        zookeeper.ssl.client.enable = false
        zookeeper.ssl.crl.enable = false
        zookeeper.ssl.enabled.protocols = null
        zookeeper.ssl.endpoint.identification.algorithm = HTTPS
        zookeeper.ssl.keystore.location = null
        zookeeper.ssl.keystore.password = null
        zookeeper.ssl.keystore.type = null
        zookeeper.ssl.ocsp.enable = false
        zookeeper.ssl.protocol = TLSv1.2
        zookeeper.ssl.truststore.location = null
        zookeeper.ssl.truststore.password = null
        zookeeper.ssl.truststore.type = null
        zookeeper.sync.time.ms = 2000
 (kafka.server.KafkaConfig)
[2021-09-02 16:41:48,799] INFO KafkaConfig values:
        advertised.host.name = null
        advertised.listeners = null
        advertised.port = null
        alter.config.policy.class.name = null
        alter.log.dirs.replication.quota.window.num = 11
        alter.log.dirs.replication.quota.window.size.seconds = 1
        authorizer.class.name =
        auto.create.topics.enable = true
        auto.leader.rebalance.enable = true
        background.threads = 10
        broker.heartbeat.interval.ms = 2000
        broker.id = 0
        broker.id.generation.enable = true
        broker.rack = null
        broker.session.timeout.ms = 9000
        client.quota.callback.class = null
        compression.type = producer
        connection.failed.authentication.delay.ms = 100
        connections.max.idle.ms = 600000
        connections.max.reauth.ms = 0
        control.plane.listener.name = null
        controlled.shutdown.enable = true
        controlled.shutdown.max.retries = 3
        controlled.shutdown.retry.backoff.ms = 5000
        controller.listener.names = null
        controller.quorum.append.linger.ms = 25
        controller.quorum.election.backoff.max.ms = 1000
        controller.quorum.election.timeout.ms = 1000
        controller.quorum.fetch.timeout.ms = 2000
        controller.quorum.request.timeout.ms = 2000
        controller.quorum.retry.backoff.ms = 20
        controller.quorum.voters = []
        controller.quota.window.num = 11
        controller.quota.window.size.seconds = 1
        controller.socket.timeout.ms = 30000
        create.topic.policy.class.name = null
        default.replication.factor = 1
        delegation.token.expiry.check.interval.ms = 3600000
        delegation.token.expiry.time.ms = 86400000
        delegation.token.master.key = null
        delegation.token.max.lifetime.ms = 604800000
        delegation.token.secret.key = null
        delete.records.purgatory.purge.interval.requests = 1
        delete.topic.enable = true
        fetch.max.bytes = 57671680
        fetch.purgatory.purge.interval.requests = 1000
        group.initial.rebalance.delay.ms = 0
        group.max.session.timeout.ms = 1800000
        group.max.size = 2147483647
        group.min.session.timeout.ms = 6000
        host.name =
        initial.broker.registration.timeout.ms = 60000
        inter.broker.listener.name = null
        inter.broker.protocol.version = 2.8-IV1
        kafka.metrics.polling.interval.secs = 10
        kafka.metrics.reporters = []
        leader.imbalance.check.interval.seconds = 300
        leader.imbalance.per.broker.percentage = 10
        listener.security.protocol.map = PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL
        listeners = null
        log.cleaner.backoff.ms = 15000
        log.cleaner.dedupe.buffer.size = 134217728
        log.cleaner.delete.retention.ms = 86400000
        log.cleaner.enable = true
        log.cleaner.io.buffer.load.factor = 0.9
        log.cleaner.io.buffer.size = 524288
        log.cleaner.io.max.bytes.per.second = 1.7976931348623157E308
        log.cleaner.max.compaction.lag.ms = 9223372036854775807
        log.cleaner.min.cleanable.ratio = 0.5
        log.cleaner.min.compaction.lag.ms = 0
        log.cleaner.threads = 1
        log.cleanup.policy = [delete]
        log.dir = /tmp/kafka-logs
        log.dirs = /tmp/kafka-logs
        log.flush.interval.messages = 9223372036854775807
        log.flush.interval.ms = null
        log.flush.offset.checkpoint.interval.ms = 60000
        log.flush.scheduler.interval.ms = 9223372036854775807
        log.flush.start.offset.checkpoint.interval.ms = 60000
        log.index.interval.bytes = 4096
        log.index.size.max.bytes = 10485760
        log.message.downconversion.enable = true
        log.message.format.version = 2.8-IV1
        log.message.timestamp.difference.max.ms = 9223372036854775807
        log.message.timestamp.type = CreateTime
        log.preallocate = false
        log.retention.bytes = -1
        log.retention.check.interval.ms = 300000
        log.retention.hours = 168
        log.retention.minutes = null
        log.retention.ms = null
        log.roll.hours = 168
        log.roll.jitter.hours = 0
        log.roll.jitter.ms = null
        log.roll.ms = null
        log.segment.bytes = 1073741824
        log.segment.delete.delay.ms = 60000
        max.connection.creation.rate = 2147483647
        max.connections = 2147483647
        max.connections.per.ip = 2147483647
        max.connections.per.ip.overrides =
        max.incremental.fetch.session.cache.slots = 1000
        message.max.bytes = 1048588
        metadata.log.dir = null
        metric.reporters = []
        metrics.num.samples = 2
        metrics.recording.level = INFO
        metrics.sample.window.ms = 30000
        min.insync.replicas = 1
        node.id = -1
        num.io.threads = 8
        num.network.threads = 3
        num.partitions = 1
        num.recovery.threads.per.data.dir = 1
        num.replica.alter.log.dirs.threads = null
        num.replica.fetchers = 1
        offset.metadata.max.bytes = 4096
        offsets.commit.required.acks = -1
        offsets.commit.timeout.ms = 5000
        offsets.load.buffer.size = 5242880
        offsets.retention.check.interval.ms = 600000
        offsets.retention.minutes = 10080
        offsets.topic.compression.codec = 0
        offsets.topic.num.partitions = 50
        offsets.topic.replication.factor = 1
        offsets.topic.segment.bytes = 104857600
        password.encoder.cipher.algorithm = AES/CBC/PKCS5Padding
        password.encoder.iterations = 4096
        password.encoder.key.length = 128
        password.encoder.keyfactory.algorithm = null
        password.encoder.old.secret = null
        password.encoder.secret = null
        port = 9092
        principal.builder.class = null
        process.roles = []
        producer.purgatory.purge.interval.requests = 1000
        queued.max.request.bytes = -1
        queued.max.requests = 500
        quota.consumer.default = 9223372036854775807
        quota.producer.default = 9223372036854775807
        quota.window.num = 11
        quota.window.size.seconds = 1
        replica.fetch.backoff.ms = 1000
        replica.fetch.max.bytes = 1048576
        replica.fetch.min.bytes = 1
        replica.fetch.response.max.bytes = 10485760
        replica.fetch.wait.max.ms = 500
        replica.high.watermark.checkpoint.interval.ms = 5000
        replica.lag.time.max.ms = 30000
        replica.selector.class = null
        replica.socket.receive.buffer.bytes = 65536
        replica.socket.timeout.ms = 30000
        replication.quota.window.num = 11
        replication.quota.window.size.seconds = 1
        request.timeout.ms = 30000
        reserved.broker.max.id = 1000
        sasl.client.callback.handler.class = null
        sasl.enabled.mechanisms = [GSSAPI]
        sasl.jaas.config = null
        sasl.kerberos.kinit.cmd = /usr/bin/kinit
        sasl.kerberos.min.time.before.relogin = 60000
        sasl.kerberos.principal.to.local.rules = [DEFAULT]
        sasl.kerberos.service.name = null
        sasl.kerberos.ticket.renew.jitter = 0.05
        sasl.kerberos.ticket.renew.window.factor = 0.8
        sasl.login.callback.handler.class = null
        sasl.login.class = null
        sasl.login.refresh.buffer.seconds = 300
        sasl.login.refresh.min.period.seconds = 60
        sasl.login.refresh.window.factor = 0.8
        sasl.login.refresh.window.jitter = 0.05
        sasl.mechanism.controller.protocol = GSSAPI
        sasl.mechanism.inter.broker.protocol = GSSAPI
        sasl.server.callback.handler.class = null
        security.inter.broker.protocol = PLAINTEXT
        security.providers = null
        socket.connection.setup.timeout.max.ms = 30000
        socket.connection.setup.timeout.ms = 10000
        socket.receive.buffer.bytes = 102400
        socket.request.max.bytes = 104857600
        socket.send.buffer.bytes = 102400
        ssl.cipher.suites = []
        ssl.client.auth = none
        ssl.enabled.protocols = [TLSv1.2]
        ssl.endpoint.identification.algorithm = https
        ssl.engine.factory.class = null
        ssl.key.password = null
        ssl.keymanager.algorithm = SunX509
        ssl.keystore.certificate.chain = null
        ssl.keystore.key = null
        ssl.keystore.location = null
        ssl.keystore.password = null
        ssl.keystore.type = JKS
        ssl.principal.mapping.rules = DEFAULT
        ssl.protocol = TLSv1.2
        ssl.provider = null
        ssl.secure.random.implementation = null
        ssl.trustmanager.algorithm = PKIX
        ssl.truststore.certificates = null
        ssl.truststore.location = null
        ssl.truststore.password = null
        ssl.truststore.type = JKS
        transaction.abort.timed.out.transaction.cleanup.interval.ms = 10000
        transaction.max.timeout.ms = 900000
        transaction.remove.expired.transaction.cleanup.interval.ms = 3600000
        transaction.state.log.load.buffer.size = 5242880
        transaction.state.log.min.isr = 1
        transaction.state.log.num.partitions = 50
        transaction.state.log.replication.factor = 1
        transaction.state.log.segment.bytes = 104857600
        transactional.id.expiration.ms = 604800000
        unclean.leader.election.enable = false
        zookeeper.clientCnxnSocket = null
        zookeeper.connect = localhost:2181
        zookeeper.connection.timeout.ms = 18000
        zookeeper.max.in.flight.requests = 10
        zookeeper.session.timeout.ms = 18000
        zookeeper.set.acl = false
        zookeeper.ssl.cipher.suites = null
        zookeeper.ssl.client.enable = false
        zookeeper.ssl.crl.enable = false
        zookeeper.ssl.enabled.protocols = null
        zookeeper.ssl.endpoint.identification.algorithm = HTTPS
        zookeeper.ssl.keystore.location = null
        zookeeper.ssl.keystore.password = null
        zookeeper.ssl.keystore.type = null
        zookeeper.ssl.ocsp.enable = false
        zookeeper.ssl.protocol = TLSv1.2
        zookeeper.ssl.truststore.location = null
        zookeeper.ssl.truststore.password = null
        zookeeper.ssl.truststore.type = null
        zookeeper.sync.time.ms = 2000
 (kafka.server.KafkaConfig)
[2021-09-02 16:41:48,920] INFO [ThrottledChannelReaper-Fetch]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
[2021-09-02 16:41:48,921] INFO [ThrottledChannelReaper-Produce]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
[2021-09-02 16:41:48,922] INFO [ThrottledChannelReaper-Request]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
[2021-09-02 16:41:48,924] INFO [ThrottledChannelReaper-ControllerMutation]: Starting (kafka.server.ClientQuotaManager$ThrottledChannelReaper)
[2021-09-02 16:41:48,956] INFO Loading logs from log dirs ArraySeq(/tmp/kafka-logs) (kafka.log.LogManager)
[2021-09-02 16:41:48,961] INFO Attempting recovery for all logs in /tmp/kafka-logs since no clean shutdown file was found (kafka.log.LogManager)
[2021-09-02 16:41:48,969] INFO Loaded 0 logs in 12ms. (kafka.log.LogManager)
[2021-09-02 16:41:48,970] INFO Starting log cleanup with a period of 300000 ms. (kafka.log.LogManager)
[2021-09-02 16:41:48,973] INFO Starting log flusher with a default period of 9223372036854775807 ms. (kafka.log.LogManager)
[2021-09-02 16:41:49,487] INFO Updated connection-accept-rate max connection creation rate to 2147483647 (kafka.network.ConnectionQuotas)
[2021-09-02 16:41:49,492] INFO Awaiting socket connections on 0.0.0.0:9092. (kafka.network.Acceptor)
[2021-09-02 16:41:49,545] INFO [SocketServer listenerType=ZK_BROKER, nodeId=0] Created data-plane acceptor and processors for endpoint : ListenerName(PLAINTEXT) (kafka.network.SocketServer)
[2021-09-02 16:41:49,577] INFO [broker-0-to-controller-send-thread]: Starting (kafka.server.BrokerToControllerRequestThread)
[2021-09-02 16:41:49,600] INFO [ExpirationReaper-0-Produce]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:41:49,602] INFO [ExpirationReaper-0-Fetch]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:41:49,603] INFO [ExpirationReaper-0-DeleteRecords]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:41:49,605] INFO [ExpirationReaper-0-ElectLeader]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:41:49,620] INFO [LogDirFailureHandler]: Starting (kafka.server.ReplicaManager$LogDirFailureHandler)
[2021-09-02 16:41:49,672] INFO Creating /brokers/ids/0 (is it secure? false) (kafka.zk.KafkaZkClient)
[2021-09-02 16:41:49,704] INFO Stat of the created znode at /brokers/ids/0 is: 47,47,1630572109687,1630572109687,1,0,0,72058747593359361,238,0,47
 (kafka.zk.KafkaZkClient)
[2021-09-02 16:41:49,707] INFO Registered broker 0 at path /brokers/ids/0 with addresses: PLAINTEXT://HIGDQEEMO63U9NR.localdomain:9092, czxid (broker epoch): 47 (kafka.zk.KafkaZkClient)
[2021-09-02 16:41:49,788] INFO [ExpirationReaper-0-topic]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:41:49,793] INFO [ExpirationReaper-0-Heartbeat]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:41:49,794] INFO [ExpirationReaper-0-Rebalance]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:41:49,808] INFO [GroupCoordinator 0]: Starting up. (kafka.coordinator.group.GroupCoordinator)
[2021-09-02 16:41:49,817] INFO [GroupCoordinator 0]: Startup complete. (kafka.coordinator.group.GroupCoordinator)
[2021-09-02 16:41:49,876] INFO [ProducerId Manager 0]: Acquired new producerId block (brokerId:0,blockStartProducerId:1000,blockEndProducerId:1999) by writing to Zk with path version 2 (kafka.coordinator.transaction.ProducerIdManager)
[2021-09-02 16:41:49,879] INFO [TransactionCoordinator id=0] Starting up. (kafka.coordinator.transaction.TransactionCoordinator)
[2021-09-02 16:41:49,886] INFO [Transaction Marker Channel Manager 0]: Starting (kafka.coordinator.transaction.TransactionMarkerChannelManager)
[2021-09-02 16:41:49,886] INFO [TransactionCoordinator id=0] Startup complete. (kafka.coordinator.transaction.TransactionCoordinator)
[2021-09-02 16:41:49,935] INFO [ExpirationReaper-0-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)
[2021-09-02 16:41:49,967] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)
[2021-09-02 16:41:49,990] INFO [SocketServer listenerType=ZK_BROKER, nodeId=0] Starting socket server acceptors and processors (kafka.network.SocketServer)
[2021-09-02 16:41:50,001] INFO [SocketServer listenerType=ZK_BROKER, nodeId=0] Started data-plane acceptor and processor(s) for endpoint : ListenerName(PLAINTEXT) (kafka.network.SocketServer)
[2021-09-02 16:41:50,003] INFO [SocketServer listenerType=ZK_BROKER, nodeId=0] Started socket server acceptors and processors (kafka.network.SocketServer)
[2021-09-02 16:41:50,007] INFO Kafka version: 2.8.0 (org.apache.kafka.common.utils.AppInfoParser)
[2021-09-02 16:41:50,007] INFO Kafka commitId: ebb1d6e21cc92130 (org.apache.kafka.common.utils.AppInfoParser)
[2021-09-02 16:41:50,008] INFO Kafka startTimeMs: 1630572110003 (org.apache.kafka.common.utils.AppInfoParser)
[2021-09-02 16:41:50,011] INFO [KafkaServer id=0] started (kafka.server.KafkaServer)

[root@HIGDQEEMO63U9NR kafka]#
[root@HIGDQEEMO63U9NR kafka]#
```

```
[root@HIGDQEEMO63U9NR kafka]# ps aux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0   8892   180 ?        Ssl  11:36   0:00 /init
root         6  0.0  0.0   8896   128 tty1     Ss   11:36   0:00 /init
root         7  0.0  0.0 115792  1956 tty1     S    11:36   0:01 -bash
root      2312  0.2  1.0 5840936 88464 tty1    Sl   16:30   0:01 /usr/lib/jvm/java-1.8.0-openjdk-1.8
root      2355  0.8  4.4 6831508 367208 tty1   Tl   16:30   0:07 /usr/lib/jvm/java-1.8.0-openjdk-1.8
root      3176  3.5  4.4 6831508 368536 tty1   Sl   16:41   0:06 /usr/lib/jvm/java-1.8.0-openjdk-1.8
root      3603  0.0  0.0 119064  2080 tty1     R    16:44   0:00 ps aux
[root@HIGDQEEMO63U9NR kafka]#
```

##### 3、创建topic

使用kafka-topics.sh 创建单分区单副本的topic test：
```
bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test
```

查看topic：
```
bin/kafka-topics.sh --list --zookeeper localhost:2181
```

```
[root@HIGDQEEMO63U9NR kafka]# bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test
Created topic test.
[root@HIGDQEEMO63U9NR kafka]#
[root@HIGDQEEMO63U9NR kafka]# bin/kafka-topics.sh --list --zookeeper localhost:2181
test
[root@HIGDQEEMO63U9NR kafka]#
```

##### 4、产生消息

使用kafka-console-producer.sh 发送消息：
```
bin/kafka-console-producer.sh --bootstrap-server localhost:9092 --topic test
```


##### 5、消费消息

##### 其他

看一下配置文件内容：
> cat config/server.properties

```
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# see kafka.server.KafkaConfig for additional details and defaults

############################# Server Basics #############################

# The id of the broker. This must be set to a unique integer for each broker.
broker.id=0

############################# Socket Server Settings #############################

# The address the socket server listens on. It will get the value returned from
# java.net.InetAddress.getCanonicalHostName() if not configured.
#   FORMAT:
#     listeners = listener_name://host_name:port
#   EXAMPLE:
#     listeners = PLAINTEXT://your.host.name:9092
#listeners=PLAINTEXT://:9092

# Hostname and port the broker will advertise to producers and consumers. If not set,
# it uses the value for "listeners" if configured.  Otherwise, it will use the value
# returned from java.net.InetAddress.getCanonicalHostName().
#advertised.listeners=PLAINTEXT://your.host.name:9092

# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details
#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL

# The number of threads that the server uses for receiving requests from the network and sending responses to the network
num.network.threads=3

# The number of threads that the server uses for processing requests, which may include disk I/O
num.io.threads=8

# The send buffer (SO_SNDBUF) used by the socket server
socket.send.buffer.bytes=102400

# The receive buffer (SO_RCVBUF) used by the socket server
socket.receive.buffer.bytes=102400

# The maximum size of a request that the socket server will accept (protection against OOM)
socket.request.max.bytes=104857600


############################# Log Basics #############################

# A comma separated list of directories under which to store log files
log.dirs=/tmp/kafka-logs

# The default number of log partitions per topic. More partitions allow greater
# parallelism for consumption, but this will also result in more files across
# the brokers.
num.partitions=1

# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.
# This value is recommended to be increased for installations with data dirs located in RAID array.
num.recovery.threads.per.data.dir=1

############################# Internal Topic Settings  #############################
# The replication factor for the group metadata internal topics "__consumer_offsets" and "__transaction_state"
# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.
offsets.topic.replication.factor=1
transaction.state.log.replication.factor=1
transaction.state.log.min.isr=1

############################# Log Flush Policy #############################

# Messages are immediately written to the filesystem but by default we only fsync() to sync
# the OS cache lazily. The following configurations control the flush of data to disk.
# There are a few important trade-offs here:
#    1. Durability: Unflushed data may be lost if you are not using replication.
#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.
#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.
# The settings below allow one to configure the flush policy to flush data after a period of time or
# every N messages (or both). This can be done globally and overridden on a per-topic basis.

# The number of messages to accept before forcing a flush of data to disk
#log.flush.interval.messages=10000

# The maximum amount of time a message can sit in a log before we force a flush
#log.flush.interval.ms=1000

############################# Log Retention Policy #############################

# The following configurations control the disposal of log segments. The policy can
# be set to delete segments after a period of time, or after a given size has accumulated.
# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens
# from the end of the log.

# The minimum age of a log file to be eligible for deletion due to age
log.retention.hours=168

# A size-based retention policy for logs. Segments are pruned from the log unless the remaining
# segments drop below log.retention.bytes. Functions independently of log.retention.hours.
#log.retention.bytes=1073741824

# The maximum size of a log segment file. When this size is reached a new log segment will be created.
log.segment.bytes=1073741824

# The interval at which log segments are checked to see if they can be deleted according
# to the retention policies
log.retention.check.interval.ms=300000

############################# Zookeeper #############################

# Zookeeper connection string (see zookeeper docs for details).
# This is a comma separated host:port pairs, each corresponding to a zk
# server. e.g. "127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002".
# You can also append an optional chroot string to the urls to specify the
# root directory for all kafka znodes.
zookeeper.connect=localhost:2181

# Timeout in ms for connecting to zookeeper
zookeeper.connection.timeout.ms=18000


############################# Group Coordinator Settings #############################

# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.
# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.
# The default value for this is 3 seconds.
# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.
# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startu
p.
group.initial.rebalance.delay.ms=0
```


#### 停止服务

停止Kafka服务：
> bin/kafka-server-stop.sh

停止ZooKeeper服务：
> bin/zookeeper-server-stop.sh

<br/><br/><br/><br/><br/>
## 参考资料

Win+Linux单系统解决方案——WSL（入门篇） <https://www.jianshu.com/p/6b02948b3d37>

适用于 Linux 的 Windows 子系统安装指南 (Windows 10) <https://docs.microsoft.com/zh-cn/windows/wsl/install-win10>

Windows Subsystem for Linux Installation Guide for Windows 10 <https://docs.microsoft.com/en-us/windows/wsl/install-win10>

Win10 升级使用 WSL2 <https://zhuanlan.zhihu.com/p/202954384>

在Windows 10上使用WSL安装Centos <https://zhuanlan.zhihu.com/p/272735470>

漫谈在Windows Server 2019中安装使用WSL <https://zhuanlan.zhihu.com/p/271927065>

适用于 Linux 的 Windows 子系统安装指南 (Windows 10) <https://docs.microsoft.com/zh-cn/windows/wsl/install-win10>

CentWSL Tags包 <https://github.com/wsldl-pg/CentWSL/tags>

Win10 WSL安装Centos7 Nginx+PHP+MySQL <https://blog.csdn.net/hudeyong926/article/details/101030622>

nginx: Linux packages <http://nginx.org/en/linux_packages.html>

centos yum-utils包详解 <https://blog.csdn.net/xixihahalelehehe/article/details/105625710>

如何安装和使用'yum-utils'来维护Yum并提高其性能 <https://www.howtoing.com/linux-yum-package-management-with-yum-utils/>

Yum-utils  剖析 <https://blog.csdn.net/xiaoxiao_22/article/details/7044583>

WSL2子系统安装CentOS8及源码编译安装Nginx1.18+PHP7.4+MySql8.0开发 <https://blog.51cto.com/u_15057852/2567230>

阿里云源 <https://developer.aliyun.com/mirror/>

centos7 php remi,Centos7 安装 PHP7.3 <https://blog.csdn.net/weixin_33223705/article/details/116263735?utm_term=centos7%E5%AE%89%E8%A3%85remi>

Centos7（Liunx）安装PHP7.4版本 <https://www.cnblogs.com/mefj/p/14089314.html>

WSL2子系统安装CentOS8及源码编译安装Nginx1.18+PHP7.4+MySql8.0 <https://weibo.com/ttarticle/p/show?id=2309404538633183952933>

CentOS7 yum安装php7.3 7.4 <https://zerlong.com/880.html>

在CentOS 7上安装Kafka <https://blog.csdn.net/wisgood/article/details/51497329>

linux安装java步骤 <https://www.cnblogs.com/wjup/p/11041274.html>

Kafka消息中间件介绍与安装 <https://blog.csdn.net/qq_31279701/article/details/112692707>

kafka 相关的命令操作 以及配置server.properties <https://blog.csdn.net/weixin_42047790/article/details/106048665>





