---
layout: post
categories: Linux
title: WSL CentOS7.6搭建使用
meta: WSL CentOS7.6搭建使用
---
* content
{:toc}

## 正文

### 启用WSL

**方式1**

在 控制面板\所有控制面板项\程序和功能 中选择 启用或者关闭Windows功能

找到 适用于Linux的Windows子系统 并勾选,然后 确定 选择 立即重新启动

**方式2**

在开始菜单中点击Windows Powershell进入，或者在开始菜单中磁性贴中点击Windows Powershell进入。

输入Powershell命令，查看确认版本，是否满足WSL安装要求：
```
Get-ComputerInfo | Select WindowsProductName, WindowsVersion, WindowsInstallationType, OsServerLevel, OsVersion, OsHardwareAbstractionLayer
```

启用WSL：
```
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
```

输入y或直接回车，电脑立即重启。重启后即成功启用了WSL。

```
Windows PowerShell
版权所有 (C) Microsoft Corporation。保留所有权利。
尝试新的跨平台 PowerShell https://aka.ms/pscore6 

PS C:\Users\bai> Get-ComputerInfo | Select WindowsProductName, WindowsVersion, WindowsInstallationType, OsServerLevel, OsVersion, OsHardwareAbstractionLayer

WindowsProductName         : Windows 10 Pro
WindowsVersion             : 1903
WindowsInstallationType    : Client
OsServerLevel              :
OsVersion                  : 10.0.18362
OsHardwareAbstractionLayer : 10.0.18362.1

PS C:\Users\bai> Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux            
是否立即重启计算机以完成此操作?
[Y] Yes  [N] No  [?] 帮助 (默认值为“Y”):
```

### 安装CentOS

在 [https://github.com/wsldl-pg/CentWSL/tags](https://github.com/wsldl-pg/CentWSL/tags) 下载 Centos包。

解压后放到指定目录下。

在目标目录中看到2个文件：rootfs.tar.gz 和 CentOS.exe。我们需要运行CentOS.exe，以便解压其中的文件并注册到WSL。
右键点击CentOS.exe并以管理员身份运行。

等一段时间，系统将自动进行初始化，完成后会有提示成功的消息，此时可按任意键退出安装。
如果时间过长，可以点击回车试试。

返回目录，看到多出了2个目录。

再次右击并以管理员身份运行CentOS.exe，即成功登录系统了。


### 卸载

不想用了，在WSL上卸载CentOS，用 Windows Powershell 切换到安装目录，执行：
> ./CentOS.exe clean


<br/><br/><br/><br/><br/>
## 参考资料

Win+Linux单系统解决方案——WSL（入门篇） <https://www.jianshu.com/p/6b02948b3d37>

在Windows 10上使用WSL安装Centos <https://zhuanlan.zhihu.com/p/272735470>

漫谈在Windows Server 2019中安装使用WSL <https://zhuanlan.zhihu.com/p/271927065>

适用于 Linux 的 Windows 子系统安装指南 (Windows 10) <https://docs.microsoft.com/zh-cn/windows/wsl/install-win10>

CentWSL Tags包 <https://github.com/wsldl-pg/CentWSL/tags>
