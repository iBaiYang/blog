---
layout: post
categories: Linux
title: 兄弟连Linux教程(李明,沈超) 第13章 Linux系统管理
meta: 兄弟连Linux教程(李明,沈超) 第13章 Linux系统管理
---
* content
{:toc}

## 正文

### 13.1 进程管理

#### 13.1.1  进程查看

1、进程简介

进程是正在执行的一个程序或命令，每一个进程都是一个运行的实体，都有自己的地址空间，并占用一定的系统资源。

2、进程管理的作用

* 判断服务器健康状态
* 查看系统中所有进程
* 杀死进程

3、查看系统中所有进程

```
[root@localhost ~]# ps aux
#查看系统中所有进程，使用BSD操作系统格式
[root@localhost ~]# ps -le
#查看系统中所有进程，使用Linux标准命令格式。
```

```
USER：该进程是由哪个用户产生的；
PID：进程的ID号；
%CPU：该进程占用CPU资源的百分比，占用越高，进程越耗费资源；
%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源；
VSZ：该进程占用虚拟内存的大小，单位KB；
RSS：该进程占用实际物理内存的大小，单位KB；
TTY：该进程是在哪个终端中运行的。其中tty1-tty7代表本地控制台终端，tty1-tty6是本地的字符界面终端，tty7是图形终端。pts/0-255代表虚拟终端。
STAT：进程状态。常见的状态有：R：运行、S：睡眠、T：停止状态、s：包含子进程、+：位于后台
START：该进程的启动时间
TIME：该进程占用CPU的运算时间，注意不是系统时间
COMMAND：产生此进程的命令名
```

```
[root@localhost vagrant]# ps aux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.1  0.0  19232  1488 ?        Ss   07:44   0:00 /sbin/init
root         2  0.0  0.0      0     0 ?        S    07:44   0:00 [kthreadd]
root         3  0.1  0.0      0     0 ?        S    07:44   0:00 [migration/0]
root         4  0.0  0.0      0     0 ?        S    07:44   0:00 [ksoftirqd/0]
root         5  0.0  0.0      0     0 ?        S    07:44   0:00 [stopper/0]
root         6  0.0  0.0      0     0 ?        S    07:44   0:00 [watchdog/0]
root         7  0.0  0.0      0     0 ?        S    07:44   0:00 [migration/1]
root         8  0.0  0.0      0     0 ?        S    07:44   0:00 [stopper/1]
root         9  0.0  0.0      0     0 ?        S    07:44   0:00 [ksoftirqd/1]
root        10  0.0  0.0      0     0 ?        S    07:44   0:00 [watchdog/1]
root        11  0.0  0.0      0     0 ?        S    07:44   0:00 [events/0]
root        12  0.0  0.0      0     0 ?        S    07:44   0:00 [events/1]
root        13  0.0  0.0      0     0 ?        S    07:44   0:00 [events/0]
root        14  0.0  0.0      0     0 ?        S    07:44   0:00 [events/1]
root        15  0.0  0.0      0     0 ?        S    07:44   0:00 [events_long/0]
root        16  0.0  0.0      0     0 ?        S    07:44   0:00 [events_long/1]
root        17  0.0  0.0      0     0 ?        S    07:44   0:00 [events_power_ef]
root        18  0.0  0.0      0     0 ?        S    07:44   0:00 [events_power_ef]
root        19  0.0  0.0      0     0 ?        S    07:44   0:00 [cgroup]
root        20  0.0  0.0      0     0 ?        S    07:44   0:00 [khelper]
root        21  0.0  0.0      0     0 ?        S    07:44   0:00 [netns]
root        22  0.0  0.0      0     0 ?        S    07:44   0:00 [async/mgr]
root        23  0.0  0.0      0     0 ?        S    07:44   0:00 [pm]
root        24  0.0  0.0      0     0 ?        S    07:44   0:00 [sync_supers]
root        25  0.0  0.0      0     0 ?        S    07:44   0:00 [bdi-default]
root        26  0.0  0.0      0     0 ?        S    07:44   0:00 [kintegrityd/0]
root        27  0.0  0.0      0     0 ?        S    07:44   0:00 [kintegrityd/1]
root        28  0.0  0.0      0     0 ?        S    07:44   0:00 [kblockd/0]
root        29  0.0  0.0      0     0 ?        S    07:44   0:00 [kblockd/1]
root        30  0.0  0.0      0     0 ?        S    07:44   0:00 [kacpid]
root        31  0.0  0.0      0     0 ?        S    07:44   0:00 [kacpi_notify]
root        32  0.0  0.0      0     0 ?        S    07:44   0:00 [kacpi_hotplug]
root        33  0.0  0.0      0     0 ?        S    07:44   0:00 [ata_aux]
root        34  0.0  0.0      0     0 ?        S    07:44   0:00 [ata_sff/0]
root        35  0.0  0.0      0     0 ?        S    07:44   0:00 [ata_sff/1]
root        36  0.0  0.0      0     0 ?        S    07:44   0:00 [ksuspend_usbd]
root        37  0.0  0.0      0     0 ?        S    07:44   0:00 [khubd]
root        38  0.0  0.0      0     0 ?        S    07:44   0:00 [kseriod]
root        39  0.0  0.0      0     0 ?        S    07:44   0:00 [md/0]
root        40  0.0  0.0      0     0 ?        S    07:44   0:00 [md/1]
root        41  0.0  0.0      0     0 ?        S    07:44   0:00 [md_misc/0]
root        42  0.0  0.0      0     0 ?        S    07:44   0:00 [md_misc/1]
root        43  0.0  0.0      0     0 ?        S    07:44   0:00 [linkwatch]
root        44  0.0  0.0      0     0 ?        S    07:44   0:00 [khungtaskd]
root        45  0.0  0.0      0     0 ?        S    07:44   0:00 [kswapd0]
root        46  0.0  0.0      0     0 ?        SN   07:44   0:00 [ksmd]
root        47  0.0  0.0      0     0 ?        SN   07:44   0:00 [khugepaged]
root        48  0.0  0.0      0     0 ?        S    07:44   0:00 [aio/0]
root        49  0.0  0.0      0     0 ?        S    07:44   0:00 [aio/1]
root        50  0.0  0.0      0     0 ?        S    07:44   0:00 [crypto/0]
root        51  0.0  0.0      0     0 ?        S    07:44   0:00 [crypto/1]
root        58  0.0  0.0      0     0 ?        S    07:44   0:00 [kthrotld/0]
root        59  0.0  0.0      0     0 ?        S    07:44   0:00 [kthrotld/1]
root        61  0.0  0.0      0     0 ?        S    07:44   0:00 [kpsmoused]
root        62  0.0  0.0      0     0 ?        S    07:44   0:00 [usbhid_resumer]
root        63  0.0  0.0      0     0 ?        S    07:44   0:00 [deferwq]
root        96  0.0  0.0      0     0 ?        S    07:44   0:00 [kdmremove]
root        97  0.0  0.0      0     0 ?        S    07:44   0:00 [kstriped]
root       206  0.0  0.0      0     0 ?        S    07:44   0:00 [scsi_eh_0]
root       225  0.0  0.0      0     0 ?        S    07:44   0:00 [scsi_eh_1]
root       226  0.0  0.0      0     0 ?        S    07:44   0:00 [scsi_eh_2]
root       289  0.0  0.0      0     0 ?        S    07:44   0:00 [kdmflush]
root       291  0.0  0.0      0     0 ?        S    07:44   0:00 [kdmflush]
root       309  0.0  0.0      0     0 ?        S    07:44   0:00 [jbd2/dm-0-8]
root       310  0.0  0.0      0     0 ?        S    07:44   0:00 [ext4-dio-unwrit]
root       391  0.0  0.0  10796   904 ?        S<s  07:44   0:00 /sbin/udevd -d
root       452  0.0  0.0      0     0 ?        S    07:44   0:00 [iprt/0]
root       453  0.0  0.0      0     0 ?        S    07:44   0:00 [iprt/1]
root       700  0.0  0.0      0     0 ?        S    07:44   0:00 [jbd2/sda1-8]
root       701  0.0  0.0      0     0 ?        S    07:44   0:00 [ext4-dio-unwrit]
root       733  0.0  0.0      0     0 ?        S    07:44   0:00 [kauditd]
root       809  0.0  0.0      0     0 ?        S    07:44   0:00 [flush-253:0]
root       966  0.0  0.0   9120   688 ?        Ss   07:45   0:00 /sbin/dhclient -1 -q -cf /etc/dhcp/dhclient-eth0.conf -lf /var/lib/dhclient/dhclient-eth0.leases -pf /var/run/dhclient-eth0.
root      1026  0.0  0.0  27596   796 ?        S<sl 07:45   0:00 auditd
root      1048  0.0  0.0 249088  1584 ?        Sl   07:45   0:00 /sbin/rsyslogd -i /var/run/syslogd.pid -c 5
root      1160  0.0  0.0 335484  1272 ?        Sl   07:45   0:00 /usr/sbin/VBoxService
root      1184  0.0  0.0  66232  1232 ?        Ss   07:45   0:00 /usr/sbin/sshd
root      1217  0.0  0.0 108300  1616 ?        S    07:45   0:00 /bin/sh /usr/bin/mysqld_safe --datadir=/var/lib/mysql --socket=/var/lib/mysql/mysql.sock --pid-file=/var/run/mysqld/mysqld.p
mysql     1421  0.5 24.0 1408836 462640 ?      Sl   07:45   0:02 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib64/mysql/plugin --user=mysql --log-error=/var/
root      1559  0.0  0.1  80876  3420 ?        Ss   07:45   0:00 /usr/libexec/postfix/master
postfix   1574  0.0  0.1  80956  3384 ?        S    07:45   0:00 pickup -l -t fifo -u
postfix   1575  0.0  0.1  81024  3420 ?        S    07:45   0:00 qmgr -l -t fifo -u
root      1595  0.0  0.0  47360  1080 ?        Ss   07:45   0:00 nginx: master process /usr/sbin/nginx -c /etc/nginx/nginx.conf
nginx     1596  0.0  0.0  47752  1804 ?        S    07:45   0:00 nginx: worker process
root      1608  0.0  0.0 116860  1200 ?        Ss   07:45   0:00 crond
root      1621  0.0  0.0   4064   592 tty1     Ss+  07:45   0:00 /sbin/mingetty /dev/tty1
root      1623  0.0  0.0   4064   592 tty2     Ss+  07:45   0:00 /sbin/mingetty /dev/tty2
root      1625  0.0  0.0   4064   588 tty3     Ss+  07:45   0:00 /sbin/mingetty /dev/tty3
root      1627  0.0  0.0   4064   592 tty4     Ss+  07:45   0:00 /sbin/mingetty /dev/tty4
root      1629  0.0  0.0   4064   592 tty5     Ss+  07:45   0:00 /sbin/mingetty /dev/tty5
root      1631  0.0  0.0   4064   588 tty6     Ss+  07:45   0:00 /sbin/mingetty /dev/tty6
root      2451  0.0  0.2 102656  4804 ?        Ss   07:45   0:00 sshd: vagrant [priv]
vagrant   2453  0.0  0.1 102656  1928 ?        S    07:45   0:00 sshd: vagrant@pts/0
vagrant   2454  0.0  0.0 108304  1908 pts/0    Ss   07:45   0:00 -bash
root      2474  0.0  0.1 175108  2656 pts/0    S    07:47   0:00 sudo su
root      2475  0.0  0.0 145000  1556 pts/0    S    07:47   0:00 su
root      2476  0.0  0.0 108304  1916 pts/0    S    07:47   0:00 bash
root      2494  0.0  0.0   4932   524 ?        Ss   07:47   0:00 iscsid 0:off 1:off 2:off 3:on 4:on 5:on 6:off
root      2495  0.0  0.1   5436  3384 ?        S<Ls 07:47   0:00 iscsid 0:off 1:off 2:off 3:on 4:on 5:on 6:off
root      2502  0.0  0.0      0     0 ?        S    07:47   0:00 [iscsi_eh]
root      2504  0.0  0.0  10792   832 ?        S<   07:47   0:00 /sbin/udevd -d
root      2505  0.0  0.0  10792   832 ?        S<   07:47   0:00 /sbin/udevd -d
root      2531  0.0  0.0 110232  1164 pts/0    R+   07:51   0:00 ps aux
[root@localhost vagrant]#
[root@localhost vagrant]# 
[root@localhost vagrant]#
[root@localhost vagrant]# ps -le
F S   UID   PID  PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
4 S     0     1     0  0  80   0 -  4808 poll_s ?        00:00:00 init
1 S     0     2     0  0  80   0 -     0 kthrea ?        00:00:00 kthreadd
1 S     0     3     2  0 -40   - -     0 migrat ?        00:00:00 migration/0
1 S     0     4     2  0  80   0 -     0 ksofti ?        00:00:00 ksoftirqd/0
1 S     0     5     2  0 -40   - -     0 cpu_st ?        00:00:00 stopper/0
5 S     0     6     2  0 -40   - -     0 watchd ?        00:00:00 watchdog/0
1 S     0     7     2  0 -40   - -     0 migrat ?        00:00:00 migration/1
1 S     0     8     2  0 -40   - -     0 cpu_st ?        00:00:00 stopper/1
1 S     0     9     2  0  80   0 -     0 ksofti ?        00:00:00 ksoftirqd/1
5 S     0    10     2  0 -40   - -     0 watchd ?        00:00:00 watchdog/1
1 S     0    11     2  0  80   0 -     0 worker ?        00:00:00 events/0
1 R     0    12     2  0  80   0 -     0 -      ?        00:00:02 events/1
1 S     0    13     2  0  80   0 -     0 worker ?        00:00:00 events/0
1 S     0    14     2  0  80   0 -     0 worker ?        00:00:00 events/1
1 S     0    15     2  0  80   0 -     0 worker ?        00:00:00 events_long/0
1 S     0    16     2  0  80   0 -     0 worker ?        00:00:00 events_long/1
1 S     0    17     2  0  80   0 -     0 worker ?        00:00:00 events_power_e
1 S     0    18     2  0  80   0 -     0 worker ?        00:00:00 events_power_e
1 S     0    19     2  0  80   0 -     0 worker ?        00:00:00 cgroup
1 S     0    20     2  0  80   0 -     0 worker ?        00:00:00 khelper
1 S     0    21     2  0  80   0 -     0 worker ?        00:00:00 netns
1 S     0    22     2  0  80   0 -     0 async_ ?        00:00:00 async/mgr
1 S     0    23     2  0  80   0 -     0 worker ?        00:00:00 pm
1 S     0    24     2  0  80   0 -     0 bdi_sy ?        00:00:00 sync_supers
1 S     0    25     2  0  80   0 -     0 bdi_fo ?        00:00:00 bdi-default
1 S     0    26     2  0  80   0 -     0 worker ?        00:00:00 kintegrityd/0
1 S     0    27     2  0  80   0 -     0 worker ?        00:00:00 kintegrityd/1
1 S     0    28     2  0  80   0 -     0 worker ?        00:00:00 kblockd/0
1 S     0    29     2  0  80   0 -     0 worker ?        00:00:00 kblockd/1
1 S     0    30     2  0  80   0 -     0 worker ?        00:00:00 kacpid
1 S     0    31     2  0  80   0 -     0 worker ?        00:00:00 kacpi_notify
1 S     0    32     2  0  80   0 -     0 worker ?        00:00:00 kacpi_hotplug
1 S     0    33     2  0  80   0 -     0 worker ?        00:00:00 ata_aux
1 S     0    34     2  0  80   0 -     0 worker ?        00:00:00 ata_sff/0
1 S     0    35     2  0  80   0 -     0 worker ?        00:00:00 ata_sff/1
1 S     0    36     2  0  80   0 -     0 worker ?        00:00:00 ksuspend_usbd
1 S     0    37     2  0  80   0 -     0 hub_th ?        00:00:00 khubd
5 S     0    38     2  0  80   0 -     0 serio_ ?        00:00:00 kseriod
1 S     0    39     2  0  80   0 -     0 worker ?        00:00:00 md/0
1 S     0    40     2  0  80   0 -     0 worker ?        00:00:00 md/1
1 S     0    41     2  0  80   0 -     0 worker ?        00:00:00 md_misc/0
1 S     0    42     2  0  80   0 -     0 worker ?        00:00:00 md_misc/1
1 S     0    43     2  0  80   0 -     0 worker ?        00:00:00 linkwatch
1 S     0    44     2  0  80   0 -     0 watchd ?        00:00:00 khungtaskd
1 S     0    45     2  0  80   0 -     0 kswapd ?        00:00:00 kswapd0
1 S     0    46     2  0  85   5 -     0 ksm_sc ?        00:00:00 ksmd
1 S     0    47     2  0  99  19 -     0 khugep ?        00:00:00 khugepaged
1 S     0    48     2  0  80   0 -     0 worker ?        00:00:00 aio/0
1 S     0    49     2  0  80   0 -     0 worker ?        00:00:00 aio/1
1 S     0    50     2  0  80   0 -     0 worker ?        00:00:00 crypto/0
1 S     0    51     2  0  80   0 -     0 worker ?        00:00:00 crypto/1
1 S     0    58     2  0  80   0 -     0 worker ?        00:00:00 kthrotld/0
1 S     0    59     2  0  80   0 -     0 worker ?        00:00:00 kthrotld/1
1 S     0    61     2  0  80   0 -     0 worker ?        00:00:00 kpsmoused
1 S     0    62     2  0  80   0 -     0 worker ?        00:00:00 usbhid_resumer
1 S     0    63     2  0  80   0 -     0 worker ?        00:00:00 deferwq
1 S     0    96     2  0  80   0 -     0 worker ?        00:00:00 kdmremove
1 S     0    97     2  0  80   0 -     0 worker ?        00:00:00 kstriped
1 S     0   206     2  0  80   0 -     0 scsi_e ?        00:00:00 scsi_eh_0
1 S     0   225     2  0  80   0 -     0 scsi_e ?        00:00:00 scsi_eh_1
1 S     0   226     2  0  80   0 -     0 scsi_e ?        00:00:00 scsi_eh_2
1 S     0   289     2  0  80   0 -     0 worker ?        00:00:00 kdmflush
1 S     0   291     2  0  80   0 -     0 worker ?        00:00:00 kdmflush
1 S     0   309     2  0  80   0 -     0 kjourn ?        00:00:00 jbd2/dm-0-8
1 S     0   310     2  0  80   0 -     0 worker ?        00:00:00 ext4-dio-unwri
5 S     0   391     1  0  76  -4 -  2699 poll_s ?        00:00:00 udevd
1 S     0   452     2  0  80   0 -     0 worker ?        00:00:00 iprt/0
1 S     0   453     2  0  80   0 -     0 worker ?        00:00:00 iprt/1
1 S     0   700     2  0  80   0 -     0 kjourn ?        00:00:00 jbd2/sda1-8
1 S     0   701     2  0  80   0 -     0 worker ?        00:00:00 ext4-dio-unwri
1 S     0   733     2  0  80   0 -     0 kaudit ?        00:00:00 kauditd
1 S     0   809     2  0  80   0 -     0 bdi_wr ?        00:00:00 flush-253:0
1 S     0   966     1  0  80   0 -  2280 poll_s ?        00:00:00 dhclient
5 S     0  1026     1  0  76  -4 -  6899 ep_pol ?        00:00:00 auditd
5 S     0  1048     1  0  80   0 - 62272 poll_s ?        00:00:00 rsyslogd
1 S     0  1160     1  0  80   0 - 83871 rt_sig ?        00:00:02 VBoxService
5 S     0  1184     1  0  80   0 - 16558 poll_s ?        00:00:00 sshd
4 S     0  1217     1  0  80   0 - 27075 wait   ?        00:00:00 mysqld_safe
4 S    27  1421  1217  0  80   0 - 352209 poll_s ?       00:00:09 mysqld
4 S     0  1559     1  0  80   0 - 20219 ep_pol ?        00:00:00 master
4 S    89  1575  1559  0  80   0 - 20282 ep_pol ?        00:00:00 qmgr
1 S     0  1608     1  0  80   0 - 29215 hrtime ?        00:00:00 crond
4 S     0  1621     1  0  80   0 -  1016 n_tty_ tty1     00:00:00 mingetty
4 S     0  1623     1  0  80   0 -  1016 n_tty_ tty2     00:00:00 mingetty
4 S     0  1625     1  0  80   0 -  1016 n_tty_ tty3     00:00:00 mingetty
4 S     0  1627     1  0  80   0 -  1016 n_tty_ tty4     00:00:00 mingetty
4 S     0  1629     1  0  80   0 -  1016 n_tty_ tty5     00:00:00 mingetty
4 S     0  1631     1  0  80   0 -  1016 n_tty_ tty6     00:00:00 mingetty
4 S     0  2451  1184  0  80   0 - 25664 unix_s ?        00:00:00 sshd
5 R   500  2453  2451  0  80   0 - 25664 -      ?        00:00:00 sshd
0 S   500  2454  2453  0  80   0 - 27076 wait   pts/0    00:00:00 bash
4 S     0  2474  2454  0  80   0 - 43777 poll_s pts/0    00:00:00 sudo
4 S     0  2475  2474  0  80   0 - 36250 wait   pts/0    00:00:00 su
4 S     0  2476  2475  0  80   0 - 27076 wait   pts/0    00:00:00 bash
1 S     0  2494     1  0  80   0 -  1233 hrtime ?        00:00:00 iscsid
5 S     0  2495     1  0  70 -10 -  1359 poll_s ?        00:00:02 iscsid
1 S     0  2502     2  0  80   0 -     0 worker ?        00:00:00 iscsi_eh
5 S     0  2504   391  0  78  -2 -  2698 poll_s ?        00:00:00 udevd
5 S     0  2505   391  0  78  -2 -  2698 poll_s ?        00:00:00 udevd
1 S     0  2559     1  0  80   0 - 12017 rt_sig ?        00:00:00 nginx
5 S   497  2560  2559  0  80   0 - 12134 ep_pol ?        00:00:00 nginx
1 S     0  2573     1  0  80   0 -  4763 rt_sig ?        00:00:00 anacron
4 S    89  2900  1559  0  80   0 - 20239 ep_pol ?        00:00:00 pickup
4 R     0  2912  2476  0  80   0 - 27033 -      pts/0    00:00:00 ps
[root@localhost vagrant]#
```

4、查看系统健康状态

```
[root@localhost ~]# top [选项]
选项：
    -d 秒数：    指定top命令每隔几秒更新。默认是3秒
    
在top命令的交互模式当中可以执行的命令：
    ？或h：        显示交互模式的帮助
    P：            以CPU使用率排序，默认就是此项
    M：            以内存的使用率排序
    N：            以PID排序
    q：            退出top
```

第一行信息为任务队列信息

```
内容    说明
12:26:46    系统当前时间
up 1 day, 13:32    系统的运行时间，本机已经运行1天13小时32分钟
2 users    当前登录了两个用户
load average: 0.00, 0.00, 0.00    系统在之前1分钟，5分钟，15分钟的平均负载。一般认为小于1时，负载较小。如果大于1，系统已经超出负荷。
```

第二行为进程信息

```
内容    说明
Tasks:  95 total    系统中的进程总数
1 running    正在运行的进程数
94 sleeping    睡眠的进程
0 stopped    正在停止的进程
0 zombie    僵尸进程。如果不是0，需要手工检查僵尸进程
```

第三行为CPU信息

```
内容    说明
Cpu(s):  0.1%us    用户模式占用的CPU百分比
0.1%sy    系统模式占用的CPU百分比
0.0%ni    改变过优先级的用户进程占用的CPU百分比
99.7%id    空闲CPU的CPU百分比
0.1%wa    等待输入/输出的进程的占用CPU百分比
0.0%hi    硬中断请求服务占用的CPU百分比
0.1%si    软中断请求服务占用的CPU百分比
0.0%st    st（Steal time）虚拟时间百分比。就是当有虚拟机时，虚拟CPU等待实际CPU的时间百分比。
```

第四行为物理内存信息

```
内容    说明
Mem:    625344k total    物理内存的总量，单位KB
571504k used    已经使用的物理内存数量
53840k free    空闲的物理内存数量，我们使用的是虚拟机，总共只分配了628MB内存，所以只有53MB的空闲内存了
65800k buffers    作为缓冲的内存数量
```

第五行为交换分区（swap）信息

```
内容    说明
Swap:   524280k total    交换分区（虚拟内存）的总大小
0k used    已经使用的交互分区的大小
524280k free    空闲交换分区的大小
409280k cached    作为缓存的交互分区的大小
```

```
top - 09:44:15 up  1:38,  1 user,  load average: 0.00, 0.00, 0.00
Tasks: 103 total,   1 running, 102 sleeping,   0 stopped,   0 zombie
Cpu(s):  0.0%us,  0.2%sy,  0.0%ni, 99.8%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:   1922148k total,   622284k used,  1299864k free,    10600k buffers
Swap:  1023996k total,        0k used,  1023996k free,    84288k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
 2495 root      10 -10  5436 3384 2220 S  0.3  0.2   0:03.83 iscsid
    1 root      20   0 19232 1488 1216 S  0.0  0.1   0:00.67 init
    2 root      20   0     0    0    0 S  0.0  0.0   0:00.01 kthreadd
    3 root      RT   0     0    0    0 S  0.0  0.0   0:00.54 migration/0
    4 root      20   0     0    0    0 S  0.0  0.0   0:00.21 ksoftirqd/0
    5 root      RT   0     0    0    0 S  0.0  0.0   0:00.00 stopper/0
    6 root      RT   0     0    0    0 S  0.0  0.0   0:00.07 watchdog/0
    7 root      RT   0     0    0    0 S  0.0  0.0   0:00.04 migration/1
    8 root      RT   0     0    0    0 S  0.0  0.0   0:00.00 stopper/1
    9 root      20   0     0    0    0 S  0.0  0.0   0:00.51 ksoftirqd/1
   10 root      RT   0     0    0    0 S  0.0  0.0   0:00.10 watchdog/1
   11 root      20   0     0    0    0 S  0.0  0.0   0:00.74 events/0
   12 root      20   0     0    0    0 S  0.0  0.0   0:03.05 events/1
   13 root      20   0     0    0    0 S  0.0  0.0   0:00.00 events/0
   14 root      20   0     0    0    0 S  0.0  0.0   0:00.00 events/1
   15 root      20   0     0    0    0 S  0.0  0.0   0:00.00 events_long/0
   16 root      20   0     0    0    0 S  0.0  0.0   0:00.00 events_long/1
   17 root      20   0     0    0    0 S  0.0  0.0   0:00.00 events_power_ef
   18 root      20   0     0    0    0 S  0.0  0.0   0:00.00 events_power_ef
   19 root      20   0     0    0    0 S  0.0  0.0   0:00.00 cgroup
   20 root      20   0     0    0    0 S  0.0  0.0   0:00.00 khelper
   21 root      20   0     0    0    0 S  0.0  0.0   0:00.00 netns
   22 root      20   0     0    0    0 S  0.0  0.0   0:00.00 async/mgr
   23 root      20   0     0    0    0 S  0.0  0.0   0:00.00 pm
   24 root      20   0     0    0    0 S  0.0  0.0   0:00.11 sync_supers
   25 root      20   0     0    0    0 S  0.0  0.0   0:00.11 bdi-default
   26 root      20   0     0    0    0 S  0.0  0.0   0:00.00 kintegrityd/0
   27 root      20   0     0    0    0 S  0.0  0.0   0:00.00 kintegrityd/1
   28 root      20   0     0    0    0 S  0.0  0.0   0:00.23 kblockd/0
   29 root      20   0     0    0    0 S  0.0  0.0   0:00.00 kblockd/1
   30 root      20   0     0    0    0 S  0.0  0.0   0:00.00 kacpid
   31 root      20   0     0    0    0 S  0.0  0.0   0:00.00 kacpi_notify
   32 root      20   0     0    0    0 S  0.0  0.0   0:00.00 kacpi_hotplug
   33 root      20   0     0    0    0 S  0.0  0.0   0:00.00 ata_aux
   34 root      20   0     0    0    0 S  0.0  0.0   0:00.00 ata_sff/0
   35 root      20   0     0    0    0 S  0.0  0.0   0:00.00 ata_sff/1
   36 root      20   0     0    0    0 S  0.0  0.0   0:00.00 ksuspend_usbd
   37 root      20   0     0    0    0 S  0.0  0.0   0:00.00 khubd
   38 root      20   0     0    0    0 S  0.0  0.0   0:00.00 kseriod
   39 root      20   0     0    0    0 S  0.0  0.0   0:00.00 md/0
   40 root      20   0     0    0    0 S  0.0  0.0   0:00.00 md/1
   41 root      20   0     0    0    0 S  0.0  0.0   0:00.00 md_misc/0
   42 root      20   0     0    0    0 S  0.0  0.0   0:00.00 md_misc/1
```

5、查看进程树

```
[root@localhost ~]# pstree [选项]
选项：
    -p：    显示进程的PID
    -u：    显示进程的所属用户
```

```
[root@localhost vagrant]# pstree
init─┬─VBoxService───7*[{VBoxService}]
     ├─auditd───{auditd}
     ├─crond
     ├─dhclient
     ├─2*[iscsid]
     ├─master─┬─pickup
     │        └─qmgr
     ├─6*[mingetty]
     ├─mysqld_safe───mysqld───21*[{mysqld}]
     ├─nginx───nginx
     ├─rsyslogd───3*[{rsyslogd}]
     ├─sshd───sshd───sshd───bash───sudo───su───bash───pstree
     └─udevd───2*[udevd]
[root@localhost vagrant]#
```

#### 13.1.2  进程管理

1、kill命令

```
[root@localhost ~]# kill –l
#查看可用的进程信号
```

```
信号代号    信号名称    说明
1    SIGHUP    该信号让进程立即关闭，然后重新读取配置文件之后重启。
2    SIGINT    程序终止信号，用于终止前台进程。相当于输出ctrl+c快捷键。
8    SIGFPE    在发生致命的算术运算错误时发出. 不仅包括浮点运算错误, 还包括溢出及除数为0等其它所有的算术的错误。
9    SIGKILL    用来立即结束程序的运行. 本信号不能被阻塞、处理和忽略。一般用于强制终止进程。
14    SIGALRM    时钟定时信号, 计算的是实际的时间或时钟时间. alarm函数使用该信号。
15    SIGTERM    正常结束进程的信号，kill命令的默认信号。有时如果进程已经发生问题，这个信号是无法正常终止进程的，我们才会尝试SIGKILL信号，也就是信号9。
18    SIGCONT    该信号可以让暂停的进程恢复执行，本信号不能被阻断。
19    SIGSTOP    该信号可以暂停前台进程，相当于输入ctrl+z快捷键。本信号不能被阻断。
```

```
[root@localhost ~]# kill -1 22354
#重启进程

[root@localhost ~]# kill -9 22368
#强制杀死进程
```

2、killall命令

```
[root@localhost ~]# killall [选项][信号] 进程名
#按照进程名杀死进程
选项：
    -i：    交互式，询问是否要杀死某个进程
    -I：    忽略进程名的大小写
```

3、pkill命令

```
[root@localhost ~]# pkill [选项] [信号] 进程名
#按照进程名终止进程
选项：
    -t 终端号：    按照终端号踢出用户
```

按照终端号踢出用户

```
[root@localhost ~]# w
#使用w命令查询本机已经登录的用户

[root@localhost ~]# pkill -t -9 pts/1
#强制杀死从pts/1虚拟终端登录的进程
```

### 13.2 工作管理

1、把进程放入后台

```
tar -zcf etc.tar.gz /etc &

[root@localhost ~]# top
#在top命令执行的过程中，按下ctrl+z快捷键
```

2、查看后台的工作

```
[root@localhost ~]# jobs [-l]
选项：
	-l：	显示工作的PID

注：“+”号代表最近一个放入后台的工作，也是工作恢复时，默认恢复的工作。“-”号代表倒数第二个放入后台的工作
```

3、将后台暂停的工作恢复到前台执行

```
[root@localhost ~]# fg %工作号
参数：
	%工作号：	%号可以省略，但是注意工作号			和PID的区别
```

4、把后台暂停的工作恢复到后台执行

```
[root@localhost ~]# bg %工作号

注：后台恢复执行的命令，是不能和前台有交互的，否则不能恢复到后台执行
```


### 13.3 系统资源查看


### 13.4 系统定时任务



<br/><br/><br/><br/><br/>
## 参考资料




