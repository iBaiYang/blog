---
layout: post
categories: Linux
title: Linux PHP7.4编译安装
meta: Linux PHP7.4编译安装
---
* content
{:toc}

### 正文

在项目中用composer安装一个vendor拓展包报错了，要求PHP必须大于7.1，然而我的是7.0，没办法,只能升级本地PHP了，直接升级成现在现在最新的7.4。

先去PHP官网下载安装包：

<https://www.php.net/downloads.php>

然后解压到指定目录：

```
tar xf php-7.4.0.tar.gz
```

![](https://raw.githubusercontent.com/iBaiYang/PictureWareroom/master/20191218/20191218153509.png)

到解压目录下:
```
cd php-7.4.0
```

以su管理员身份运行，configure配置：
```
./configure --prefix=/usr/local/php --with-curl --with-gettext --with-iconv-dir --with-kerberos --with-libdir=lib64 --with-mysqli --with-openssl --with-pdo-mysql --with-pdo-sqlite --with-pear --with-xmlrpc --with-xsl --with-zlib --with-bz2 --with-mhash --enable-fpm --enable-bcmath --enable-inline-optimization --enable-mbregex --enable-mbstring --enable-opcache --enable-pcntl --enable-shmop --enable-soap --enable-sockets --enable-sysvsem --enable-sysvshm --enable-xml
```

会报错，有包缺失，未生成makefile，make时报错：
```
make: *** 没有指明目标并且找不到 makefile。 停止。
```

看来只能只能配置最核心的几个包了：
```
./configure --prefix=/usr/local/php --with-mysqli --with-pdo-mysql --with-pdo-sqlite --enable-fpm 
```

完成结果：

![](https://raw.githubusercontent.com/iBaiYang/PictureWareroom/master/20191218/20191218155938.png)

然后make编译：
```
make
```

可以看到编译成功，提示make test：

![](https://raw.githubusercontent.com/iBaiYang/PictureWareroom/master/20191218/20191218155212.png)

完成后，提示有一个错误:

![](https://raw.githubusercontent.com/iBaiYang/PictureWareroom/master/20191218/20191218160259.png)

可以不管，我们直接安装：
```
make install
```

![](https://raw.githubusercontent.com/iBaiYang/PictureWareroom/master/20191218/20191218160614.png)



<br/><br/><br/><br/><br/>
### 参考资料

PHP安装包下载 <https://www.php.net/downloads.php>



