---
layout: post
categories: PHP
title: PHP 读取csv文件数据
meta: PHP 读取csv文件数据
---
* content
{:toc}

### 正文

有时候会碰到用户上传csv文件，php读取文件内容的需求，php也有相应的处理函数。

fgetcsv — 从文件指针中读入一行并解析 CSV 字段

```
 fgetcsv ( resource $handle [, int $length = 0 [, string $delimiter = ',' [, string $enclosure = '"' [, string $escape = '\\' ]]]] ) : array
```

看一个示例：
```
$filename = '/tmp/178776443';
$lists = [];

$handle = fopen($filename, 'r');
while (($data = fgetcsv($handle, 0, ",")) !== FALSE) 
{
    foreach ($data as $k => & $v) 
    {
        $v = mb_convert_encoding($v, 'UTF-8', 'GBK');
    }
    $lists = $data;
}
fclose($handle);
```


<br/><br/><br/><br/><br/>
### 参考资料

PHP 手册 函数参考 文件系统相关扩展 文件系统 文件系统函数 fgetcsv <https://www.php.net/manual/zh/function.fgetcsv.php>




