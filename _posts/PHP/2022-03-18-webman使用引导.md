---
layout: post
categories: PHP
title: webman使用引导
meta: webman使用引导
---
* content
{:toc}

## 正文

webman是一款基于[workerman](https://www.workerman.net/doc/workerman/)开发的高性能HTTP服务框架。
webman用于替代传统的php-fpm架构，提供超高性能可扩展的HTTP服务。
可以用webman开发网站，也可以开发HTTP接口或者微服务。

除此之外，webman还支持自定义进程，可以做workerman能做的任何事情，
例如websocket服务、物联网、游戏、TCP服务、UDP服务、unix socket服务等等。

webman 简单易用，学习成本极低，代码书写与传统框架没有区别。
可以 参考手册 [webman手册](https://www.workerman.net/doc/webman/) 进行开发。

### 数据库

webman数据库默认采用的是 illuminate/database，也就是[laravel的数据库](https://learnku.com/docs/laravel/8.x/eloquent/9400)，用法与laravel相同。

### 用户身份验证

webman 中用户身份验证可以使用自带[中间件](https://www.workerman.net/doc/webman/middleware.html)实现。

### 日志

webman使用 monolog/monolog 处理[日志](https://www.workerman.net/doc/webman/log.html)。

### 队列

队列可以用Redis实现，webman 中可以使用 [Redis消息队列插件 redis-queue](https://www.workerman.net/doc/webman/queue/redis.html) 。

### Socket服务

webman 中可以使用 [webman/push](https://www.workerman.net/doc/webman/plugin/push.html) 。
webman/push 是一个推送插件，客户端基于订阅模式，兼容 pusher，拥有众多客户端如JS、安卓(java)、IOS(swift)、IOS(Obj-C)、uniapp。
后端推送SDK支持PHP、Node、Ruby、Asp、Java、Python、Go等。使用起来非常简单稳定。适用于消息推送、聊天等诸多即时通讯场景。

### 自定义进程

webman 中 [自定义进程](https://www.workerman.net/doc/webman/process.html) 可以创建定制化进程。


## 问题汇总

**A facade root has not been set**

文档中说 webman数据库默认采用的是 illuminate/database，但使用 `\Illuminate\Support\Facades\DB` 进行查询时却总是报错：
```
RuntimeException: A facade root has not been set. /vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php:258
```

最后查下来webman文档中使用的是自带的 `support\Db`，挺坑的。

## 参考资料

webman手册 <https://www.workerman.net/doc/webman/>

Laravel 8 中文文档  <https://learnku.com/docs/laravel/8.x>

workerman手册 <https://www.workerman.net/doc/workerman/>
