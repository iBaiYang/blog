---
layout: post
categories: PHP
title: PHP 基本数据结构和算法
meta: PHP 基本数据结构和算法
---
* content
{:toc}

### 正文

#### 2、顺序查找

```php
/**
 * 顺序查找（数组里查找某个值的键）
 * @param $array 给定数组
 * @param $high 最大键，结束位置
 * @param $value 要查找的值
 * @return int
 */
function sequence_search($array, $high, $value)
{
     $array[$high] = $value;
     for( $i=0; $i < $high; $i++)
     {
          if ($array[$i] == $value) {
               break;
          }
     }
     if ($i < $high) {
          return $i;
     } else {
          return -1;
     }
} 
```

举例：

```php
$array = array(2, 4, 6, 8, 10);
$key = sequence_search($array, 3, 6);
echo $key;   // 输出 2 
```

特别说明，在数组的$n键之前找到$value 。

#### 3、线性表的删除

```php
/**
 * 线性表的删除（数组中实现）,删除数组中指定的键的值
 * @param $array
 * @param $i
 * @return mixed
 */
function delete_array_element($array, $i)
{
    $len = count($array);
    for ( $j = $i; $j < $len; $j++ )
    {
        $array[ $j ] = $array [ $j + 1 ];
    }
    array_pop($array);

    return $array;
}
```

举例：

```php
$array = array(2, 4, 6, 8, 10);
$array = delete_array_element($array, 2);
print_r($array); // 输出 Array ( [0] => 2 [1] => 4 [2] => 8 [3] => 10 ) 
```


#### 典型面试题

1、使对象可以像数组一样进行foreach循环，要求属性必须是私有。(Iterator迭代器模式的PHP5实现，写一类实现Iterator接口)。

```php
class Test implements Iterator
{
     private $item = array('id'=>1, 'name'=>'php');

     public function rewind ()
     {
          reset($this->item);
     }

     public function current ()
     {
          return current($this->item);
     }

     public function key ()
     {
          return key($this->item);
     }

     public function next ()
     {
          return next($this->item);
     }

     public function valid ()
     {
          return($this->current()!==false);
     }
}

//测试
$t = new Test;
foreach ( $t as $k => $v )
{
     echo $k,'--->',$v,'';
} 
```

输出：

id--->1

name--->php

2、用PHP实现一个双向队列。

```php
class Deque
{
     private $queue = array();

     public function addFirst ( $item )
     {
          return array_unshift( $this->queue, $item );
     }

     public function addLast ( $item )
     {
          return array_push( $this->queue, $item );
     }

     public function removeFirst ()
     {
          return array_shift( $this->queue );
     }

     public function removeLast ()
     {
          return array_pop( $this->queue );
     }
} 
```

<br/><br/><br/><br/><br/>
### 参考资料

PHP实现各种经典算法 <http://www.cnblogs.com/hellohell/p/5718175.html>

php面试题之二——数据结构和算法（高级部分） <https://blog.csdn.net/s1070/article/details/51174725>

PHP 迭代器模式 <https://www.cnblogs.com/onephp/p/6109061.html>

