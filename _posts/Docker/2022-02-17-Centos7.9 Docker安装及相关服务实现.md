---
layout: post
categories: Docker
title: Centos7.9 Docker安装及相关服务实现
meta: Centos7.9 Docker安装及相关服务实现
---
* content
{:toc}

## 前言

接上文 [VirtualBox 搭建Centos7.9](https://ibaiyang.github.io/blog/linux/2022/02/16/VirtualBox-搭建Centos7.9.html) ，
在这里说一下 Centos7.9 Docker安装及相关服务实现。

## 正文

### docker安装

移除老版本：
```
yum remove docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-selinux docker-engine-selinux docker-engine
```

安装docker:
> yum install -y docker

设置开机自动启动:
> systemctl enable docker

```
[root@localhost ~]# systemctl enable docker
Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.
[root@localhost ~]#
```

启动：
> systemctl start docker

```
[root@localhost ~]# systemctl status docker
● docker.service - Docker Application Container Engine
   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled)
   Active: inactive (dead)
     Docs: http://docs.docker.com
[root@localhost ~]#
[root@localhost ~]# systemctl start docker
[root@localhost ~]#
[root@localhost ~]# systemctl status docker
● docker.service - Docker Application Container Engine
   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled)
   Active: active (running) since 四 2022-02-17 09:46:58 CST; 15s ago
     Docs: http://docs.docker.com
 Main PID: 2093 (dockerd-current)
   CGroup: /system.slice/docker.service
           ├─2093 /usr/bin/dockerd-current --add-runtime docker-runc=/usr/libexec/docker/d...
           └─2101 /usr/bin/docker-containerd-current -l unix:///var/run/docker/libcontaine...

2月 17 09:46:56 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:56.3..."
2月 17 09:46:57 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:57.6..."
2月 17 09:46:57 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:57.6..."
2月 17 09:46:57 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:57.6..."
2月 17 09:46:58 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:58.1..."
2月 17 09:46:58 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:58.5..."
2月 17 09:46:58 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:58.6..."
2月 17 09:46:58 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:58.6...1
2月 17 09:46:58 localhost.localdomain dockerd-current[2093]: time="2022-02-17T09:46:58.6..."
2月 17 09:46:58 localhost.localdomain systemd[1]: Started Docker Application Container ...e.
Hint: Some lines were ellipsized, use -l to show in full.
[root@localhost ~]#
```

查看版本：
> docker version

```
[root@localhost ~]# docker version
Client:
 Version:         1.13.1
 API version:     1.26
 Package version: docker-1.13.1-208.git7d71120.el7_9.x86_64
 Go version:      go1.10.3
 Git commit:      7d71120/1.13.1
 Built:           Mon Jun  7 15:36:09 2021
 OS/Arch:         linux/amd64

Server:
 Version:         1.13.1
 API version:     1.26 (minimum version 1.12)
 Package version: docker-1.13.1-208.git7d71120.el7_9.x86_64
 Go version:      go1.10.3
 Git commit:      7d71120/1.13.1
 Built:           Mon Jun  7 15:36:09 2021
 OS/Arch:         linux/amd64
 Experimental:    false
[root@localhost ~]#
```

docker配置：
```
[root@localhost ~]# ls -l /etc/docker
总用量 20
drwxr-xr-x. 5 root root    75 2月  17 09:44 certs.d
-rw-r--r--. 1 root root     3 12月  4 2019 daemon.json
-rw-------. 1 root root   244 2月  17 09:46 key.json
-rw-r--r--. 1 root root 10850 4月  28 2020 seccomp.json
[root@localhost ~]#
```

修改docker仓库地址：
> vi /etc/docker/daemon.json 

写入内容，保存并退出：
```
{"registry-mirrors": ["https://registry.docker-cn.com"], "live-restore": true}
```

### 安装php:7.1.30-fpm

下载镜像：
> docker pull php:7.1.30-fpm

```
[root@localhost ~]# docker pull php:7.1.30-fpm
Trying to pull repository docker.io/library/php ...
7.1.30-fpm: Pulling from docker.io/library/php
f5d23c7fed46: Pull complete
4f36b8588ea0: Pull complete
6f4f95ddefa8: Pull complete
187af28c9b1d: Pull complete
7ba9cd8f12bd: Pull complete
19ce450f6a80: Pull complete
6a0aa94e79c7: Pull complete
3097ec58d870: Pull complete
05ecbde01690: Pull complete
ab28ea58dda0: Pull complete
Digest: sha256:a0f0773dc2f92ca8f4dab7c7c525574d467d3aa4bb27424bb7f0540a7c9efcd0
Status: Downloaded newer image for docker.io/php:7.1.30-fpm
[root@localhost ~]#
[root@localhost ~]#
[root@localhost ~]# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
docker.io/php       7.1.30-fpm          0b13895891aa        2 years ago         391 MB
[root@localhost ~]#
```

把-v与容器挂载的目录准备好：
```
> mkdir -p /etc/php
```

创建容器并运行(映射共享文件夹 `/media/sf_www` `)：
```
docker run --name server-php -p 9000:9000 -v /etc/php:/usr/local/etc/php -v /media/sf_www:/var/www/html -v /etc/localtime:/etc/localtime:ro --privileged=true -d php:7.1.30-fpm 
```

容器中 root用户并不是真正的root用户，权限受到了限制，上面运行时可以加上参数 `--privileged=true`

```
[root@localhost ~]# docker run --name server-php -p 9000:9000 -v /etc/php:/usr/local/etc/php -v /media/sf_www:/var/www/html -v /etc/localtime:/etc/localtime:ro --privileged=true -d php:7.1.30-fpm
83199b3ed9ba650e4db7d6aa4b10f6414ac045d79fd7ff7f3203141ca3dc8344
[root@localhost ~]#
[root@localhost ~]# docker ps -a
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES
83199b3ed9ba        php:7.1.30-fpm      "docker-php-entryp..."   4 seconds ago       Up 2 seconds        0.0.0.0:9000->9000/tcp   server-php
[root@localhost ~]#
```

进入容器：
> docker exec -it server-php /bin/bash

查看版本：
> php -v

查看拓展：
> php -m

```
[root@localhost ~]# docker exec -it server-php /bin/bash
root@c1576b02b628:/var/www/html#
root@c1576b02b628:/var/www/html# php -v
PHP 7.1.30 (cli) (built: Jul 13 2019 00:37:03) ( NTS )
Copyright (c) 1997-2018 The PHP Group
Zend Engine v3.1.0, Copyright (c) 1998-2018 Zend Technologies
root@c1576b02b628:/var/www/html#
root@c1576b02b628:/var/www/html# php -m
[PHP Modules]
Core
ctype
curl
date
dom
fileinfo
filter
ftp
hash
iconv
json
libxml
mbstring
mysqlnd
openssl
pcre
PDO
pdo_sqlite
Phar
posix
readline
Reflection
session
SimpleXML
SPL
sqlite3
standard
tokenizer
xml
xmlreader
xmlwriter
zlib

[Zend Modules]

root@c1576b02b628:/var/www/html#
```

**权限**

思路：查看共享文件夹所属组，新建用户组，把服务用户追增到该用户组下，重启服务。

```
root@83199b3ed9ba:/var/www/html# ls -l test
total 1
-rwxrwx---. 1 root 995  5 Feb 17 21:37 index.html
-rwxrwx---. 1 root 995 22 Feb 18 09:54 index.php
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin
gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
_apt:x:100:65534::/nonexistent:/usr/sbin/nologin
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# cat /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:
fax:x:21:
voice:x:22:
cdrom:x:24:
floppy:x:25:
tape:x:26:
sudo:x:27:
audio:x:29:
dip:x:30:
www-data:x:33:
backup:x:34:
operator:x:37:
list:x:38:
irc:x:39:
src:x:40:
gnats:x:41:
shadow:x:42:
utmp:x:43:
video:x:44:
sasl:x:45:
plugdev:x:46:
staff:x:50:
games:x:60:
users:x:100:
nogroup:x:65534:
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# groupadd -g 995 vboxsf
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# usermod -aG vboxsf www-data
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# cat /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:
fax:x:21:
voice:x:22:
cdrom:x:24:
floppy:x:25:
tape:x:26:
sudo:x:27:
audio:x:29:
dip:x:30:
www-data:x:33:
backup:x:34:
operator:x:37:
list:x:38:
irc:x:39:
src:x:40:
gnats:x:41:
shadow:x:42:
utmp:x:43:
video:x:44:
sasl:x:45:
plugdev:x:46:
staff:x:50:
games:x:60:
users:x:100:
nogroup:x:65534:
vboxsf:x:995:www-data
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# ls -l test
total 1
-rwxrwx---. 1 root vboxsf  5 Feb 17 21:37 index.html
-rwxrwx---. 1 root vboxsf 22 Feb 18 09:54 index.php
root@83199b3ed9ba:/var/www/html#
```

#### 容器基本操作

停止容器运行：
```
[root@localhost ~]# docker stop server-php
server-php
[root@localhost ~]#
[root@localhost ~]# docker ps -a
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS               NAMES
c1576b02b628        php:7.1.30-fpm      "docker-php-entryp..."   18 minutes ago      Exited (0) 3 seconds ago                       server-php
[root@localhost ~]#
```

启动容器运行：
> docker start server-php

重启容器运行：
> docker restart server-php

删除容器：
```
[root@localhost ~]# docker rm server-php
server-php
[root@localhost ~]#
[root@localhost ~]# docker ps -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
[root@localhost ~]#
```

#### PHP容器特殊命令

**docker-php-source**

初始化源码目录

初始化php源码目录：
> docker-php-source extract 

运行上面命令后，会在`/usr/src`目录下生成一个php源码目录。

清除源码目录：
> docker-php-source delete 

可以在安装好扩展之后运行，释放磁盘空间。

**docker-php-ext-install**

安装并启用扩展
> docker-php-ext-install "源码包目录名"

注意事项：
* “源码包”需要放在/usr/src/php/ext目录下；
* 默认情况下无/usr/src/php这个目录，需要先运行`docker-php-source extract`生成；
* docker-php-ext-install安装的扩展，会自动调用docker-php-ext-enable来启用扩展；
* 卸载扩展，直接删除/usr/local/etc/php/conf.d对应的配置文件即可。

**docker-php-ext-enable**

这个命令是用来启用PHP扩展的。我们使用pecl安装PHP扩展的时候，默认是没有启用这个扩展的，
如果想要使用这个扩展必须要在php.ini这个配置文件中去配置一下才能使用这个PHP扩展。
而 docker-php-ext-enable 这个命令则是自动给我们来启动PHP扩展的，不需要你去php.ini这个配置文件中去配置。

如启用redis扩展：
> docker-php-ext-enable redis

**docker-php-ext-configure**

为扩展设置自定义configure参数

如安装gd图像扩展，Dockerfile如下所示：
```
FROM php:7.4-fpm
RUN apt-get update && apt-get install -y \
        libfreetype6-dev \
        libjpeg62-turbo-dev \
        libpng-dev \
    && docker-php-ext-configure gd --with-freetype --with-jpeg \
    && docker-php-ext-install -j$(nproc) gd
```

#### mysqli拓展安装

上面没有 mysqli 模块，安装mysqli拓展。

配置目录准备好：
> mkdir -p /usr/local/etc/php/conf.d

输入：
> docker-php-ext-install mysqli

```
root@83199b3ed9ba:~# docker-php-ext-install mysqli
Configuring for:
PHP Api Version:         20160303
Zend Module Api No:      20160303
Zend Extension Api No:   320160303
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking target system type... x86_64-pc-linux-gnu
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20160303
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... nawk
checking if nawk is broken... no
checking for MySQLi support... yes, shared
checking whether to enable embedded MySQLi support... no
checking for specified location of the MySQL UNIX socket... no
checking for MySQL UNIX socket location... no
checking for ld used by cc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognize dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 1572864
checking command to parse /usr/bin/nm -B output from cc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if cc supports -fno-rtti -fno-exceptions... no
checking for cc option to produce PIC... -fPIC
checking if cc PIC flag -fPIC works... yes
checking if cc static flag -static works... yes
checking if cc supports -c -o file.o... yes
checking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no

creating libtool
appending configuration tag "CXX" to libtool
configure: creating ./config.status
config.status: creating config.h
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli.c -o mysqli.lo
mkdir .libs
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli.c  -fPIC -DPIC -o .libs/mysqli.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_api.c -o mysqli_api.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_api.c  -fPIC -DPIC -o .libs/mysqli_api.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_prop.c -o mysqli_prop.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_prop.c  -fPIC -DPIC -o .libs/mysqli_prop.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_nonapi.c -o mysqli_nonapi.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_nonapi.c  -fPIC -DPIC -o .libs/mysqli_nonapi.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_fe.c -o mysqli_fe.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_fe.c  -fPIC -DPIC -o .libs/mysqli_fe.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_report.c -o mysqli_report.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_report.c  -fPIC -DPIC -o .libs/mysqli_report.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_driver.c -o mysqli_driver.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_driver.c  -fPIC -DPIC -o .libs/mysqli_driver.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_warning.c -o mysqli_warning.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_warning.c  -fPIC -DPIC -o .libs/mysqli_warning.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_exception.c -o mysqli_exception.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_exception.c  -fPIC -DPIC -o .libs/mysqli_exception.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/mysqli/mysqli_result_iterator.c -o mysqli_result_iterator.lo
 cc -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/mysqli -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/mysqli/mysqli_result_iterator.c  -fPIC -DPIC -o .libs/mysqli_result_iterator.o
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=link cc -DPHP_ATOM_INC -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2  -Wl,-O1 -Wl,--hash-style=both -pie -o mysqli.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/mysqli/modules  mysqli.lo mysqli_api.lo mysqli_prop.lo mysqli_nonapi.lo mysqli_fe.lo mysqli_report.lo mysqli_driver.lo mysqli_warning.lo mysqli_exception.lo mysqli_result_iterator.lo
cc -shared  .libs/mysqli.o .libs/mysqli_api.o .libs/mysqli_prop.o .libs/mysqli_nonapi.o .libs/mysqli_fe.o .libs/mysqli_report.o .libs/mysqli_driver.o .libs/mysqli_warning.o .libs/mysqli_exception.o .libs/mysqli_result_iterator.o   -Wl,-O1 -Wl,--hash-style=both -Wl,-soname -Wl,mysqli.so -o .libs/mysqli.so
creating mysqli.la
(cd .libs && rm -f mysqli.la && ln -s ../mysqli.la mysqli.la)
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=install cp ./mysqli.la /usr/src/php/ext/mysqli/modules
cp ./.libs/mysqli.so /usr/src/php/ext/mysqli/modules/mysqli.so
cp ./.libs/mysqli.lai /usr/src/php/ext/mysqli/modules/mysqli.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/mysqli/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/mysqli/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20160303/
Installing header files:          /usr/local/include/php/
/usr/local/bin/docker-php-ext-enable: 108: /usr/local/bin/docker-php-ext-enable: cannot create /usr/local/etc/php/conf.d/docker-php-ext-mysqli.ini: Directory nonexistent
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# mkdir -p /usr/local/etc/php/conf.d
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# docker-php-ext-install mysqli
/bin/bash /usr/src/php/ext/mysqli/libtool --mode=install cp ./mysqli.la /usr/src/php/ext/mysqli/modules
cp ./.libs/mysqli.so /usr/src/php/ext/mysqli/modules/mysqli.so
cp ./.libs/mysqli.lai /usr/src/php/ext/mysqli/modules/mysqli.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/mysqli/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/mysqli/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20160303/
Installing header files:          /usr/local/include/php/
find . -name \*.gcno -o -name \*.gcda | xargs rm -f
find . -name \*.lo -o -name \*.o | xargs rm -f
find . -name \*.la -o -name \*.a | xargs rm -f
find . -name \*.so | xargs rm -f
find . -name .libs -a -type d|xargs rm -rf
rm -f libphp.la       modules/* libs/*
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
```

#### pdo_mysql拓展安装

安装pdo_mysql拓展：
> docker-php-ext-install pdo_mysql

```
root@83199b3ed9ba:~# docker-php-ext-install pdo_mysql
Configuring for:
PHP Api Version:         20160303
Zend Module Api No:      20160303
Zend Extension Api No:   320160303
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking target system type... x86_64-pc-linux-gnu
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20160303
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... nawk
checking if nawk is broken... no
checking for MySQL support for PDO... yes, shared
checking for the location of libz... no
checking for MySQL UNIX socket location...
checking for PDO includes... checking for PDO includes... /usr/local/include/php/ext
checking for ld used by cc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognize dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 1572864
checking command to parse /usr/bin/nm -B output from cc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if cc supports -fno-rtti -fno-exceptions... no
checking for cc option to produce PIC... -fPIC
checking if cc PIC flag -fPIC works... yes
checking if cc static flag -static works... yes
checking if cc supports -c -o file.o... yes
checking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no

creating libtool
appending configuration tag "CXX" to libtool
configure: creating ./config.status
config.status: creating config.h
/bin/bash /usr/src/php/ext/pdo_mysql/libtool --mode=compile cc -I/usr/local/include/php/ext -I -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo_mysql/pdo_mysql.c -o pdo_mysql.lo
mkdir .libs
 cc -I/usr/local/include/php/ext -I -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo_mysql/pdo_mysql.c  -fPIC -DPIC -o .libs/pdo_mysql.o
/bin/bash /usr/src/php/ext/pdo_mysql/libtool --mode=compile cc -I/usr/local/include/php/ext -I -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo_mysql/mysql_driver.c -o mysql_driver.lo
 cc -I/usr/local/include/php/ext -I -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo_mysql/mysql_driver.c  -fPIC -DPIC -o .libs/mysql_driver.o
/bin/bash /usr/src/php/ext/pdo_mysql/libtool --mode=compile cc -I/usr/local/include/php/ext -I -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo_mysql/mysql_statement.c -o mysql_statement.lo
 cc -I/usr/local/include/php/ext -I -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo_mysql/mysql_statement.c  -fPIC -DPIC -o .libs/mysql_statement.o
/bin/bash /usr/src/php/ext/pdo_mysql/libtool --mode=link cc -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2  -Wl,-O1 -Wl,--hash-style=both -pie -o pdo_mysql.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/pdo_mysql/modules  pdo_mysql.lo mysql_driver.lo mysql_statement.lo
cc -shared  .libs/pdo_mysql.o .libs/mysql_driver.o .libs/mysql_statement.o   -Wl,-O1 -Wl,--hash-style=both -Wl,-soname -Wl,pdo_mysql.so -o .libs/pdo_mysql.so
creating pdo_mysql.la
(cd .libs && rm -f pdo_mysql.la && ln -s ../pdo_mysql.la pdo_mysql.la)
/bin/bash /usr/src/php/ext/pdo_mysql/libtool --mode=install cp ./pdo_mysql.la /usr/src/php/ext/pdo_mysql/modules
cp ./.libs/pdo_mysql.so /usr/src/php/ext/pdo_mysql/modules/pdo_mysql.so
cp ./.libs/pdo_mysql.lai /usr/src/php/ext/pdo_mysql/modules/pdo_mysql.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/pdo_mysql/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/pdo_mysql/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20160303/
find . -name \*.gcno -o -name \*.gcda | xargs rm -f
find . -name \*.lo -o -name \*.o | xargs rm -f
find . -name \*.la -o -name \*.a | xargs rm -f
find . -name \*.so | xargs rm -f
find . -name .libs -a -type d|xargs rm -rf
rm -f libphp.la       modules/* libs/*
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# php -m
[PHP Modules]
Core
ctype
curl
date
dom
fileinfo
filter
ftp
hash
iconv
json
libxml
mbstring
mysqli
mysqlnd
openssl
pcre
PDO
pdo_mysql
pdo_sqlite
Phar
posix
readline
Reflection
session
SimpleXML
SPL
sqlite3
standard
tokenizer
xml
xmlreader
xmlwriter
zlib

[Zend Modules]

root@83199b3ed9ba:~#
```

#### bcmath拓展安装

bcmath拓展可进行一些精度数学运行，需要安装好。

安装bcmath拓展：
> docker-php-ext-install bcmath

```

root@83199b3ed9ba:~# docker-php-ext-install bcmath
Configuring for:
PHP Api Version:         20160303
Zend Module Api No:      20160303
Zend Extension Api No:   320160303
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking target system type... x86_64-pc-linux-gnu
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20160303
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... nawk
checking if nawk is broken... no
checking whether to enable bc style precision math functions... yes, shared
checking for ld used by cc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognize dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 1572864
checking command to parse /usr/bin/nm -B output from cc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if cc supports -fno-rtti -fno-exceptions... no
checking for cc option to produce PIC... -fPIC
checking if cc PIC flag -fPIC works... yes
checking if cc static flag -static works... yes
checking if cc supports -c -o file.o... yes
checking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no

creating libtool
appending configuration tag "CXX" to libtool
configure: creating ./config.status
config.status: creating config.h
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/bcmath.c -o bcmath.lo
mkdir .libs
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/bcmath.c  -fPIC -DPIC -o .libs/bcmath.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/add.c -o libbcmath/src/add.lo
mkdir libbcmath/src/.libs
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/add.c  -fPIC -DPIC -o libbcmath/src/.libs/add.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/div.c -o libbcmath/src/div.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/div.c  -fPIC -DPIC -o libbcmath/src/.libs/div.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/init.c -o libbcmath/src/init.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/init.c  -fPIC -DPIC -o libbcmath/src/.libs/init.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/neg.c -o libbcmath/src/neg.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/neg.c  -fPIC -DPIC -o libbcmath/src/.libs/neg.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/outofmem.c -o libbcmath/src/outofmem.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/outofmem.c  -fPIC -DPIC -o libbcmath/src/.libs/outofmem.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/raisemod.c -o libbcmath/src/raisemod.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/raisemod.c  -fPIC -DPIC -o libbcmath/src/.libs/raisemod.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/rt.c -o libbcmath/src/rt.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/rt.c  -fPIC -DPIC -o libbcmath/src/.libs/rt.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/sub.c -o libbcmath/src/sub.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/sub.c  -fPIC -DPIC -o libbcmath/src/.libs/sub.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/compare.c -o libbcmath/src/compare.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/compare.c  -fPIC -DPIC -o libbcmath/src/.libs/compare.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/divmod.c -o libbcmath/src/divmod.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/divmod.c  -fPIC -DPIC -o libbcmath/src/.libs/divmod.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/int2num.c -o libbcmath/src/int2num.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/int2num.c  -fPIC -DPIC -o libbcmath/src/.libs/int2num.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/num2long.c -o libbcmath/src/num2long.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/num2long.c  -fPIC -DPIC -o libbcmath/src/.libs/num2long.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/output.c -o libbcmath/src/output.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/output.c  -fPIC -DPIC -o libbcmath/src/.libs/output.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/recmul.c -o libbcmath/src/recmul.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/recmul.c  -fPIC -DPIC -o libbcmath/src/.libs/recmul.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/sqrt.c -o libbcmath/src/sqrt.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/sqrt.c  -fPIC -DPIC -o libbcmath/src/.libs/sqrt.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/zero.c -o libbcmath/src/zero.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/zero.c  -fPIC -DPIC -o libbcmath/src/.libs/zero.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/debug.c -o libbcmath/src/debug.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/debug.c  -fPIC -DPIC -o libbcmath/src/.libs/debug.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/doaddsub.c -o libbcmath/src/doaddsub.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/doaddsub.c  -fPIC -DPIC -o libbcmath/src/.libs/doaddsub.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/nearzero.c -o libbcmath/src/nearzero.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/nearzero.c  -fPIC -DPIC -o libbcmath/src/.libs/nearzero.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/num2str.c -o libbcmath/src/num2str.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/num2str.c  -fPIC -DPIC -o libbcmath/src/.libs/num2str.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/raise.c -o libbcmath/src/raise.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/raise.c  -fPIC -DPIC -o libbcmath/src/.libs/raise.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/rmzero.c -o libbcmath/src/rmzero.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/rmzero.c  -fPIC -DPIC -o libbcmath/src/.libs/rmzero.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=compile cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/bcmath/libbcmath/src/str2num.c -o libbcmath/src/str2num.lo
 cc -I/usr/src/php/ext/bcmath/libbcmath/src -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/bcmath -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/bcmath/libbcmath/src/str2num.c  -fPIC -DPIC -o libbcmath/src/.libs/str2num.o
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=link cc -DPHP_ATOM_INC -I/usr/src/php/ext/bcmath/include -I/usr/src/php/ext/bcmath/main -I/usr/src/php/ext/bcmath -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2  -Wl,-O1 -Wl,--hash-style=both -pie -o bcmath.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/bcmath/modules  bcmath.lo libbcmath/src/add.lo libbcmath/src/div.lo libbcmath/src/init.lo libbcmath/src/neg.lo libbcmath/src/outofmem.lo libbcmath/src/raisemod.lo libbcmath/src/rt.lo libbcmath/src/sub.lo libbcmath/src/compare.lo libbcmath/src/divmod.lo libbcmath/src/int2num.lo libbcmath/src/num2long.lo libbcmath/src/output.lo libbcmath/src/recmul.lo libbcmath/src/sqrt.lo libbcmath/src/zero.lo libbcmath/src/debug.lo libbcmath/src/doaddsub.lo libbcmath/src/nearzero.lo libbcmath/src/num2str.lo libbcmath/src/raise.lo libbcmath/src/rmzero.lo libbcmath/src/str2num.lo
cc -shared  .libs/bcmath.o libbcmath/src/.libs/add.o libbcmath/src/.libs/div.o libbcmath/src/.libs/init.o libbcmath/src/.libs/neg.o libbcmath/src/.libs/outofmem.o libbcmath/src/.libs/raisemod.o libbcmath/src/.libs/rt.o libbcmath/src/.libs/sub.o libbcmath/src/.libs/compare.o libbcmath/src/.libs/divmod.o libbcmath/src/.libs/int2num.o libbcmath/src/.libs/num2long.o libbcmath/src/.libs/output.o libbcmath/src/.libs/recmul.o libbcmath/src/.libs/sqrt.o libbcmath/src/.libs/zero.o libbcmath/src/.libs/debug.o libbcmath/src/.libs/doaddsub.o libbcmath/src/.libs/nearzero.o libbcmath/src/.libs/num2str.o libbcmath/src/.libs/raise.o libbcmath/src/.libs/rmzero.o libbcmath/src/.libs/str2num.o   -Wl,-O1 -Wl,--hash-style=both -Wl,-soname -Wl,bcmath.so -o .libs/bcmath.so
creating bcmath.la
(cd .libs && rm -f bcmath.la && ln -s ../bcmath.la bcmath.la)
/bin/bash /usr/src/php/ext/bcmath/libtool --mode=install cp ./bcmath.la /usr/src/php/ext/bcmath/modules
cp ./.libs/bcmath.so /usr/src/php/ext/bcmath/modules/bcmath.so
cp ./.libs/bcmath.lai /usr/src/php/ext/bcmath/modules/bcmath.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/bcmath/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/bcmath/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20160303/
find . -name \*.gcno -o -name \*.gcda | xargs rm -f
find . -name \*.lo -o -name \*.o | xargs rm -f
find . -name \*.la -o -name \*.a | xargs rm -f
find . -name \*.so | xargs rm -f
find . -name .libs -a -type d|xargs rm -rf
rm -f libphp.la       modules/* libs/*
root@83199b3ed9ba:~#
```

#### gd拓展安装

更新软件源
> apt update 

安装各种库
> apt install -y libwebp-dev libjpeg-dev libpng-dev libfreetype6-dev

解压源码
> docker-php-source extract

gd源码文件夹
> cd /usr/src/php/ext/gd

准备编译
```
> docker-php-ext-configure gd --with-webp-dir=/usr/include/webp --with-jpeg-dir=/usr/include --with-png-dir=/usr/include --with-freetype-dir=/usr/include/freetype2
```

编译安装
> docker-php-ext-install gd

先跳过编译过程，安装看一下：
```
[root@localhost ~]# docker exec -it server-php /bin/bash
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# php -m
[PHP Modules]
bcmath
Core
ctype
curl
date
dom
fileinfo
filter
ftp
hash
iconv
json
libxml
mbstring
mysqli
mysqlnd
openssl
pcre
PDO
pdo_mysql
pdo_sqlite
Phar
posix
readline
Reflection
session
SimpleXML
SPL
sqlite3
standard
tokenizer
xml
xmlreader
xmlwriter
zlib

[Zend Modules]

root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# cd ~
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# docker-php-ext-install gd
Configuring for:
PHP Api Version:         20160303
Zend Module Api No:      20160303
Zend Extension Api No:   320160303
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking target system type... x86_64-pc-linux-gnu
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20160303
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... nawk
checking if nawk is broken... no
checking for GD support... yes, shared
checking for the location of libwebp... no
checking for the location of libjpeg... no
checking for the location of libpng... no
checking for the location of libz... no
checking for the location of libXpm... no
checking for FreeType 2... no
checking whether to enable truetype string function in GD... no
checking whether to enable JIS-mapped Japanese font support in GD... no
If configure fails try --with-webp-dir=<DIR>
If configure fails try --with-jpeg-dir=<DIR>
configure: error: png.h not found.
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# apt update
Get:1 http://deb.debian.org/debian buster InRelease [122 kB]
Get:2 http://deb.debian.org/debian buster-updates InRelease [51.9 kB]
Get:3 http://security.debian.org/debian-security buster/updates InRelease [65.4 kB]
Get:4 http://deb.debian.org/debian buster/main amd64 Packages [7906 kB]
Get:5 http://security.debian.org/debian-security buster/updates/main amd64 Packages [316 kB]
Get:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8792 B]
Fetched 8469 kB in 26s (324 kB/s)
Reading package lists... Done
Building dependency tree
Reading state information... Done
55 packages can be upgraded. Run 'apt list --upgradable' to see them.
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# apt install -y libwebp-dev libjpeg-dev libpng-dev libfreetype6-dev
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following package was automatically installed and is no longer required:
  lsb-base
Use 'apt autoremove' to remove it.
The following additional packages will be installed:
  libfreetype6 libjpeg62-turbo libjpeg62-turbo-dev libpng-tools libpng16-16 libwebp6 libwebpdemux2 libwebpmux3 zlib1g-dev
Suggested packages:
  freetype2-doc
The following NEW packages will be installed:
  libfreetype6 libfreetype6-dev libjpeg-dev libjpeg62-turbo libjpeg62-turbo-dev libpng-dev libpng-tools libpng16-16 libwebp-dev
  libwebp6 libwebpdemux2 libwebpmux3 zlib1g-dev
0 upgraded, 13 newly installed, 0 to remove and 55 not upgraded.
Need to get 3058 kB of archives.
After this operation, 8222 kB of additional disk space will be used.
Get:1 http://deb.debian.org/debian buster/main amd64 libpng16-16 amd64 1.6.36-6 [292 kB]
Get:2 http://deb.debian.org/debian buster/main amd64 libfreetype6 amd64 2.9.1-3+deb10u2 [380 kB]
Get:3 http://deb.debian.org/debian buster/main amd64 zlib1g-dev amd64 1:1.2.11.dfsg-1 [214 kB]
Get:4 http://deb.debian.org/debian buster/main amd64 libpng-dev amd64 1.6.36-6 [300 kB]
Get:5 http://deb.debian.org/debian buster/main amd64 libfreetype6-dev amd64 2.9.1-3+deb10u2 [544 kB]
Get:6 http://deb.debian.org/debian buster/main amd64 libjpeg62-turbo amd64 1:1.5.2-2+deb10u1 [133 kB]
Get:7 http://deb.debian.org/debian buster/main amd64 libjpeg62-turbo-dev amd64 1:1.5.2-2+deb10u1 [208 kB]
Get:8 http://deb.debian.org/debian buster/main amd64 libjpeg-dev all 1:1.5.2-2+deb10u1 [57.7 kB]
Get:9 http://deb.debian.org/debian buster/main amd64 libpng-tools amd64 1.6.36-6 [140 kB]
Get:10 http://deb.debian.org/debian buster/main amd64 libwebp6 amd64 0.6.1-2+deb10u1 [261 kB]
Get:11 http://deb.debian.org/debian buster/main amd64 libwebpmux3 amd64 0.6.1-2+deb10u1 [97.8 kB]
Get:12 http://deb.debian.org/debian buster/main amd64 libwebpdemux2 amd64 0.6.1-2+deb10u1 [87.6 kB]
Get:13 http://deb.debian.org/debian buster/main amd64 libwebp-dev amd64 0.6.1-2+deb10u1 [344 kB]
Fetched 3058 kB in 2s (1460 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package libpng16-16:amd64.
(Reading database ... 12651 files and directories currently installed.)
Preparing to unpack .../00-libpng16-16_1.6.36-6_amd64.deb ...
Unpacking libpng16-16:amd64 (1.6.36-6) ...
Selecting previously unselected package libfreetype6:amd64.
Preparing to unpack .../01-libfreetype6_2.9.1-3+deb10u2_amd64.deb ...
Unpacking libfreetype6:amd64 (2.9.1-3+deb10u2) ...
Selecting previously unselected package zlib1g-dev:amd64.
Preparing to unpack .../02-zlib1g-dev_1%3a1.2.11.dfsg-1_amd64.deb ...
Unpacking zlib1g-dev:amd64 (1:1.2.11.dfsg-1) ...
Selecting previously unselected package libpng-dev:amd64.
Preparing to unpack .../03-libpng-dev_1.6.36-6_amd64.deb ...
Unpacking libpng-dev:amd64 (1.6.36-6) ...
Selecting previously unselected package libfreetype6-dev:amd64.
Preparing to unpack .../04-libfreetype6-dev_2.9.1-3+deb10u2_amd64.deb ...
Unpacking libfreetype6-dev:amd64 (2.9.1-3+deb10u2) ...
Selecting previously unselected package libjpeg62-turbo:amd64.
Preparing to unpack .../05-libjpeg62-turbo_1%3a1.5.2-2+deb10u1_amd64.deb ...
Unpacking libjpeg62-turbo:amd64 (1:1.5.2-2+deb10u1) ...
Selecting previously unselected package libjpeg62-turbo-dev:amd64.
Preparing to unpack .../06-libjpeg62-turbo-dev_1%3a1.5.2-2+deb10u1_amd64.deb ...
Unpacking libjpeg62-turbo-dev:amd64 (1:1.5.2-2+deb10u1) ...
Selecting previously unselected package libjpeg-dev.
Preparing to unpack .../07-libjpeg-dev_1%3a1.5.2-2+deb10u1_all.deb ...
Unpacking libjpeg-dev (1:1.5.2-2+deb10u1) ...
Selecting previously unselected package libpng-tools.
Preparing to unpack .../08-libpng-tools_1.6.36-6_amd64.deb ...
Unpacking libpng-tools (1.6.36-6) ...
Selecting previously unselected package libwebp6:amd64.
Preparing to unpack .../09-libwebp6_0.6.1-2+deb10u1_amd64.deb ...
Unpacking libwebp6:amd64 (0.6.1-2+deb10u1) ...
Selecting previously unselected package libwebpmux3:amd64.
Preparing to unpack .../10-libwebpmux3_0.6.1-2+deb10u1_amd64.deb ...
Unpacking libwebpmux3:amd64 (0.6.1-2+deb10u1) ...
Selecting previously unselected package libwebpdemux2:amd64.
Preparing to unpack .../11-libwebpdemux2_0.6.1-2+deb10u1_amd64.deb ...
Unpacking libwebpdemux2:amd64 (0.6.1-2+deb10u1) ...
Selecting previously unselected package libwebp-dev:amd64.
Preparing to unpack .../12-libwebp-dev_0.6.1-2+deb10u1_amd64.deb ...
Unpacking libwebp-dev:amd64 (0.6.1-2+deb10u1) ...
Setting up libjpeg62-turbo:amd64 (1:1.5.2-2+deb10u1) ...
Setting up libjpeg62-turbo-dev:amd64 (1:1.5.2-2+deb10u1) ...
Setting up libpng16-16:amd64 (1.6.36-6) ...
Setting up libwebp6:amd64 (0.6.1-2+deb10u1) ...
Setting up zlib1g-dev:amd64 (1:1.2.11.dfsg-1) ...
Setting up libwebpmux3:amd64 (0.6.1-2+deb10u1) ...
Setting up libpng-tools (1.6.36-6) ...
Setting up libwebpdemux2:amd64 (0.6.1-2+deb10u1) ...
Setting up libpng-dev:amd64 (1.6.36-6) ...
Setting up libjpeg-dev (1:1.5.2-2+deb10u1) ...
Setting up libwebp-dev:amd64 (0.6.1-2+deb10u1) ...
Setting up libfreetype6:amd64 (2.9.1-3+deb10u2) ...
Setting up libfreetype6-dev:amd64 (2.9.1-3+deb10u2) ...
Processing triggers for libc-bin (2.28-10) ...
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# docker-php-ext-install gd
Configuring for:
PHP Api Version:         20160303
Zend Module Api No:      20160303
Zend Extension Api No:   320160303
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking target system type... x86_64-pc-linux-gnu
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20160303
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... nawk
checking if nawk is broken... no
checking for GD support... yes, shared
checking for the location of libwebp... no
checking for the location of libjpeg... no
checking for the location of libpng... no
checking for the location of libz... no
checking for the location of libXpm... no
checking for FreeType 2... no
checking whether to enable truetype string function in GD... no
checking whether to enable JIS-mapped Japanese font support in GD... no
If configure fails try --with-webp-dir=<DIR>
If configure fails try --with-jpeg-dir=<DIR>
checking for png_write_image in -lpng... yes
If configure fails try --with-xpm-dir=<DIR>
If configure fails try --with-freetype-dir=<DIR>
checking for fabsf... no
checking for floorf... no
checking for ld used by cc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognize dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 1572864
checking command to parse /usr/bin/nm -B output from cc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if cc supports -fno-rtti -fno-exceptions... no
checking for cc option to produce PIC... -fPIC
checking if cc PIC flag -fPIC works... yes
checking if cc static flag -static works... yes
checking if cc supports -c -o file.o... yes
checking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no

creating libtool
appending configuration tag "CXX" to libtool
configure: creating ./config.status
config.status: creating config.h
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/gd.c -o gd.lo
mkdir .libs
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/gd.c  -fPIC -DPIC -o .libs/gd.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd.c -o libgd/gd.lo
mkdir libgd/.libs
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd.c  -fPIC -DPIC -o libgd/.libs/gd.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_gd.c -o libgd/gd_gd.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_gd.c  -fPIC -DPIC -o libgd/.libs/gd_gd.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_gd2.c -o libgd/gd_gd2.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_gd2.c  -fPIC -DPIC -o libgd/.libs/gd_gd2.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_io.c -o libgd/gd_io.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_io.c  -fPIC -DPIC -o libgd/.libs/gd_io.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_io_dp.c -o libgd/gd_io_dp.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_io_dp.c  -fPIC -DPIC -o libgd/.libs/gd_io_dp.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_io_file.c -o libgd/gd_io_file.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_io_file.c  -fPIC -DPIC -o libgd/.libs/gd_io_file.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_ss.c -o libgd/gd_ss.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_ss.c  -fPIC -DPIC -o libgd/.libs/gd_ss.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_io_ss.c -o libgd/gd_io_ss.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_io_ss.c  -fPIC -DPIC -o libgd/.libs/gd_io_ss.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_webp.c -o libgd/gd_webp.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_webp.c  -fPIC -DPIC -o libgd/.libs/gd_webp.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_png.c -o libgd/gd_png.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_png.c  -fPIC -DPIC -o libgd/.libs/gd_png.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_jpeg.c -o libgd/gd_jpeg.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_jpeg.c  -fPIC -DPIC -o libgd/.libs/gd_jpeg.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdxpm.c -o libgd/gdxpm.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdxpm.c  -fPIC -DPIC -o libgd/.libs/gdxpm.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfontt.c -o libgd/gdfontt.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfontt.c  -fPIC -DPIC -o libgd/.libs/gdfontt.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfonts.c -o libgd/gdfonts.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfonts.c  -fPIC -DPIC -o libgd/.libs/gdfonts.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfontmb.c -o libgd/gdfontmb.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfontmb.c  -fPIC -DPIC -o libgd/.libs/gdfontmb.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfontl.c -o libgd/gdfontl.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfontl.c  -fPIC -DPIC -o libgd/.libs/gdfontl.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfontg.c -o libgd/gdfontg.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfontg.c  -fPIC -DPIC -o libgd/.libs/gdfontg.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdtables.c -o libgd/gdtables.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdtables.c  -fPIC -DPIC -o libgd/.libs/gdtables.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdft.c -o libgd/gdft.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdft.c  -fPIC -DPIC -o libgd/.libs/gdft.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdcache.c -o libgd/gdcache.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdcache.c  -fPIC -DPIC -o libgd/.libs/gdcache.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdkanji.c -o libgd/gdkanji.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdkanji.c  -fPIC -DPIC -o libgd/.libs/gdkanji.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/wbmp.c -o libgd/wbmp.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/wbmp.c  -fPIC -DPIC -o libgd/.libs/wbmp.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_wbmp.c -o libgd/gd_wbmp.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_wbmp.c  -fPIC -DPIC -o libgd/.libs/gd_wbmp.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdhelpers.c -o libgd/gdhelpers.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdhelpers.c  -fPIC -DPIC -o libgd/.libs/gdhelpers.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_topal.c -o libgd/gd_topal.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_topal.c  -fPIC -DPIC -o libgd/.libs/gd_topal.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_gif_in.c -o libgd/gd_gif_in.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_gif_in.c  -fPIC -DPIC -o libgd/.libs/gd_gif_in.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/xbm.c -o libgd/xbm.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/xbm.c  -fPIC -DPIC -o libgd/.libs/xbm.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_gif_out.c -o libgd/gd_gif_out.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_gif_out.c  -fPIC -DPIC -o libgd/.libs/gd_gif_out.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_security.c -o libgd/gd_security.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_security.c  -fPIC -DPIC -o libgd/.libs/gd_security.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_filter.c -o libgd/gd_filter.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_filter.c  -fPIC -DPIC -o libgd/.libs/gd_filter.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_pixelate.c -o libgd/gd_pixelate.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_pixelate.c  -fPIC -DPIC -o libgd/.libs/gd_pixelate.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_arc.c -o libgd/gd_arc.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_arc.c  -fPIC -DPIC -o libgd/.libs/gd_arc.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_rotate.c -o libgd/gd_rotate.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_rotate.c  -fPIC -DPIC -o libgd/.libs/gd_rotate.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_color.c -o libgd/gd_color.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_color.c  -fPIC -DPIC -o libgd/.libs/gd_color.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_transform.c -o libgd/gd_transform.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_transform.c  -fPIC -DPIC -o libgd/.libs/gd_transform.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_crop.c -o libgd/gd_crop.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_crop.c  -fPIC -DPIC -o libgd/.libs/gd_crop.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_interpolation.c -o libgd/gd_interpolation.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_interpolation.c  -fPIC -DPIC -o libgd/.libs/gd_interpolation.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_matrix.c -o libgd/gd_matrix.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_matrix.c  -fPIC -DPIC -o libgd/.libs/gd_matrix.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=link cc -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2  -Wl,-O1 -Wl,--hash-style=both -pie -o gd.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/gd/modules  gd.lo libgd/gd.lo libgd/gd_gd.lo libgd/gd_gd2.lo libgd/gd_io.lo libgd/gd_io_dp.lo libgd/gd_io_file.lo libgd/gd_ss.lo libgd/gd_io_ss.lo libgd/gd_webp.lo libgd/gd_png.lo libgd/gd_jpeg.lo libgd/gdxpm.lo libgd/gdfontt.lo libgd/gdfonts.lo libgd/gdfontmb.lo libgd/gdfontl.lo libgd/gdfontg.lo libgd/gdtables.lo libgd/gdft.lo libgd/gdcache.lo libgd/gdkanji.lo libgd/wbmp.lo libgd/gd_wbmp.lo libgd/gdhelpers.lo libgd/gd_topal.lo libgd/gd_gif_in.lo libgd/xbm.lo libgd/gd_gif_out.lo libgd/gd_security.lo libgd/gd_filter.lo libgd/gd_pixelate.lo libgd/gd_arc.lo libgd/gd_rotate.lo libgd/gd_color.lo libgd/gd_transform.lo libgd/gd_crop.lo libgd/gd_interpolation.lo libgd/gd_matrix.lo -lpng -lz
cc -shared  .libs/gd.o libgd/.libs/gd.o libgd/.libs/gd_gd.o libgd/.libs/gd_gd2.o libgd/.libs/gd_io.o libgd/.libs/gd_io_dp.o libgd/.libs/gd_io_file.o libgd/.libs/gd_ss.o libgd/.libs/gd_io_ss.o libgd/.libs/gd_webp.o libgd/.libs/gd_png.o libgd/.libs/gd_jpeg.o libgd/.libs/gdxpm.o libgd/.libs/gdfontt.o libgd/.libs/gdfonts.o libgd/.libs/gdfontmb.o libgd/.libs/gdfontl.o libgd/.libs/gdfontg.o libgd/.libs/gdtables.o libgd/.libs/gdft.o libgd/.libs/gdcache.o libgd/.libs/gdkanji.o libgd/.libs/wbmp.o libgd/.libs/gd_wbmp.o libgd/.libs/gdhelpers.o libgd/.libs/gd_topal.o libgd/.libs/gd_gif_in.o libgd/.libs/xbm.o libgd/.libs/gd_gif_out.o libgd/.libs/gd_security.o libgd/.libs/gd_filter.o libgd/.libs/gd_pixelate.o libgd/.libs/gd_arc.o libgd/.libs/gd_rotate.o libgd/.libs/gd_color.o libgd/.libs/gd_transform.o libgd/.libs/gd_crop.o libgd/.libs/gd_interpolation.o libgd/.libs/gd_matrix.o  -lpng -lz  -Wl,-O1 -Wl,--hash-style=both -Wl,-soname -Wl,gd.so -o .libs/gd.so
creating gd.la
(cd .libs && rm -f gd.la && ln -s ../gd.la gd.la)
/bin/bash /usr/src/php/ext/gd/libtool --mode=install cp ./gd.la /usr/src/php/ext/gd/modules
cp ./.libs/gd.so /usr/src/php/ext/gd/modules/gd.so
cp ./.libs/gd.lai /usr/src/php/ext/gd/modules/gd.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/gd/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/gd/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20160303/
Installing header files:          /usr/local/include/php/
find . -name \*.gcno -o -name \*.gcda | xargs rm -f
find . -name \*.lo -o -name \*.o | xargs rm -f
find . -name \*.la -o -name \*.a | xargs rm -f
find . -name \*.so | xargs rm -f
find . -name .libs -a -type d|xargs rm -rf
rm -f libphp.la       modules/* libs/*
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# php -m | grep gd
gd
root@83199b3ed9ba:~#
```

跳过编译过程，会发现一直报错，`Call to undefined function imagettftext()`，查看phpinfo发现只支持png，所以需要重新编译安装：
```
[root@localhost ~]# docker exec -it server-php /bin/bash
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# docker-php-source extract
root@83199b3ed9ba:/var/www/html#
root@83199b3ed9ba:/var/www/html# cd /usr/src/php/ext/gd
root@83199b3ed9ba:/usr/src/php/ext/gd#
root@83199b3ed9ba:/usr/src/php/ext/gd# docker-php-ext-configure gd --with-webp-dir=/usr/include/webp --with-jpeg-dir=/usr/include --with-png-dir=/usr/include --with-freetype-dir=/usr/include/freetype2
Configuring for:
PHP Api Version:         20160303
Zend Module Api No:      20160303
Zend Extension Api No:   320160303
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking target system type... x86_64-pc-linux-gnu
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20160303
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... nawk
checking if nawk is broken... no
checking for GD support... yes, shared
checking for the location of libwebp... /usr/include/webp
checking for the location of libjpeg... /usr/include
checking for the location of libpng... /usr/include
checking for the location of libz... no
checking for the location of libXpm... no
checking for FreeType 2... /usr/include/freetype2
checking whether to enable truetype string function in GD... no
checking whether to enable JIS-mapped Japanese font support in GD... no
checking for WebPGetInfo in -lwebp... yes
checking for jpeg_read_header in -ljpeg... yes
checking for png_write_image in -lpng... yes
If configure fails try --with-xpm-dir=<DIR>
checking for fabsf... no
checking for floorf... no
checking for ld used by cc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognize dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 1572864
checking command to parse /usr/bin/nm -B output from cc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if cc supports -fno-rtti -fno-exceptions... no
checking for cc option to produce PIC... -fPIC
checking if cc PIC flag -fPIC works... yes
checking if cc static flag -static works... yes
checking if cc supports -c -o file.o... yes
checking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no

creating libtool
appending configuration tag "CXX" to libtool
configure: creating ./config.status
config.status: creating config.h
root@83199b3ed9ba:/usr/src/php/ext/gd#
root@83199b3ed9ba:/usr/src/php/ext/gd#
root@83199b3ed9ba:/usr/src/php/ext/gd# docker-php-ext-install gd
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/gd.c -o gd.lo
mkdir .libs
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/gd.c  -fPIC -DPIC -o .libs/gd.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd.c -o libgd/gd.lo
mkdir libgd/.libs
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd.c  -fPIC -DPIC -o libgd/.libs/gd.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_gd.c -o libgd/gd_gd.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_gd.c  -fPIC -DPIC -o libgd/.libs/gd_gd.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_gd2.c -o libgd/gd_gd2.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_gd2.c  -fPIC -DPIC -o libgd/.libs/gd_gd2.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_io.c -o libgd/gd_io.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_io.c  -fPIC -DPIC -o libgd/.libs/gd_io.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_io_dp.c -o libgd/gd_io_dp.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_io_dp.c  -fPIC -DPIC -o libgd/.libs/gd_io_dp.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_io_file.c -o libgd/gd_io_file.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_io_file.c  -fPIC -DPIC -o libgd/.libs/gd_io_file.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_ss.c -o libgd/gd_ss.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_ss.c  -fPIC -DPIC -o libgd/.libs/gd_ss.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_io_ss.c -o libgd/gd_io_ss.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_io_ss.c  -fPIC -DPIC -o libgd/.libs/gd_io_ss.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_webp.c -o libgd/gd_webp.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_webp.c  -fPIC -DPIC -o libgd/.libs/gd_webp.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_png.c -o libgd/gd_png.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_png.c  -fPIC -DPIC -o libgd/.libs/gd_png.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_jpeg.c -o libgd/gd_jpeg.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_jpeg.c  -fPIC -DPIC -o libgd/.libs/gd_jpeg.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdxpm.c -o libgd/gdxpm.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdxpm.c  -fPIC -DPIC -o libgd/.libs/gdxpm.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfontt.c -o libgd/gdfontt.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfontt.c  -fPIC -DPIC -o libgd/.libs/gdfontt.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfonts.c -o libgd/gdfonts.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfonts.c  -fPIC -DPIC -o libgd/.libs/gdfonts.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfontmb.c -o libgd/gdfontmb.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfontmb.c  -fPIC -DPIC -o libgd/.libs/gdfontmb.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfontl.c -o libgd/gdfontl.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfontl.c  -fPIC -DPIC -o libgd/.libs/gdfontl.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdfontg.c -o libgd/gdfontg.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdfontg.c  -fPIC -DPIC -o libgd/.libs/gdfontg.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdtables.c -o libgd/gdtables.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdtables.c  -fPIC -DPIC -o libgd/.libs/gdtables.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdft.c -o libgd/gdft.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdft.c  -fPIC -DPIC -o libgd/.libs/gdft.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdcache.c -o libgd/gdcache.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdcache.c  -fPIC -DPIC -o libgd/.libs/gdcache.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdkanji.c -o libgd/gdkanji.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdkanji.c  -fPIC -DPIC -o libgd/.libs/gdkanji.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/wbmp.c -o libgd/wbmp.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/wbmp.c  -fPIC -DPIC -o libgd/.libs/wbmp.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_wbmp.c -o libgd/gd_wbmp.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_wbmp.c  -fPIC -DPIC -o libgd/.libs/gd_wbmp.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gdhelpers.c -o libgd/gdhelpers.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gdhelpers.c  -fPIC -DPIC -o libgd/.libs/gdhelpers.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_topal.c -o libgd/gd_topal.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_topal.c  -fPIC -DPIC -o libgd/.libs/gd_topal.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_gif_in.c -o libgd/gd_gif_in.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_gif_in.c  -fPIC -DPIC -o libgd/.libs/gd_gif_in.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/xbm.c -o libgd/xbm.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/xbm.c  -fPIC -DPIC -o libgd/.libs/xbm.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_gif_out.c -o libgd/gd_gif_out.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_gif_out.c  -fPIC -DPIC -o libgd/.libs/gd_gif_out.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_security.c -o libgd/gd_security.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_security.c  -fPIC -DPIC -o libgd/.libs/gd_security.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_filter.c -o libgd/gd_filter.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_filter.c  -fPIC -DPIC -o libgd/.libs/gd_filter.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_pixelate.c -o libgd/gd_pixelate.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_pixelate.c  -fPIC -DPIC -o libgd/.libs/gd_pixelate.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_arc.c -o libgd/gd_arc.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_arc.c  -fPIC -DPIC -o libgd/.libs/gd_arc.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_rotate.c -o libgd/gd_rotate.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_rotate.c  -fPIC -DPIC -o libgd/.libs/gd_rotate.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_color.c -o libgd/gd_color.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_color.c  -fPIC -DPIC -o libgd/.libs/gd_color.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_transform.c -o libgd/gd_transform.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_transform.c  -fPIC -DPIC -o libgd/.libs/gd_transform.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_crop.c -o libgd/gd_crop.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_crop.c  -fPIC -DPIC -o libgd/.libs/gd_crop.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_interpolation.c -o libgd/gd_interpolation.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_interpolation.c  -fPIC -DPIC -o libgd/.libs/gd_interpolation.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=compile cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/gd/libgd/gd_matrix.c -o libgd/gd_matrix.lo
 cc -I/usr/src/php/ext/gd/libgd -DHAVE_LIBPNG -DHAVE_LIBWEBP -DHAVE_LIBJPEG -DHAVE_LIBFREETYPE -DENABLE_GD_TTF -I. -I/usr/src/php/ext/gd -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16 -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/gd/libgd/gd_matrix.c  -fPIC -DPIC -o libgd/.libs/gd_matrix.o
/bin/bash /usr/src/php/ext/gd/libtool --mode=link cc -DPHP_ATOM_INC -I/usr/src/php/ext/gd/include -I/usr/src/php/ext/gd/main -I/usr/src/php/ext/gd -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/include/freetype2 -I/usr/include/libpng16  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2  -Wl,-O1 -Wl,--hash-style=both -pie -o gd.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/gd/modules  gd.lo libgd/gd.lo libgd/gd_gd.lo libgd/gd_gd2.lo libgd/gd_io.lo libgd/gd_io_dp.lo libgd/gd_io_file.lo libgd/gd_ss.lo libgd/gd_io_ss.lo libgd/gd_webp.lo libgd/gd_png.lo libgd/gd_jpeg.lo libgd/gdxpm.lo libgd/gdfontt.lo libgd/gdfonts.lo libgd/gdfontmb.lo libgd/gdfontl.lo libgd/gdfontg.lo libgd/gdtables.lo libgd/gdft.lo libgd/gdcache.lo libgd/gdkanji.lo libgd/wbmp.lo libgd/gd_wbmp.lo libgd/gdhelpers.lo libgd/gd_topal.lo libgd/gd_gif_in.lo libgd/xbm.lo libgd/gd_gif_out.lo libgd/gd_security.lo libgd/gd_filter.lo libgd/gd_pixelate.lo libgd/gd_arc.lo libgd/gd_rotate.lo libgd/gd_color.lo libgd/gd_transform.lo libgd/gd_crop.lo libgd/gd_interpolation.lo libgd/gd_matrix.lo -lpng -lz -ljpeg -lwebp -lfreetype
cc -shared  .libs/gd.o libgd/.libs/gd.o libgd/.libs/gd_gd.o libgd/.libs/gd_gd2.o libgd/.libs/gd_io.o libgd/.libs/gd_io_dp.o libgd/.libs/gd_io_file.o libgd/.libs/gd_ss.o libgd/.libs/gd_io_ss.o libgd/.libs/gd_webp.o libgd/.libs/gd_png.o libgd/.libs/gd_jpeg.o libgd/.libs/gdxpm.o libgd/.libs/gdfontt.o libgd/.libs/gdfonts.o libgd/.libs/gdfontmb.o libgd/.libs/gdfontl.o libgd/.libs/gdfontg.o libgd/.libs/gdtables.o libgd/.libs/gdft.o libgd/.libs/gdcache.o libgd/.libs/gdkanji.o libgd/.libs/wbmp.o libgd/.libs/gd_wbmp.o libgd/.libs/gdhelpers.o libgd/.libs/gd_topal.o libgd/.libs/gd_gif_in.o libgd/.libs/xbm.o libgd/.libs/gd_gif_out.o libgd/.libs/gd_security.o libgd/.libs/gd_filter.o libgd/.libs/gd_pixelate.o libgd/.libs/gd_arc.o libgd/.libs/gd_rotate.o libgd/.libs/gd_color.o libgd/.libs/gd_transform.o libgd/.libs/gd_crop.o libgd/.libs/gd_interpolation.o libgd/.libs/gd_matrix.o  -lpng -lz -ljpeg -lwebp -lfreetype  -Wl,-O1 -Wl,--hash-style=both -Wl,-soname -Wl,gd.so -o .libs/gd.so
creating gd.la
(cd .libs && rm -f gd.la && ln -s ../gd.la gd.la)
/bin/bash /usr/src/php/ext/gd/libtool --mode=install cp ./gd.la /usr/src/php/ext/gd/modules
cp ./.libs/gd.so /usr/src/php/ext/gd/modules/gd.so
cp ./.libs/gd.lai /usr/src/php/ext/gd/modules/gd.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/gd/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/gd/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20160303/
Installing header files:          /usr/local/include/php/

warning: gd (gd.so) is already loaded!

find . -name \*.gcno -o -name \*.gcda | xargs rm -f
find . -name \*.lo -o -name \*.o | xargs rm -f
find . -name \*.la -o -name \*.a | xargs rm -f
find . -name \*.so | xargs rm -f
find . -name .libs -a -type d|xargs rm -rf
rm -f libphp.la       modules/* libs/*
root@83199b3ed9ba:/usr/src/php/ext/gd#
root@83199b3ed9ba:/usr/src/php/ext/gd#
```

#### redis拓展安装

**方式一**

下载源码编译安装

进入容器：
> docker exec -it server-php /bin/bash

下载phpredis拓展包：
> curl -L -o /tmp/redis.tar.gz https://github.com/phpredis/phpredis/archive/refs/tags/5.3.7.tar.gz

解压：
> tar zxf /tmp/redis.tar.gz

移动：
> mv phpredis-5.3.7 /usr/src/php/ext/redis

安装；
> docker-php-ext-install redis

检查已安装的扩展信息：
```
php --ri redis
```

退出容器：
> exit

然后重启容器：
> docker restart server-php

```
root@83199b3ed9ba:~# ls -l /usr/src/php/ext
total 100
drwxr-xr-x.  4 1000 1000  141 May 28  2019 bcmath
drwxr-xr-x.  3 1000 1000  157 May 28  2019 bz2
drwxr-xr-x.  3 1000 1000  255 May 28  2019 calendar
drwxr-xr-x.  3 1000 1000 4096 May 28  2019 com_dotnet
drwxr-xr-x.  3 1000 1000  139 May 28  2019 ctype
drwxr-xr-x.  3 1000 1000  174 May 28  2019 curl
drwxr-xr-x.  4 1000 1000  129 May 28  2019 date
drwxr-xr-x.  6 1000 1000 4096 May 28  2019 dba
drwxr-xr-x.  4 1000 1000 4096 May 28  2019 dom
drwxr-xr-x.  4 1000 1000  138 May 28  2019 enchant
drwxr-xr-x.  3 1000 1000  171 May 28  2019 exif
-rwxr-xr-x.  1 1000 1000 8652 May 28  2019 ext_skel
-rw-r--r--.  1 1000 1000 1165 May 28  2019 ext_skel_win32.php
drwxr-xr-x.  4 1000 1000 4096 May 28  2019 fileinfo
drwxr-xr-x.  4 1000 1000  219 May 28  2019 filter
drwxr-xr-x.  3 1000 1000  148 May 28  2019 ftp
drwxr-xr-x.  8 1000 1000 4096 Feb 18 13:56 gd
drwxr-xr-x.  3 1000 1000  107 May 28  2019 gettext
drwxr-xr-x.  3 1000 1000  167 May 28  2019 gmp
drwxr-xr-x.  3 1000 1000 4096 May 28  2019 hash
drwxr-xr-x.  3 1000 1000  124 May 28  2019 iconv
drwxr-xr-x.  3 1000 1000  133 May 28  2019 imap
drwxr-xr-x.  3 1000 1000  249 May 28  2019 interbase
drwxr-xr-x. 21 1000 1000 4096 May 28  2019 intl
drwxr-xr-x.  3 1000 1000 4096 May 28  2019 json
drwxr-xr-x.  3 1000 1000  145 May 28  2019 ldap
drwxr-xr-x.  3 1000 1000  129 May 28  2019 libxml
drwxr-xr-x.  6 1000 1000 4096 May 28  2019 mbstring
drwxr-xr-x.  3 1000 1000  167 May 28  2019 mcrypt
drwxr-xr-x.  3 1000 1000 4096 May 28  2019 mysqli
drwxr-xr-x.  2 1000 1000 4096 May 28  2019 mysqlnd
drwxr-xr-x.  3 1000 1000 4096 May 28  2019 oci8
drwxr-xr-x.  3 1000 1000  172 May 28  2019 odbc
drwxr-xr-x.  4 1000 1000 4096 May 28  2019 opcache
drwxr-xr-x.  3 1000 1000  157 May 28  2019 openssl
drwxr-xr-x.  3 1000 1000  180 May 28  2019 pcntl
drwxr-xr-x.  4 1000 1000  165 May 28  2019 pcre
drwxr-xr-x.  3 1000 1000 4096 May 28  2019 pdo
drwxr-xr-x.  3 1000 1000  214 May 28  2019 pdo_dblib
drwxr-xr-x.  3 1000 1000  220 May 28  2019 pdo_firebird
drwxr-xr-x.  3 1000 1000  264 May 28  2019 pdo_mysql
drwxr-xr-x.  3 1000 1000  195 May 28  2019 pdo_oci
drwxr-xr-x.  3 1000 1000  215 May 28  2019 pdo_odbc
drwxr-xr-x.  3 1000 1000  205 May 28  2019 pdo_pgsql
drwxr-xr-x.  3 1000 1000  210 May 28  2019 pdo_sqlite
drwxr-xr-x.  3 1000 1000  157 May 28  2019 pgsql
drwxr-xr-x.  4 1000 1000 4096 May 28  2019 phar
drwxr-xr-x.  3 1000 1000  104 May 28  2019 posix
drwxr-xr-x.  3 1000 1000  119 May 28  2019 pspell
drwxr-xr-x.  3 1000 1000  175 May 28  2019 readline
drwxr-xr-x.  3 1000 1000  105 May 28  2019 recode
drwxr-xr-x.  3 1000 1000  117 May 28  2019 reflection
drwxr-xr-x.  3 1000 1000 4096 May 28  2019 session
drwxr-xr-x.  3 1000 1000  156 May 28  2019 shmop
drwxr-xr-x.  4 1000 1000  198 May 28  2019 simplexml
drwxr-xr-x.  3 1000 1000  134 May 28  2019 skeleton
drwxr-xr-x.  3 1000 1000  101 May 28  2019 snmp
drwxr-xr-x.  4 1000 1000 4096 May 28  2019 soap
drwxr-xr-x.  3 1000 1000 4096 May 28  2019 sockets
drwxr-xr-x.  5 1000 1000 4096 May 28  2019 spl
drwxr-xr-x.  4 1000 1000  154 May 28  2019 sqlite3
drwxr-xr-x.  4 1000 1000 4096 May 28  2019 standard
drwxr-xr-x.  3 1000 1000  108 May 28  2019 sysvmsg
drwxr-xr-x.  3 1000 1000  108 May 28  2019 sysvsem
drwxr-xr-x.  3 1000 1000  126 May 28  2019 sysvshm
drwxr-xr-x.  4 1000 1000  170 May 28  2019 tidy
drwxr-xr-x.  3 1000 1000  225 May 28  2019 tokenizer
drwxr-xr-x.  3 1000 1000  142 May 28  2019 wddx
drwxr-xr-x.  3 1000 1000  171 May 28  2019 xml
drwxr-xr-x.  4 1000 1000  176 May 28  2019 xmlreader
drwxr-xr-x.  4 1000 1000  150 May 28  2019 xmlrpc
drwxr-xr-x.  4 1000 1000  182 May 28  2019 xmlwriter
drwxr-xr-x.  3 1000 1000  142 May 28  2019 xsl
drwxr-xr-x.  5 1000 1000  184 May 28  2019 zip
drwxr-xr-x.  3 1000 1000  218 May 28  2019 zlib
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# curl -L -o /tmp/redis.tar.gz https://github.com/phpredis/phpredis/archive/refs/tags/5.3.7.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   134    0   134    0     0    103      0 --:--:--  0:00:01 --:--:--   103
100  287k    0  287k    0     0   133k      0 --:--:--  0:00:02 --:--:--  501k
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# tar xfz /tmp/redis.tar.gz
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# ls /tmp
redis.tar.gz                           sess_954a1818d858b66e53d3cdd852d63b13
sess_516869f4cb944e0c34d02a53b90a53a6  sess_o9no55lphsk9m64efocd6bcf0s
sess_65fd0b6c6dcdef71f1d1cba393f79368
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# ls -l
total 4
drwxrwxr-x. 7 root root 4096 Feb 16 02:28 phpredis-5.3.7
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# mv phpredis-5.3.7 /usr/src/php/ext/redis
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# docker-php-ext-install redis
Configuring for:
PHP Api Version:         20160303
Zend Module Api No:      20160303
Zend Extension Api No:   320160303
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking target system type... x86_64-pc-linux-gnu
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20160303
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... nawk
checking if nawk is broken... no
checking whether to enable redis support... yes, shared
checking whether to enable sessions... yes
checking whether to enable json serializer support... yes
checking whether to enable igbinary serializer support... no
checking whether to enable msgpack serializer support... no
checking whether to enable lzf compression... no
checking use system liblzf... no
checking whether to enable Zstd compression... no
checking use system libsztd... yes
checking whether to enable lz4 compression... no
checking use system liblz4... no
checking for hash includes... /usr/local/include/php
checking for json includes... /usr/local/include/php
checking for redis json support... enabled
checking for redis igbinary support... disabled
checking for pkg-config... /usr/bin/pkg-config
checking for git... no
checking for ld used by cc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognize dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 1572864
checking command to parse /usr/bin/nm -B output from cc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if cc supports -fno-rtti -fno-exceptions... no
checking for cc option to produce PIC... -fPIC
checking if cc PIC flag -fPIC works... yes
checking if cc static flag -static works... yes
checking if cc supports -c -o file.o... yes
checking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no

creating libtool
appending configuration tag "CXX" to libtool
configure: creating ./config.status
config.status: creating config.h
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/redis.c -o redis.lo
mkdir .libs
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/redis.c  -fPIC -DPIC -o .libs/redis.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/redis_commands.c -o redis_commands.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/redis_commands.c  -fPIC -DPIC -o .libs/redis_commands.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/library.c -o library.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/library.c  -fPIC -DPIC -o .libs/library.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/redis_session.c -o redis_session.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/redis_session.c  -fPIC -DPIC -o .libs/redis_session.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/redis_array.c -o redis_array.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/redis_array.c  -fPIC -DPIC -o .libs/redis_array.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/redis_array_impl.c -o redis_array_impl.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/redis_array_impl.c  -fPIC -DPIC -o .libs/redis_array_impl.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/redis_cluster.c -o redis_cluster.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/redis_cluster.c  -fPIC -DPIC -o .libs/redis_cluster.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/cluster_library.c -o cluster_library.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/cluster_library.c  -fPIC -DPIC -o .libs/cluster_library.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/redis_sentinel.c -o redis_sentinel.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/redis_sentinel.c  -fPIC -DPIC -o .libs/redis_sentinel.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/sentinel_library.c -o sentinel_library.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/sentinel_library.c  -fPIC -DPIC -o .libs/sentinel_library.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=compile cc  -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/redis/backoff.c -o backoff.lo
 cc -I. -I/usr/src/php/ext/redis -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/redis/backoff.c  -fPIC -DPIC -o .libs/backoff.o
/bin/bash /usr/src/php/ext/redis/libtool --mode=link cc -DPHP_ATOM_INC -I/usr/src/php/ext/redis/include -I/usr/src/php/ext/redis/main -I/usr/src/php/ext/redis -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -I/usr/local/include/php/ext  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2  -Wl,-O1 -Wl,--hash-style=both -pie -o redis.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/redis/modules  redis.lo redis_commands.lo library.lo redis_session.lo redis_array.lo redis_array_impl.lo redis_cluster.lo cluster_library.lo redis_sentinel.lo sentinel_library.lo backoff.lo
cc -shared  .libs/redis.o .libs/redis_commands.o .libs/library.o .libs/redis_session.o .libs/redis_array.o .libs/redis_array_impl.o .libs/redis_cluster.o .libs/cluster_library.o .libs/redis_sentinel.o .libs/sentinel_library.o .libs/backoff.o   -Wl,-O1 -Wl,--hash-style=both -Wl,-soname -Wl,redis.so -o .libs/redis.so
creating redis.la
(cd .libs && rm -f redis.la && ln -s ../redis.la redis.la)
/bin/bash /usr/src/php/ext/redis/libtool --mode=install cp ./redis.la /usr/src/php/ext/redis/modules
cp ./.libs/redis.so /usr/src/php/ext/redis/modules/redis.so
cp ./.libs/redis.lai /usr/src/php/ext/redis/modules/redis.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/redis/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/redis/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20160303/
find . -name \*.gcno -o -name \*.gcda | xargs rm -f
find . -name \*.lo -o -name \*.o | xargs rm -f
find . -name \*.la -o -name \*.a | xargs rm -f
find . -name \*.so | xargs rm -f
find . -name .libs -a -type d|xargs rm -rf
rm -f libphp.la       modules/* libs/*
root@83199b3ed9ba:~#
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# php -m
[PHP Modules]
bcmath
Core
ctype
curl
date
dom
fileinfo
filter
ftp
gd
hash
iconv
json
libxml
mbstring
mysqli
mysqlnd
openssl
pcre
PDO
pdo_mysql
pdo_sqlite
Phar
posix
readline
redis
Reflection
session
SimpleXML
SPL
sqlite3
standard
tokenizer
xml
xmlreader
xmlwriter
zlib

[Zend Modules]

root@83199b3ed9ba:~#
root@83199b3ed9ba:~# php --ri redis

redis

Redis Support => enabled
Redis Version => 5.3.7
Redis Sentinel Version => 0.1
Available serializers => php, json

Directive => Local Value => Master Value
redis.arrays.algorithm => no value => no value
redis.arrays.auth => no value => no value
redis.arrays.autorehash => 0 => 0
redis.arrays.connecttimeout => 0 => 0
redis.arrays.distributor => no value => no value
redis.arrays.functions => no value => no value
redis.arrays.hosts => no value => no value
redis.arrays.index => 0 => 0
redis.arrays.lazyconnect => 0 => 0
redis.arrays.names => no value => no value
redis.arrays.pconnect => 0 => 0
redis.arrays.previous => no value => no value
redis.arrays.readtimeout => 0 => 0
redis.arrays.retryinterval => 0 => 0
redis.arrays.consistent => 0 => 0
redis.clusters.cache_slots => 0 => 0
redis.clusters.auth => no value => no value
redis.clusters.persistent => 0 => 0
redis.clusters.read_timeout => 0 => 0
redis.clusters.seeds => no value => no value
redis.clusters.timeout => 0 => 0
redis.pconnect.pooling_enabled => 1 => 1
redis.pconnect.connection_limit => 0 => 0
redis.pconnect.echo_check_liveness => 1 => 1
redis.pconnect.pool_detect_dirty => 0 => 0
redis.pconnect.pool_poll_timeout => 0 => 0
redis.pconnect.pool_pattern => no value => no value
redis.session.locking_enabled => 0 => 0
redis.session.lock_expire => 0 => 0
redis.session.lock_retries => 10 => 10
redis.session.lock_wait_time => 2000 => 2000
root@83199b3ed9ba:~#
```

**方式二**

用 PEAR 编译共享 PECL 扩展库

Pecl 全称 The PHP Extension Community Library，php 社区扩展库，由社区编写，维护。
使用 pecl 方便之处在于我们不用到处找源码包下载编译，配置，不用手动 phpize,configure,make,make install, 
自动识别模块安装路径，我们只需要编辑 php.ini 配置文件开启扩展，当然我们也需要自己配置一些参数的时候可以先下载源码再构建。

> pecl install redis-4.3.0
> 
> docker-php-ext-enable redis

**方式三**

用 phpize 编译共享 PECL 扩展库

#### swoole拓展安装

安装过程中，有四个可选依赖拓展：
* sockets
* openssl
* http2
* mysqlnd

如果sockets拓展没有安装，可以安装下：
> docker-php-ext-install sockets

swoole拓展对php版本有要求，swoole-4.6版本以上需要php7.2，我们这里安装swoole-4.5.10：
> pecl install swoole-4.5.10

启用swoole拓展：
> docker-php-ext-enable swoole

```
root@83199b3ed9ba:~# pecl install swoole-4.5.10
............选择可选依赖 sockets，openssl，http2，mysqlnd ...................
............................大段输出............................
Build process completed successfully
Installing '/usr/local/lib/php/extensions/no-debug-non-zts-20160303/swoole.so'
Installing '/usr/local/include/php/ext/swoole/config.h'
install ok: channel://pecl.php.net/swoole-4.5.10
configuration option "php_ini" is not set to php.ini location
You should add "extension=swoole.so" to php.ini
root@83199b3ed9ba:~# 
root@83199b3ed9ba:~# docker-php-ext-enable swoole
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# php -m
[PHP Modules]
bcmath
Core
ctype
curl
date
dom
fileinfo
filter
ftp
gd
hash
iconv
json
libxml
mbstring
mysqli
mysqlnd
openssl
pcre
PDO
pdo_mysql
pdo_sqlite
Phar
posix
readline
redis
Reflection
session
SimpleXML
sockets
SPL
sqlite3
standard
swoole
tokenizer
xml
xmlreader
xmlwriter
zlib

[Zend Modules]

root@83199b3ed9ba:~#
```

重启容器。

#### composer安装

在php容器内，安装composer。

查看PHP版本
> php -v

查看PHP有没有Phar拓展包，composer安装时会用到
> php -m

到/usr/local/src下操作
> cd /usr/local/src

下载composer安装包
> php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"

校验下载的包，可以不执行(与发行版本有关)
> php -r "if (hash_file('SHA384', 'composer-setup.php') === '544e09ee996cdf60ece3804abc52599c22b1f40f4323403c44d44fdfdd586475ca9813a858088ffbc1f233e9b180f061') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"

安装
> php composer-setup.php

移除安装包
> php -r "unlink('composer-setup.php');" 

查看PATH路径
> cat /etc/profile

移动到环境搜索目录下，重命名为composer
> mv composer.phar /usr/local/bin/composer

查看composer版本
> composer -v

查看当前源地址
> composer config -g -l repo.packagist

设置国内包源
> composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/

具体操作如下：
```
root@83199b3ed9ba:~# php -v
PHP 7.1.30 (cli) (built: Jul 13 2019 00:37:03) ( NTS )
Copyright (c) 1997-2018 The PHP Group
Zend Engine v3.1.0, Copyright (c) 1998-2018 Zend Technologies
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# php -m
[PHP Modules]
bcmath
Core
ctype
curl
date
dom
fileinfo
filter
ftp
gd
hash
iconv
json
libxml
mbstring
mysqli
mysqlnd
openssl
pcre
PDO
pdo_mysql
pdo_sqlite
Phar
posix
readline
redis
Reflection
session
SimpleXML
sockets
SPL
sqlite3
standard
swoole
tokenizer
xml
xmlreader
xmlwriter
zlib

[Zend Modules]

root@83199b3ed9ba:~#
root@83199b3ed9ba:~# whereis php
php: /usr/local/bin/php /usr/local/etc/php /usr/local/lib/php /usr/local/php /usr/src/php/                       php.ini-production /usr/src/php/php.gif /usr/src/php/php.ini-development
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# which php
/usr/local/bin/php
root@83199b3ed9ba:~#
root@83199b3ed9ba:~# 
root@83199b3ed9ba:~# cd /usr/local/src
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# ls
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"      
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# ls
composer-setup.php
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# php -r "if (hash_file('SHA384', 'composer-setup.php') === '544e09ee996cdf60ece 3804abc52599c22b1f40f4323403c44d44fdfdd586475ca9813a858088ffbc1f233e9b180f061') { echo 'Installer verified'; } e lse { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"
Installer corrupt
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# php composer-setup.php
Could not open input file: composer-setup.php
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# ls
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# php composer-setup.php
All settings correct for using Composer
Downloading...

Composer (version 2.2.7) successfully installed to: /usr/local/src/composer.phar
Use it: php composer.phar

root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# ls
composer-setup.php  composer.phar
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# php -r "unlink('composer-setup.php');"
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# cat /etc/profile
# /etc/profile: system-wide .profile file for the Bourne shell (sh(1))
# and Bourne compatible shells (bash(1), ksh(1), ash(1), ...).

if [ "`id -u`" -eq 0 ]; then
  PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
else
  PATH="/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games"
fi
export PATH

if [ "${PS1-}" ]; then
  if [ "${BASH-}" ] && [ "$BASH" != "/bin/sh" ]; then
    # The file bash.bashrc already sets the default PS1.
    # PS1='\h:\w\$ '
    if [ -f /etc/bash.bashrc ]; then
      . /etc/bash.bashrc
    fi
  else
    if [ "`id -u`" -eq 0 ]; then
      PS1='# '
    else
      PS1='$ '
    fi
  fi
fi

if [ -d /etc/profile.d ]; then
  for i in /etc/profile.d/*.sh; do
    if [ -r $i ]; then
      . $i
    fi
  done
  unset i
fi
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# mv composer.phar /usr/local/bin/composer
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# composer -v
   ______
  / ____/___  ____ ___  ____  ____  ________  _____
 / /   / __ \/ __ `__ \/ __ \/ __ \/ ___/ _ \/ ___/
/ /___/ /_/ / / / / / / /_/ / /_/ (__  )  __/ /
\____/\____/_/ /_/ /_/ .___/\____/____/\___/_/
                    /_/
Composer version 2.2.7 2022-02-25 11:12:27

Usage:
  command [options] [arguments]

Options:
  -h, --help                     Display this help message
  -q, --quiet                    Do not output any message
  -V, --version                  Display this application version
      --ansi                     Force ANSI output
      --no-ansi                  Disable ANSI output
  -n, --no-interaction           Do not ask any interactive question
      --profile                  Display timing and memory usage information
      --no-plugins               Whether to disable plugins.
      --no-scripts               Skips the execution of all scripts defined in composer.json file.
  -d, --working-dir=WORKING-DIR  If specified, use the given directory as working directory.
      --no-cache                 Prevent use of the cache
  -v|vv|vvv, --verbose           Increase the verbosity of messages: 1 for normal output, 2 for more verbose out put and 3 for debug

Available commands:
  about                Shows a short information about Composer.
  archive              Creates an archive of this composer package.
  browse               Opens the package's repository URL or homepage in your browser.
  cc                   Clears composer's internal package cache.
  check-platform-reqs  Check that platform requirements are satisfied.
  clear-cache          Clears composer's internal package cache.
  clearcache           Clears composer's internal package cache.
  config               Sets config options.
  create-project       Creates new project from a package into given directory.
  depends              Shows which packages cause the given package to be installed.
  diagnose             Diagnoses the system to identify common errors.
  dump-autoload        Dumps the autoloader.
  dumpautoload         Dumps the autoloader.
  exec                 Executes a vendored binary/script.
  fund                 Discover how to help fund the maintenance of your dependencies.
  global               Allows running commands in the global composer dir ($COMPOSER_HOME).
  help                 Displays help for a command
  home                 Opens the package's repository URL or homepage in your browser.
  i                    Installs the project dependencies from the composer.lock file if present, or falls back o n the composer.json.
  info                 Shows information about packages.
  init                 Creates a basic composer.json file in current directory.
  install              Installs the project dependencies from the composer.lock file if present, or falls back o n the composer.json.
  licenses             Shows information about licenses of dependencies.
  list                 Lists commands
  outdated             Shows a list of installed packages that have updates available, including their latest ve rsion.
  prohibits            Shows which packages prevent the given package from being installed.
  reinstall            Uninstalls and reinstalls the given package names
  remove               Removes a package from the require or require-dev.
  require              Adds required packages to your composer.json and installs them.
  run                  Runs the scripts defined in composer.json.
  run-script           Runs the scripts defined in composer.json.
  search               Searches for packages.
  self-update          Updates composer.phar to the latest version.
  selfupdate           Updates composer.phar to the latest version.
  show                 Shows information about packages.
  status               Shows a list of locally modified packages.
  suggests             Shows package suggestions.
  u                    Upgrades your dependencies to the latest version according to composer.json, and updates  the composer.lock file.
  update               Upgrades your dependencies to the latest version according to composer.json, and updates  the composer.lock file.
  upgrade              Upgrades your dependencies to the latest version according to composer.json, and updates  the composer.lock file.
  validate             Validates a composer.json and composer.lock.
  why                  Shows which packages cause the given package to be installed.
  why-not              Shows which packages prevent the given package from being installed.
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# composer config -g -l repo.packagist
[repositories.packagist.org.type] composer
[repositories.packagist.org.url] https://repo.packagist.org
[process-timeout] 300
[use-include-path] false
[allow-plugins]
[use-parent-dir] prompt
[preferred-install] dist
[notify-on-install] true
[github-protocols] [https, ssh]
[gitlab-protocol]
[vendor-dir] vendor (/usr/local/src/vendor)
[bin-dir] {$vendor-dir}/bin (/usr/local/src/vendor/bin)
[cache-dir] /root/.composer/cache
[data-dir] /root/.composer
[cache-files-dir] {$cache-dir}/files (/root/.composer/cache/files)
[cache-repo-dir] {$cache-dir}/repo (/root/.composer/cache/repo)
[cache-vcs-dir] {$cache-dir}/vcs (/root/.composer/cache/vcs)
[cache-ttl] 15552000
[cache-files-ttl] 15552000
[cache-files-maxsize] 300MiB (314572800)
[cache-read-only] false
[bin-compat] auto
[discard-changes] false
[autoloader-suffix]
[sort-packages] false
[optimize-autoloader] false
[classmap-authoritative] false
[apcu-autoloader] false
[prepend-autoloader] true
[github-domains] [github.com]
[bitbucket-expose-hostname] true
[disable-tls] false
[secure-http] true
[cafile]
[capath]
[github-expose-hostname] true
[gitlab-domains] [gitlab.com]
[store-auths] prompt
[archive-format] tar
[archive-dir] .
[htaccess-protect] true
[use-github-api] true
[lock] true
[platform-check] php-only
[home] /root/.composer
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src# composer config -g -l repo.packagist
[repositories.packagist.org.type] composer
[repositories.packagist.org.url] https://mirrors.aliyun.com/composer/
[process-timeout] 300
[use-include-path] false
[allow-plugins]
[use-parent-dir] prompt
[preferred-install] dist
[notify-on-install] true
[github-protocols] [https, ssh]
[gitlab-protocol]
[vendor-dir] vendor (/usr/local/src/vendor)
[bin-dir] {$vendor-dir}/bin (/usr/local/src/vendor/bin)
[cache-dir] /root/.composer/cache
[data-dir] /root/.composer
[cache-files-dir] {$cache-dir}/files (/root/.composer/cache/files)
[cache-repo-dir] {$cache-dir}/repo (/root/.composer/cache/repo)
[cache-vcs-dir] {$cache-dir}/vcs (/root/.composer/cache/vcs)
[cache-ttl] 15552000
[cache-files-ttl] 15552000
[cache-files-maxsize] 300MiB (314572800)
[cache-read-only] false
[bin-compat] auto
[discard-changes] false
[autoloader-suffix]
[sort-packages] false
[optimize-autoloader] false
[classmap-authoritative] false
[apcu-autoloader] false
[prepend-autoloader] true
[github-domains] [github.com]
[bitbucket-expose-hostname] true
[disable-tls] false
[secure-http] true
[cafile]
[capath]
[github-expose-hostname] true
[gitlab-domains] [gitlab.com]
[store-auths] prompt
[archive-format] tar
[archive-dir] .
[htaccess-protect] true
[use-github-api] true
[lock] true
[platform-check] php-only
[home] /root/.composer
root@83199b3ed9ba:/usr/local/src#
root@83199b3ed9ba:/usr/local/src#
```


### 安装nginx

> docker pull nginx

```
[root@localhost ~]# docker pull nginx
Using default tag: latest
Trying to pull repository docker.io/library/nginx ...
latest: Pulling from docker.io/library/nginx
5eb5b503b376: Pull complete
1ae07ab881bd: Pull complete
78091884b7be: Pull complete
091c283c6a66: Pull complete
55de5851019b: Pull complete
b559bad762be: Pull complete
Digest: sha256:2834dc507516af02784808c5f48b7cbe38b8ed5d0f4837f16e78d00deb7e7767
Status: Downloaded newer image for docker.io/nginx:latest
[root@localhost ~]#
[root@localhost ~]# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
docker.io/nginx     latest              c316d5a335a5        3 weeks ago         142 MB
docker.io/php       7.1.30-fpm          0b13895891aa        2 years ago         391 MB
[root@localhost ~]#
[root@localhost ~]#
```

创建容器并运行：
```
docker run --name server-nginx -p 80:80 -v /media/sf_www:/usr/share/nginx/html -v /etc/localtime:/etc/localtime:ro --link server-php:php --privileged=true -d nginx
```

```
[root@localhost ~]# docker run --name server-nginx -p 80:80 -v /media/sf_www:/usr/share/nginx/html -v /etc/localtime:/etc/localtime:ro --link server-php:php --privileged=true -d nginx
813daeef096da35779aad49277aec10ee9cfff59c48bf230680595c6e6a6445d
[root@localhost ~]#
[root@localhost ~]# docker ps -a
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES
813daeef096d        nginx               "/docker-entrypoin..."   6 seconds ago       Up 4 seconds        0.0.0.0:80->80/tcp       server-nginx
83199b3ed9ba        php:7.1.30-fpm      "docker-php-entryp..."   31 minutes ago      Up 31 minutes       0.0.0.0:9000->9000/tcp   server-php
[root@localhost ~]#
```

进入server-nginx容器：
> docker exec -it server-nginx /bin/bash

```
[root@localhost ~]# docker exec -it server-nginx /bin/bash
root@813daeef096d:/#
root@813daeef096d:/# ls -l /etc/nginx
total 24
drwxr-xr-x. 1 root root   26 Feb 18 10:43 conf.d
-rw-r--r--. 1 root root 1007 Jan 25 23:03 fastcgi_params
-rw-r--r--. 1 root root 5349 Jan 25 23:03 mime.types
lrwxrwxrwx. 1 root root   22 Jan 25 23:13 modules -> /usr/lib/nginx/modules
-rw-r--r--. 1 root root  648 Jan 25 23:13 nginx.conf
-rw-r--r--. 1 root root  636 Jan 25 23:03 scgi_params
-rw-r--r--. 1 root root  664 Jan 25 23:03 uwsgi_params
root@813daeef096d:/#
root@813daeef096d:/# cat /etc/nginx/nginx.conf

user  nginx;
worker_processes  auto;

error_log  /var/log/nginx/error.log notice;
pid        /var/run/nginx.pid;


events {
    worker_connections  1024;
}


http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    keepalive_timeout  65;

    #gzip  on;

    include /etc/nginx/conf.d/*.conf;
}
root@813daeef096d:/#
root@813daeef096d:/# ls -l /etc/nginx/conf.d/
total 4
-rw-r--r--. 1 root root 1093 Feb 17 12:07 default.conf
root@813daeef096d:/#
root@813daeef096d:/# cat /etc/nginx/conf.d/default.conf
server {
    listen       80;
    listen  [::]:80;
    server_name  localhost;

    #access_log  /var/log/nginx/host.access.log  main;

    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }

    #error_page  404              /404.html;

    # redirect server error pages to the static page /50x.html
    #
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }

    # proxy the PHP scripts to Apache listening on 127.0.0.1:80
    #
    #location ~ \.php$ {
    #    proxy_pass   http://127.0.0.1;
    #}

    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
    #
    #location ~ \.php$ {
    #    root           html;
    #    fastcgi_pass   127.0.0.1:9000;
    #    fastcgi_index  index.php;
    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
    #    include        fastcgi_params;
    #}

    # deny access to .htaccess files, if Apache's document root
    # concurs with nginx's one
    #
    #location ~ /\.ht {
    #    deny  all;
    #}
}

root@813daeef096d:/#
root@813daeef096d:/#
```

容器内没有 vi、vim ,我们安装后，再编辑 nginx 配置文件。

#### vim安装

容器内 apt 更新：
```
root@b49c3e70492f:/# apt -v
apt 2.2.4 (amd64)
root@b49c3e70492f:/#
root@b49c3e70492f:/# apt-get update
Get:1 http://security.debian.org/debian-security bullseye-security InRelease [44.1 kB]
Get:2 http://deb.debian.org/debian bullseye InRelease [116 kB]
Get:3 http://deb.debian.org/debian bullseye-updates InRelease [39.4 kB]
Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]
Get:5 http://security.debian.org/debian-security bullseye-security/main amd64 Packages [119 kB]
Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [2596 B]
Fetched 8504 kB in 44s (195 kB/s)
Reading package lists... Done
root@b49c3e70492f:/#
root@b49c3e70492f:/# apt -v
apt 2.2.4 (amd64)
root@b49c3e70492f:/#
```

安装 vim：
```
root@ab885b35f165:/# apt install -y vim
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  libgpm2 vim-common vim-runtime xxd
Suggested packages:
  gpm ctags vim-doc vim-scripts
The following NEW packages will be installed:
  libgpm2 vim vim-common vim-runtime xxd
0 upgraded, 5 newly installed, 0 to remove and 1 not upgraded.
Need to get 8174 kB of archives.
After this operation, 36.9 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian bullseye/main amd64 xxd amd64 2:8.2.2434-3+deb11u1 [192 kB]
Get:2 http://deb.debian.org/debian bullseye/main amd64 vim-common all 2:8.2.2434-3+deb11u1 [226 kB]
Get:3 http://deb.debian.org/debian bullseye/main amd64 libgpm2 amd64 1.20.7-8 [35.6 kB]
Get:4 http://deb.debian.org/debian bullseye/main amd64 vim-runtime all 2:8.2.2434-3+deb11u1 [6226 kB]
Get:5 http://deb.debian.org/debian bullseye/main amd64 vim amd64 2:8.2.2434-3+deb11u1 [1494 kB]
Fetched 8174 kB in 2min 7s (64.5 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package xxd.
(Reading database ... 7815 files and directories currently installed.)
Preparing to unpack .../xxd_2%3a8.2.2434-3+deb11u1_amd64.deb ...
Unpacking xxd (2:8.2.2434-3+deb11u1) ...
Selecting previously unselected package vim-common.
Preparing to unpack .../vim-common_2%3a8.2.2434-3+deb11u1_all.deb ...
Unpacking vim-common (2:8.2.2434-3+deb11u1) ...
Selecting previously unselected package libgpm2:amd64.
Preparing to unpack .../libgpm2_1.20.7-8_amd64.deb ...
Unpacking libgpm2:amd64 (1.20.7-8) ...
Selecting previously unselected package vim-runtime.
Preparing to unpack .../vim-runtime_2%3a8.2.2434-3+deb11u1_all.deb ...
Adding 'diversion of /usr/share/vim/vim82/doc/help.txt to /usr/share/vim/vim82/doc/help.txt.vim-tiny by vim-runtime'
Adding 'diversion of /usr/share/vim/vim82/doc/tags to /usr/share/vim/vim82/doc/tags.vim-tiny by vim-runtime'
Unpacking vim-runtime (2:8.2.2434-3+deb11u1) ...
Selecting previously unselected package vim.
Preparing to unpack .../vim_2%3a8.2.2434-3+deb11u1_amd64.deb ...
Unpacking vim (2:8.2.2434-3+deb11u1) ...
Setting up libgpm2:amd64 (1.20.7-8) ...
Setting up xxd (2:8.2.2434-3+deb11u1) ...
Setting up vim-common (2:8.2.2434-3+deb11u1) ...
Setting up vim-runtime (2:8.2.2434-3+deb11u1) ...
Setting up vim (2:8.2.2434-3+deb11u1) ...
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/da/man1/vi.1.gz because associated file /usr/share/man/da/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/de/man1/vi.1.gz because associated file /usr/share/man/de/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/fr/man1/vi.1.gz because associated file /usr/share/man/fr/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/it/man1/vi.1.gz because associated file /usr/share/man/it/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ja/man1/vi.1.gz because associated file /usr/share/man/ja/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/pl/man1/vi.1.gz because associated file /usr/share/man/pl/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ru/man1/vi.1.gz because associated file /usr/share/man/ru/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/vi.1.gz because associated file /usr/share/man/man1/vim.1.gz (of link group vi) doesn't exist
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/da/man1/view.1.gz because associated file /usr/share/man/da/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/de/man1/view.1.gz because associated file /usr/share/man/de/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/fr/man1/view.1.gz because associated file /usr/share/man/fr/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/it/man1/view.1.gz because associated file /usr/share/man/it/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ja/man1/view.1.gz because associated file /usr/share/man/ja/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/pl/man1/view.1.gz because associated file /usr/share/man/pl/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ru/man1/view.1.gz because associated file /usr/share/man/ru/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/view.1.gz because associated file /usr/share/man/man1/vim.1.gz (of link group view) doesn't exist
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/da/man1/ex.1.gz because associated file /usr/share/man/da/man1/vim.1.gz (of link group ex) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/de/man1/ex.1.gz because associated file /usr/share/man/de/man1/vim.1.gz (of link group ex) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/fr/man1/ex.1.gz because associated file /usr/share/man/fr/man1/vim.1.gz (of link group ex) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/it/man1/ex.1.gz because associated file /usr/share/man/it/man1/vim.1.gz (of link group ex) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ja/man1/ex.1.gz because associated file /usr/share/man/ja/man1/vim.1.gz (of link group ex) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/pl/man1/ex.1.gz because associated file /usr/share/man/pl/man1/vim.1.gz (of link group ex) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ru/man1/ex.1.gz because associated file /usr/share/man/ru/man1/vim.1.gz (of link group ex) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/ex.1.gz because associated file /usr/share/man/man1/vim.1.gz (of link group ex) doesn't exist
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/da/man1/editor.1.gz because associated file /usr/share/man/da/man1/vim.1.gz (of link group editor) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/de/man1/editor.1.gz because associated file /usr/share/man/de/man1/vim.1.gz (of link group editor) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/fr/man1/editor.1.gz because associated file /usr/share/man/fr/man1/vim.1.gz (of link group editor) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/it/man1/editor.1.gz because associated file /usr/share/man/it/man1/vim.1.gz (of link group editor) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ja/man1/editor.1.gz because associated file /usr/share/man/ja/man1/vim.1.gz (of link group editor) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/pl/man1/editor.1.gz because associated file /usr/share/man/pl/man1/vim.1.gz (of link group editor) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/ru/man1/editor.1.gz because associated file /usr/share/man/ru/man1/vim.1.gz (of link group editor) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/editor.1.gz because associated file /usr/share/man/man1/vim.1.gz (of link group editor) doesn't exist
Processing triggers for libc-bin (2.31-13+deb11u2) ...
root@ab885b35f165:/#
```

#### conf配置

编辑 `/etc/nginx/nginx.conf`：
> vim /etc/nginx/nginx.conf

把 `include /etc/nginx/conf.d/*.conf;` 修改为 `include /usr/share/nginx/html/vhost/virtualbox/docker/*.conf;` 。

在 `G:\www\vhost\virtualbox\docker/` 下新建 `test.com.conf` 文件，写入内容：
```
server {
    listen       80;
    server_name  test.com www.test.com;

    location / {
        root   /usr/share/nginx/html/test;
        index  index.htm;
    }

    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }

    location ~ \.php$ {
        root           /var/www/html/test;
        fastcgi_pass   php:9000;
        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
        include        fastcgi_params;
    }
}
```

在 `G:\www\test` 下新建 `index.php` 文件，写入内容：
```
<?php
phpinfo();
```

在 `C:\Windows\System32\drivers\etc\hosts` 文件中追加一行：
```
192.168.56.108    test.com
```

重启server-nginx容器：
> docker restart server-nginx

```
[root@localhost ~]# docker restart server-nginx
server-nginx
[root@localhost ~]#
[root@localhost ~]# docker ps -a
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES
813daeef096d        nginx               "/docker-entrypoin..."   2 hours ago         Up 3 seconds        0.0.0.0:80->80/tcp       server-nginx
83199b3ed9ba        php:7.1.30-fpm      "docker-php-entryp..."   2 hours ago         Up 2 hours          0.0.0.0:9000->9000/tcp   server-php
[root@localhost ~]#
```

浏览器访问 test.com ，显示：403 Forbidden 。

nginx没有文件读取权限。

在虚拟机中查看共享文件夹：
> ls -l /media/sf_www

```
drwxrwx---. 1 root vboxsf  4096 2月  17 14:42 test
```

`chmod 777` 没有效果，虚拟机中装docker，docker中安装nginx，需要配置权限。

#### 权限

查看文件夹属性：
```
root@ab885b35f165:/# ls -l /usr/share/nginx/html
drwxrwx---. 1 root 995     0 Feb 18 09:54  test
root@ab885b35f165:/#
```

新建用户组，把nginx用户追加到该用户组中：
```
root@ab885b35f165:/# cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
irc:x:39:39:ircd:/run/ircd:/usr/sbin/nologin
gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
_apt:x:100:65534::/nonexistent:/usr/sbin/nologin
nginx:x:101:101:nginx user,,,:/nonexistent:/bin/false
root@ab885b35f165:/#
root@ab885b35f165:/# cat /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:
fax:x:21:
voice:x:22:
cdrom:x:24:
floppy:x:25:
tape:x:26:
sudo:x:27:
audio:x:29:
dip:x:30:
www-data:x:33:
backup:x:34:
operator:x:37:
list:x:38:
irc:x:39:
src:x:40:
gnats:x:41:
shadow:x:42:
utmp:x:43:
video:x:44:
sasl:x:45:
plugdev:x:46:
staff:x:50:
games:x:60:
users:x:100:
nogroup:x:65534:
nginx:x:101:
root@ab885b35f165:/#
root@ab885b35f165:/# groupadd -g 995 vboxsf
root@ab885b35f165:/#
root@ab885b35f165:/# cat /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:
fax:x:21:
voice:x:22:
cdrom:x:24:
floppy:x:25:
tape:x:26:
sudo:x:27:
audio:x:29:
dip:x:30:
www-data:x:33:
backup:x:34:
operator:x:37:
list:x:38:
irc:x:39:
src:x:40:
gnats:x:41:
shadow:x:42:
utmp:x:43:
video:x:44:
sasl:x:45:
plugdev:x:46:
staff:x:50:
games:x:60:
users:x:100:
nogroup:x:65534:
nginx:x:101:
vboxsf:x:995:
root@ab885b35f165:/#
root@ab885b35f165:/# usermod -aG vboxsf nginx
root@ab885b35f165:/#
root@ab885b35f165:/# cat /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:
fax:x:21:
voice:x:22:
cdrom:x:24:
floppy:x:25:
tape:x:26:
sudo:x:27:
audio:x:29:
dip:x:30:
www-data:x:33:
backup:x:34:
operator:x:37:
list:x:38:
irc:x:39:
src:x:40:
gnats:x:41:
shadow:x:42:
utmp:x:43:
video:x:44:
sasl:x:45:
plugdev:x:46:
staff:x:50:
games:x:60:
users:x:100:
nogroup:x:65534:
nginx:x:101:
vboxsf:x:995:nginx
root@ab885b35f165:/#
```

配置结束后，重启nginx容器：
> docker restart server-nginx

### 安装Redis

https://blog.csdn.net/qq_29768197/article/details/125275620


### 安装java


```
[root@localhost ~]# docker images
REPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE
box-php7.4                   v1                  71284dbcddde        3 months ago        673 MB
docker.io/mysql              8.0.28              826efd84393b        3 months ago        521 MB
docker.io/php                7.4-fpm             186ff5171cde        3 months ago        460 MB
docker.io/gitlab/gitlab-ce   latest              6f6c9f0dd251        4 months ago        2.39 GB
docker.io/jenkins/jenkins    lts                 306e80c103c6        4 months ago        441 MB
docker.io/registry           latest              9c97225e83c8        4 months ago        24.2 MB
docker.io/nginx              latest              c316d5a335a5        5 months ago        142 MB
docker.io/php                7.1.30-fpm          0b13895891aa        2 years ago         391 MB
[root@localhost ~]#
[root@localhost ~]# docker search java
INDEX       NAME                                           DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
docker.io   docker.io/node                                 Node.js is a JavaScript-based platform for...   11615     [OK]
docker.io   docker.io/tomcat                               Apache Tomcat is an open source implementa...   3345      [OK]
docker.io   docker.io/openjdk                              "Vanilla" builds of OpenJDK (an open-sourc...   3322      [OK]
docker.io   docker.io/java                                 DEPRECATED; use "openjdk" (or other JDK im...   1976      [OK]
docker.io   docker.io/ghost                                Ghost is a free and open source blogging p...   1516      [OK]
docker.io   docker.io/couchdb                              CouchDB is a database that uses JSON for d...   479       [OK]
docker.io   docker.io/jetty                                Jetty provides a Web server and javax.serv...   384       [OK]
docker.io   docker.io/amazoncorretto                       Corretto is a no-cost, production-ready di...   213       [OK]
docker.io   docker.io/circleci/node                        Node.js is a JavaScript-based platform for...   130
docker.io   docker.io/groovy                               Apache Groovy is a multi-faceted language ...   128       [OK]
docker.io   docker.io/ibmjava                              Official IBM® SDK, Java™ Technology Editio...   98        [OK]
docker.io   docker.io/tomee                                Apache TomEE is an all-Apache Java EE cert...   97        [OK]
docker.io   docker.io/ibmcom/ibmjava                       IBM® SDK, Java™ Technology Edition Docker ...   20
docker.io   docker.io/bitnami/java                         Bitnami Java Docker Image                       10                   [OK]
docker.io   docker.io/appdynamics/java-agent               Java Agent for Kubernetes                       6
docker.io   docker.io/amazon/aws-lambda-java               AWS Lambda base images for Java                 5
docker.io   docker.io/circleci/java                        This image is for internal use                  2
docker.io   docker.io/circleci/java-nginx                  Java+nginx image. This image is for intern...   1
docker.io   docker.io/ibmcom/kafka-java-console-sample     Docker image for the IBM Event Streams Jav...   1
docker.io   docker.io/airbyte/java-datadog-tracer-base                                                     0
docker.io   docker.io/cockroachdb/postgres-test            An environment to run the CockroachDB acce...   0                    [OK]
docker.io   docker.io/datadog/dd-trace-java-docker-build   Docker container to build Java APM Tracer       0                    [OK]
docker.io   docker.io/ibmcom/java-acceleration-amd64                                                       0
docker.io   docker.io/ibmcom/java-websphere-traditional                                                    0
docker.io   docker.io/kasmweb/java-dev                     Ubuntu Java development desktop for Kasm W...   0
[root@localhost ~]#
[root@localhost ~]#
[root@localhost ~]# docker pull java
Using default tag: latest
Trying to pull repository docker.io/library/java ...
latest: Pulling from docker.io/library/java
5040bd298390: Pull complete
fce5728aad85: Pull complete
76610ec20bf5: Pull complete
60170fec2151: Pull complete
e98f73de8f0d: Pull complete
11f7af24ed9c: Pull complete
49e2d6393f32: Pull complete
bb9cdec9c7f3: Pull complete
Digest: sha256:c1ff613e8ba25833d2e1940da0940c3824f03f802c449f3d1815a66b7f8c0e9d
Status: Downloaded newer image for docker.io/java:latest
[root@localhost ~]#
[root@localhost ~]# docker images
REPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE
box-php7.4                   v1                  71284dbcddde        3 months ago        673 MB
docker.io/mysql              8.0.28              826efd84393b        3 months ago        521 MB
docker.io/php                7.4-fpm             186ff5171cde        3 months ago        460 MB
docker.io/gitlab/gitlab-ce   latest              6f6c9f0dd251        4 months ago        2.39 GB
docker.io/jenkins/jenkins    lts                 306e80c103c6        4 months ago        441 MB
docker.io/registry           latest              9c97225e83c8        4 months ago        24.2 MB
docker.io/nginx              latest              c316d5a335a5        5 months ago        142 MB
docker.io/php                7.1.30-fpm          0b13895891aa        2 years ago         391 MB
docker.io/java               latest              d23bdf5b1b1b        5 years ago         643 MB
[root@localhost ~]#
[root@localhost ~]#
```

参考看一下 [Runoob Java 开发环境配置](https://www.runoob.com/java/java-environment-setup.html)


<br/><br/><br/><br/><br/>
## 参考资料

docker hub php <https://hub.docker.com/_/php>

docker php安装GD扩展 <https://www.cnblogs.com/xuezhigu/p/13717353.html>

给docker中的PHP安装 gd扩展 <https://blog.csdn.net/qq_25194685/article/details/90407929>

PHP 手册 安装与配置 PECL 扩展库安装 <https://www.php.net/manual/zh/install.pecl.php>

为docker下的php容器安装php-redis扩展 <https://www.cnblogs.com/wyaokai/p/11904701.html>

phpredis 拓展源码github库 <https://github.com/phpredis/phpredis>

Docker pecl安装指定版本的php扩展 <https://www.jianshu.com/p/31c1b296afcd>

Docker php包自带的几个特殊命令详解 <https://www.jianshu.com/p/682e1d35d032>

php 通过 pecl 安装 swoole 扩展 <https://blog.csdn.net/sinat_38878850/article/details/80535350>

PECL 官网 <https://pecl.php.net/>

