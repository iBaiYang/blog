---
layout: post
categories: 网络协议
title: 什么是数据报、字节流、字符流
meta: 什么是数据报、字节流、字符流
---
* content
{:toc}
  
## 正文

在阅读UDP和TCP协议时，会看到数据报、字节流字样，那么什么是数据报、字节流、字符流呢？

### 数据报

![]({{site.baseurl}}/images/20221124/20221124104219.jpg)

数据报是通过网络传输的数据的基本单元，包含一个报头（header）和数据本身，其中报头描述了数据的目的地以及和其它数据之间的关系。
数据报是完备的、独立的数据实体，该实体携带要从源计算机传递到目的计算机的信息，
该信息不依赖以前在源计算机和目的计算机以及传输网络间交换。

### 字节流

字节流是由字节组成的，字符流是由字符组成的。

什么是字节流？传输过程中，传输数据的最基本单位是字节的流，一个不包含边界数据的连续流；字节流是由字节组成的，主要用在处理二进制数据。

什么是字符流？字符流，传输过程中，传输数据的最基本单位是字符的流。

字节流 与 字符流 的区别：

* 字符编码方式不同，有时候一个字符使用的字节数也不一样，比如ASCLL方式编码的字符，占一个字节；
而UTF-8方式编码的字符，一个英文字符需要一个字节，一个中文需要三个字节。
* 字节数据是二进制形式的，要转成我们能识别的正常字符，需要选择正确的编码方式。
我们生活中遇到的乱码问题就是字节数据没有选择正确的编码方式来显示成字符。
* 从本质上来讲，写数据（即输出）的时候，字节也好，字符也好，本质上都是没有标识符的，需要去指定编码方式。
* 但读数据的时候，如果我们需要去“看数据”，那么字节流的数据需要指定字符编码方式，这样我们才能看到我们能识别的字符；
而字符流，因为已经选择好了字符编码方式，通常不需要再改了（除非定义的字符编码方式与数据原有的编码方式不一致！）
* 在传输方面上，由于计算机的传输本质都是字节，而一个字符由多个字节组成，转成字节之前先要去查表转成字节，
所以传输时有时候会使用缓冲区。


### 流

流就是stream. 一个连续的字节队列。

流是程序输入或输出的一个连续的字节序列，设备（例如鼠标，键盘，磁盘，屏幕和打印机）的输入和输出都是用流来处理的。
在C语言中，所有的流均以文件的形式出现，不一定是物理磁盘文件，还可以是对应与某个输入/输出源的逻辑文件

流式传输主要指将整个音频和视频及三维媒体等多媒体文件经过特定的压缩方式解析成一个个压缩包，
由视频服务器向用户计算机顺序或实时传送。



<br/><br/><br/><br/><br/>
## 参考资料

数据报 <https://baike.baidu.com/item/数据报/2194617>

什么是字节流？ <https://www.php.cn/faq/416556.html>

