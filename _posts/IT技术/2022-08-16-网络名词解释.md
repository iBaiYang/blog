---
layout: post
categories: IT技术
title: 网络名词解释
meta: 网络名词解释
---
* content
{:toc}
  
## 正文

桥接 中继 正向代理  反向代理   NET  

### 正向代理

正向代理（前向代理）。

在NAT技术(Network Address Translation)出现之前，所有主机无法直接与外网相连，要想上网，
需要连接到一台能够访问外网的Web服务器，再通过这台服务器访问外网。而这台Web服务器就叫做“正向代理服务器”。

我们把请求发给一台可以连接外面世界的Web服务器，由它转发我们的请求，再将结果返回给我们。
这台Web服务器就是“正向代理服务器”。
           
综上所述：正向代理服务器是客户端和目的服务器之间的一个中介，客户端通过正向代理服务器访问客户端原本无法访问的目标服务器。

### 反向代理

客户端向一个服务器A提交请求后，服务器A偷偷地去服务器B上获取资源，并返回给客户端。
客户端天真地以为数据是服务器A给他的。在这过程中，服务器A称为“反向代理服务器”，服务器B称为反向代理服务器的“后端服务器”。

正向代理、反向代理，两者最直观的区别是在用户的角度。

“正向代理”是用户使用的技术。用户首先是知道自己要访问的目标服务器是谁，但由于某种原因无法直接访问该目标服务器，
因此选择使用正向代理服务器帮忙转发请求。

而“反向代理”是服务器使用的技术。用户向服务器发送请求后，服务器在用户不知情的情况下去其他服务器上获取资源并返回给用户。

**反向代理作用**
* 为负载过高的源服务器减负
* 为地理上分散的区域高效的内容分发（CDN）
* 为包含机密信息的源服务器提供安全屏障


### NAT

NAT（Network Address Translation）模式实际是虚拟了一个网卡出来，虚拟机直接连接这个虚拟网卡，
每次访问和交互通过这个虚拟网卡交换数据。
* 虚拟机发送数据给实体机：虚拟机系统->虚拟网卡->实体机系统；
* 虚拟机访问外网：虚拟机系统->虚拟网卡->实体机系统->真实网卡->路由器->外网。

虚拟机借助 NAT (网络地址转换)功能，通过宿主机器所在的网络来访问公网。 NAT 模式中，虚拟机的网卡和真实网卡的网络，
不需要在同一个网络，虚拟机的网卡的网段可以理解为：路由器所在网段之下的一个子网段。

采用NAT模式最大的优势是虚拟系统接入互联网非常简单，你不需要进行任何其他的配置，只需要宿主机器能访问互联网即可。
如果你想利用VMWare安装一个新的虚拟系统，在虚拟系统中不用进行任何手工配置就能直接访问互联网，建议你采用NAT模式。
而缺点是： NAT 模式下，虚拟机仅仅可以同路由器下网段中的一台真实机通讯，但真实机却无法与该虚拟机通讯，
而这台真实机就是安装虚拟机的这台电脑，之所以可以通讯是因为这台电脑本身充当了虚拟机的路由器，
相当于路由器的 192.168.1.1 这个地址，而你在 VMWare 下的网卡管理中是可以看到这个地址的。

这边再补充一点：采用NAT模式时，虚拟机和实体机交互并不是直接进行的，
首先虚拟机操作系统访问虚拟网卡 VMnet8 （地址如： 192.188.1.33），
然后这个虚拟网卡会再将数据提交给真实机操作系统VMware Network Adapter VMnet8（地址： 192.188.1.1），
而地址（192.188.1.33 和 192.188.1.1）实际都是由虚拟机软件 VMWare 提供的，具体的交互细节不作研究。


### Host-Only

在 Host-Only 模式下，虚拟网络是一个全封闭的网络，它唯一能够访问的就是主机，主机也可以访问虚拟机。
其实 Host-Only 网络和 NAT 网络很相似，不同的地方就是 Host-Only 网络没有 NAT 服务，所以虚拟网络不能连接到 Internet 。
主机和虚拟机之间的通信是通过 VMware Network Adepter VMnet1 虚拟网卡来实现的。

Host-Only 的宗旨就是建立一个与外界隔绝的内部网络，来提高内网的安全性。这个功能或许对普通用户来说没有多大意义，
但大型服务商会常常利用这个功能。如果你想为 VMnet1 网段提供路由功能，那就需要使用RRAS，
而不能使用 XP 或 2000 的 ICS，因为 ICS 会把内网的 IP 地址改为 192.168.0.1，
但虚拟机是不会给 VMnet1 虚拟网卡分配这个地址的，那么主机和虚拟机之间就不能通信了。

### 桥接

桥接是一对设备的桥接，将信号从一个点桥接到另外一个点。中继是两个相隔过远的点或者是两点之间没法直接做桥接。

简而言之桥接就是指：就是通过一台设备（可能不止一个）把几个网络串起来形成的连接。这边主要介绍虚拟机所采用的桥接方式，
虚拟出来的操作系统就像是局域网中的一独立的主机，它可以通过路由器网线访问网内任何一台机器。
不过虚拟机需要占用你同一个网段的一个 IP 地址，当且仅当虚拟机和实体机在同一个网段，两者才可以进行通信，
如：虚拟机 IP：192.168.1.101，实体机 IP：192.168.1.100。

虚拟机采用桥接方式时，是不需要虚拟网卡的，这时候虚拟机操作系统和实体机操作系统同时使用真实网卡工作，
然后真实网卡发送数据出去，而如果虚拟机发送数据给真实机，则数据流向是：虚拟机系统->真实网卡->路由器->真实网卡->实体机系统，
不难看出同一个数据经过网卡在路由器上面绕了一圈又回到了网卡。

通过上述内容发现，桥接必须经过真实网卡和路由器，因此当你的电脑没有链接有线网或者无线网的话，
你的实体机是无法和虚拟机进行交互的，即便看起来两者很近也不行。而选用桥接还是 NAT 等方式是在虚拟机软件中选定，
进入虚拟的操作系统后，所有的设置和真实电脑没有本质区别，如果路由器允许自动分配 IP 地址，
则操作系统设置为自动获取 IP 即可，如果不能自动分配，也可以在操作系统中手动分配 IP 地址。
另外值得注意的是某些公司路由器绑定了电脑 mac 地址和 IP 地址，这时候虚拟机中的桥接也相当于一个真实电脑，
也需要完成相关的绑定才可以访问网络。

可以看出：如果你想利用VMware在局域网内新建一个虚拟服务器，为局域网用户提供网络服务，就应该选择桥接模式。下面举个例子：

例如大学宿舍里有一个路由器，宿舍里四个人连接这个路由器，路由器的 wanip 就不理会了，这个 ip 是动态获取的，
而一般lanip默认是192.168.1.1,子网掩码是255.255.255.0。而其他四个人是自动获取ip，假设四个人的 ip 是:

    A: 192.168.1.100/255.255.255.0,  
    B: 192.168.1.101/255.255.255.0,  
    C: 192.168.1.102/255.255.255.0,  
    D: 192.168.1.103/255.255.255.0

那么虚拟机的ip 可以设置的 ip地址范围 是(网络地址 0 和 1 的除外，再除去 ABCD 四个人的 ip 地址)：

    192.168.1.2 - 192.168.1.99, 
    192.168.1.104 - 192.168.1.254 

假设虚拟机的 ip 地址可以设置为 192.168.1.98/255.255.255.0，设置了这个 ip 地址，
ABCD 这四个人就可以通过 192.168.1.98 访问虚拟机了。
如果虚拟机需要上外网，那么还需要配置虚拟机的路由地址，就是 192.168.1.1 了，这样，虚拟机就可以上外网了。
但是，上网我们一般是通过域名去访问外网的，所以我们还需要为虚拟机配置一个 dns 服务器，
我们可以简单点，把 dns 服务器地址配置为 google 的 dns 服务器：8.8.8.8，到此，虚拟机就可以上网了。

综上所述，同一个数据经过网卡在路由器上面绕了一圈又回到了网卡。而虚拟机的桥接也只在其他电脑需要访问你电脑的虚拟机时，
或者你虚拟机需要访问其他外部设备时才有相关需求，一般情况还是建议配置成操作方便使用简单的 NAT 方式。

### 中继

* 中继模式，就是利用无线路由器之间的无线连接功能，将无线信号从一个中继点传递到下一个中继点，实现信号的增强，并形成新的无线覆盖区域，最终达到延伸无线网络的覆盖范围的目的。事实上，只要有两台支持中继功能的无线路由器，即可拓展网络覆盖范围。

* 无线网桥接是一般是指点对点或者点对多点的信号无线数据传输。一般情况下。主要用于两个不同的地点的小局域网之间的链接。用于远距离网络点对点或者点对多点的数据通讯。

* 并且为了保证桥接的稳定性。一般情况下。当设备开启桥接功能后，会关闭普通网卡的介入功能。即只能点对点通讯。无线设备无法通过无线连接。

* 由于WDS是通过无线网络建立虚拟的“桥”进行连接的，因此你常会听到有人将WDS直接称为“无线桥接”的混淆叫法。但事实上，无线桥接只是WDS的一种常用应用模式，而另外一种常用的模式则是无线中继模式。

* 一般具备WDS功能的无线路由器或无线AP都支持无线中继和无线桥接两种模式。而也有一些无线路由器厂商为了方便家庭用户的使用，并未将这两种模式细分开来，而是统称为“WDS”模式。

* 因此当大家遇到将无线中继和无线桥接模式分开的情况时，鉴于它们工作方式的不同，可根据具体的业务需求进行选用。而对于家庭用户来说，建议使用WDS的无线中继模式来拓展无线覆盖，消除WiFi死角。



<br/><br/><br/><br/><br/>
## 参考资料

桥接、NAT、Host-only的区别 <https://ibaiyang.github.io/blog/linux/2022/02/16/VirtualBox-搭建Centos7.9.html#桥接nathost-only的区别>

正向代理和HTTP重定向 <https://www.lmlphp.com/user/58209/article/item/1575313/>

Nginx配置反向代理 <https://www.cnblogs.com/LiPengFeiii/p/15419676.html>

无线中继和桥接有什么区别 无线中继和桥接区别对比 <https://product.pconline.com.cn/itbk/life/electronic/1802/10834989.html>

